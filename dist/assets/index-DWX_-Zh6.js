(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function R2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _g={exports:{}},pc={};var ub;function I2(){if(ub)return pc;ub=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return pc.Fragment=e,pc.jsx=t,pc.jsxs=t,pc}var fb;function N2(){return fb||(fb=1,_g.exports=I2()),_g.exports}var w=N2(),bg={exports:{}},ke={};var db;function D2(){if(db)return ke;db=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=T&&z[T]||z["@@iterator"],typeof z=="function"?z:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,L={};function H(z,ee,le){this.props=z,this.context=ee,this.refs=L,this.updater=le||O}H.prototype.isReactComponent={},H.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},H.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function V(){}V.prototype=H.prototype;function F(z,ee,le){this.props=z,this.context=ee,this.refs=L,this.updater=le||O}var B=F.prototype=new V;B.constructor=F,M(B,H.prototype),B.isPureReactComponent=!0;var J=Array.isArray;function ae(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(z,ee,le){var de=le.ref;return{$$typeof:n,type:z,key:ee,ref:de!==void 0?de:null,props:le}}function P(z,ee){return N(z.type,ee,z.props)}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function U(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return ee[le]})}var k=/\/+/g;function be(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):ee.toString(36)}function Ge(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ae,ae):(z.status="pending",z.then(function(ee){z.status==="pending"&&(z.status="fulfilled",z.value=ee)},function(ee){z.status==="pending"&&(z.status="rejected",z.reason=ee)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function X(z,ee,le,de,Te){var ye=typeof z;(ye==="undefined"||ye==="boolean")&&(z=null);var Pe=!1;if(z===null)Pe=!0;else switch(ye){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(z.$$typeof){case n:case e:Pe=!0;break;case y:return Pe=z._init,X(Pe(z._payload),ee,le,de,Te)}}if(Pe)return Te=Te(z),Pe=de===""?"."+be(z,0):de,J(Te)?(le="",Pe!=null&&(le=Pe.replace(k,"$&/")+"/"),X(Te,ee,le,"",function(ce){return ce})):Te!=null&&(D(Te)&&(Te=P(Te,le+(Te.key==null||z&&z.key===Te.key?"":(""+Te.key).replace(k,"$&/")+"/")+Pe)),ee.push(Te)),1;Pe=0;var tt=de===""?".":de+":";if(J(z))for(var ue=0;ue<z.length;ue++)de=z[ue],ye=tt+be(de,ue),Pe+=X(de,ee,le,ye,Te);else if(ue=x(z),typeof ue=="function")for(z=ue.call(z),ue=0;!(de=z.next()).done;)de=de.value,ye=tt+be(de,ue++),Pe+=X(de,ee,le,ye,Te);else if(ye==="object"){if(typeof z.then=="function")return X(Ge(z),ee,le,de,Te);throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function oe(z,ee,le){if(z==null)return z;var de=[],Te=0;return X(z,de,"","",function(ye){return ee.call(le,ye,Te++)}),de}function he(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var Se=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},De={map:oe,forEach:function(z,ee,le){oe(z,function(){ee.apply(this,arguments)},le)},count:function(z){var ee=0;return oe(z,function(){ee++}),ee},toArray:function(z){return oe(z,function(ee){return ee})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return ke.Activity=v,ke.Children=De,ke.Component=H,ke.Fragment=t,ke.Profiler=a,ke.PureComponent=F,ke.StrictMode=i,ke.Suspense=m,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,ke.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},ke.cache=function(z){return function(){return z.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(z,ee,le){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var de=M({},z.props),Te=z.key;if(ee!=null)for(ye in ee.key!==void 0&&(Te=""+ee.key),ee)!R.call(ee,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ee.ref===void 0||(de[ye]=ee[ye]);var ye=arguments.length-2;if(ye===1)de.children=le;else if(1<ye){for(var Pe=Array(ye),tt=0;tt<ye;tt++)Pe[tt]=arguments[tt+2];de.children=Pe}return N(z.type,Te,de)},ke.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},ke.createElement=function(z,ee,le){var de,Te={},ye=null;if(ee!=null)for(de in ee.key!==void 0&&(ye=""+ee.key),ee)R.call(ee,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=ee[de]);var Pe=arguments.length-2;if(Pe===1)Te.children=le;else if(1<Pe){for(var tt=Array(Pe),ue=0;ue<Pe;ue++)tt[ue]=arguments[ue+2];Te.children=tt}if(z&&z.defaultProps)for(de in Pe=z.defaultProps,Pe)Te[de]===void 0&&(Te[de]=Pe[de]);return N(z,ye,Te)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(z){return{$$typeof:d,render:z}},ke.isValidElement=D,ke.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:he}},ke.memo=function(z,ee){return{$$typeof:p,type:z,compare:ee===void 0?null:ee}},ke.startTransition=function(z){var ee=C.T,le={};C.T=le;try{var de=z(),Te=C.S;Te!==null&&Te(le,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ae,Se)}catch(ye){Se(ye)}finally{ee!==null&&le.types!==null&&(ee.types=le.types),C.T=ee}},ke.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},ke.use=function(z){return C.H.use(z)},ke.useActionState=function(z,ee,le){return C.H.useActionState(z,ee,le)},ke.useCallback=function(z,ee){return C.H.useCallback(z,ee)},ke.useContext=function(z){return C.H.useContext(z)},ke.useDebugValue=function(){},ke.useDeferredValue=function(z,ee){return C.H.useDeferredValue(z,ee)},ke.useEffect=function(z,ee){return C.H.useEffect(z,ee)},ke.useEffectEvent=function(z){return C.H.useEffectEvent(z)},ke.useId=function(){return C.H.useId()},ke.useImperativeHandle=function(z,ee,le){return C.H.useImperativeHandle(z,ee,le)},ke.useInsertionEffect=function(z,ee){return C.H.useInsertionEffect(z,ee)},ke.useLayoutEffect=function(z,ee){return C.H.useLayoutEffect(z,ee)},ke.useMemo=function(z,ee){return C.H.useMemo(z,ee)},ke.useOptimistic=function(z,ee){return C.H.useOptimistic(z,ee)},ke.useReducer=function(z,ee,le){return C.H.useReducer(z,ee,le)},ke.useRef=function(z){return C.H.useRef(z)},ke.useState=function(z){return C.H.useState(z)},ke.useSyncExternalStore=function(z,ee,le){return C.H.useSyncExternalStore(z,ee,le)},ke.useTransition=function(){return C.H.useTransition()},ke.version="19.2.3",ke}var hb;function Hd(){return hb||(hb=1,bg.exports=D2()),bg.exports}var S=Hd();const xe=R2(S);var Eg={exports:{}},yc={},wg={exports:{}},Tg={};var mb;function k2(){return mb||(mb=1,(function(n){function e(X,oe){var he=X.length;X.push(oe);e:for(;0<he;){var Se=he-1>>>1,De=X[Se];if(0<a(De,oe))X[Se]=oe,X[he]=De,he=Se;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var oe=X[0],he=X.pop();if(he!==oe){X[0]=he;e:for(var Se=0,De=X.length,z=De>>>1;Se<z;){var ee=2*(Se+1)-1,le=X[ee],de=ee+1,Te=X[de];if(0>a(le,he))de<De&&0>a(Te,le)?(X[Se]=Te,X[de]=he,Se=de):(X[Se]=le,X[ee]=he,Se=ee);else if(de<De&&0>a(Te,he))X[Se]=Te,X[de]=he,Se=de;else break e}}return oe}function a(X,oe){var he=X.sortIndex-oe.sortIndex;return he!==0?he:X.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var m=[],p=[],y=1,v=null,T=3,x=!1,O=!1,M=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function B(X){for(var oe=t(p);oe!==null;){if(oe.callback===null)i(p);else if(oe.startTime<=X)i(p),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=t(p)}}function J(X){if(M=!1,B(X),!O)if(t(m)!==null)O=!0,ae||(ae=!0,U());else{var oe=t(p);oe!==null&&Ge(J,oe.startTime-X)}}var ae=!1,C=-1,R=5,N=-1;function P(){return L?!0:!(n.unstable_now()-N<R)}function D(){if(L=!1,ae){var X=n.unstable_now();N=X;var oe=!0;try{e:{O=!1,M&&(M=!1,V(C),C=-1),x=!0;var he=T;try{t:{for(B(X),v=t(m);v!==null&&!(v.expirationTime>X&&P());){var Se=v.callback;if(typeof Se=="function"){v.callback=null,T=v.priorityLevel;var De=Se(v.expirationTime<=X);if(X=n.unstable_now(),typeof De=="function"){v.callback=De,B(X),oe=!0;break t}v===t(m)&&i(m),B(X)}else i(m);v=t(m)}if(v!==null)oe=!0;else{var z=t(p);z!==null&&Ge(J,z.startTime-X),oe=!1}}break e}finally{v=null,T=he,x=!1}oe=void 0}}finally{oe?U():ae=!1}}}var U;if(typeof F=="function")U=function(){F(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,be=k.port2;k.port1.onmessage=D,U=function(){be.postMessage(null)}}else U=function(){H(D,0)};function Ge(X,oe){C=H(function(){X(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(X){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var he=T;T=oe;try{return X()}finally{T=he}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=T;T=X;try{return oe()}finally{T=he}},n.unstable_scheduleCallback=function(X,oe,he){var Se=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Se+he:Se):he=Se,X){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=he+De,X={id:y++,callback:oe,priorityLevel:X,startTime:he,expirationTime:De,sortIndex:-1},he>Se?(X.sortIndex=he,e(p,X),t(m)===null&&X===t(p)&&(M?(V(C),C=-1):M=!0,Ge(J,he-Se))):(X.sortIndex=De,e(m,X),O||x||(O=!0,ae||(ae=!0,U()))),X},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(X){var oe=T;return function(){var he=T;T=oe;try{return X.apply(this,arguments)}finally{T=he}}}})(Tg)),Tg}var gb;function O2(){return gb||(gb=1,wg.exports=k2()),wg.exports}var Sg={exports:{}},bn={};var pb;function M2(){if(pb)return bn;pb=1;var n=Hd();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,bn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},bn.flushSync=function(m){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=y,i.d.f()}},bn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},bn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},bn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:x}):y==="script"&&i.d.X(m,{crossOrigin:v,integrity:T,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},bn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},bn.requestFormReset=function(m){i.d.r(m)},bn.unstable_batchedUpdates=function(m,p){return m(p)},bn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},bn.useFormStatus=function(){return u.H.useHostTransitionStatus()},bn.version="19.2.3",bn}var yb;function WE(){if(yb)return Sg.exports;yb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sg.exports=M2(),Sg.exports}var vb;function L2(){if(vb)return yc;vb=1;var n=O2(),e=Hd(),t=WE();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return m(h),r;if(g===c)return m(h),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=h,c=g;else{for(var b=!1,A=h.child;A;){if(A===o){b=!0,o=h,c=g;break}if(A===c){b=!0,c=h,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,c=h;break}if(A===c){b=!0,c=g,o=h;break}A=A.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function be(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case H:return"Profiler";case L:return"StrictMode";case J:return"Suspense";case ae:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case F:return r.displayName||"Context";case V:return(r._context.displayName||"Context")+".Consumer";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return s=r.displayName||null,s!==null?s:be(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return be(r(s))}catch{}}return null}var Ge=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Se=[],De=-1;function z(r){return{current:r}}function ee(r){0>De||(r.current=Se[De],Se[De]=null,De--)}function le(r,s){De++,Se[De]=r.current,r.current=s}var de=z(null),Te=z(null),ye=z(null),Pe=z(null);function tt(r,s){switch(le(ye,s),le(Te,r),le(de,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?O_(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=O_(s),r=M_(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ee(de),le(de,r)}function ue(){ee(de),ee(Te),ee(ye)}function ce(r){r.memoizedState!==null&&le(Pe,r);var s=de.current,o=M_(s,r.type);s!==o&&(le(Te,r),le(de,o))}function Ke(r){Te.current===r&&(ee(de),ee(Te)),Pe.current===r&&(ee(Pe),dc._currentValue=he)}var dt,xn;function Lt(r){if(dt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);dt=s&&s[1]||"",xn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dt+r+xn}var or=!1;function Mn(r,s){if(!r||or)return"";or=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Z){var Q=Z}Reflect.construct(r,[],re)}else{try{re.call()}catch(Z){Q=Z}r.call(re.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(re=r())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var j=b.split(`
`),Y=A.split(`
`);for(h=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(c===j.length||h===Y.length)for(c=j.length-1,h=Y.length-1;1<=c&&0<=h&&j[c]!==Y[h];)h--;for(;1<=c&&0<=h;c--,h--)if(j[c]!==Y[h]){if(c!==1||h!==1)do if(c--,h--,0>h||j[c]!==Y[h]){var te=`
`+j[c].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=c&&0<=h);break}}}finally{or=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Lt(o):""}function es(r,s){switch(r.tag){case 26:case 27:case 5:return Lt(r.type);case 16:return Lt("Lazy");case 13:return r.child!==s&&s!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return Mn(r.type,!1);case 11:return Mn(r.type.render,!1);case 1:return Mn(r.type,!0);case 31:return Lt("Activity");default:return""}}function ts(r){try{var s="",o=null;do s+=es(r,o),o=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var vt=Object.prototype.hasOwnProperty,at=n.unstable_scheduleCallback,$n=n.unstable_cancelCallback,ns=n.unstable_shouldYield,ra=n.unstable_requestPaint,Jt=n.unstable_now,yi=n.unstable_getCurrentPriorityLevel,ia=n.unstable_ImmediatePriority,lr=n.unstable_UserBlockingPriority,An=n.unstable_NormalPriority,vi=n.unstable_LowPriority,sa=n.unstable_IdlePriority,Gn=n.log,aa=n.unstable_setDisableYieldValue,Kn=null,Yt=null;function pn(r){if(typeof Gn=="function"&&aa(r),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Kn,r)}catch{}}var _t=Math.clz32?Math.clz32:Qa,Ya=Math.log,_i=Math.LN2;function Qa(r){return r>>>=0,r===0?32:31-(Ya(r)/_i|0)|0}var cr=256,bi=262144,je=4194304;function bt(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Et(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var h=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?h=bt(c):(b&=A,b!==0?h=bt(b):o||(o=A&~r,o!==0&&(h=bt(o))))):(A=c&~g,A!==0?h=bt(A):b!==0?h=bt(b):o||(o=c&~r,o!==0&&(h=bt(o)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:h}function Pt(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function yn(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zt(){var r=je;return je<<=1,(je&62914560)===0&&(je=4194304),r}function Rt(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Ln(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function It(r,s,o,c,h,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,j=r.expirationTimes,Y=r.hiddenUpdates;for(o=b&~o;0<o;){var te=31-_t(o),re=1<<te;A[te]=0,j[te]=-1;var Q=Y[te];if(Q!==null)for(Y[te]=null,te=0;te<Q.length;te++){var Z=Q[te];Z!==null&&(Z.lane&=-536870913)}o&=~re}c!==0&&vn(r,c,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function vn(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-_t(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&261930}function _n(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-_t(o),h=1<<c;h&s|r[c]&s&&(r[c]|=s),o&=~h}}function Cn(r,s){var o=s&-s;return o=(o&42)!==0?1:Yn(o),(o&(r.suspendedLanes|s))!==0?0:o}function Yn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Rn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Qn(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:rb(r.type))}function on(r,s){var o=oe.p;try{return oe.p=r,s()}finally{oe.p=o}}var In=Math.random().toString(36).slice(2),Vt="__reactFiber$"+In,en="__reactProps$"+In,$r="__reactContainer$"+In,Xa="__reactEvents$"+In,xh="__reactListeners$"+In,Su="__reactHandles$"+In,xu="__reactResources$"+In,Gr="__reactMarker$"+In;function Wa(r){delete r[Vt],delete r[en],delete r[Xa],delete r[xh],delete r[Su]}function Kr(r){var s=r[Vt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[$r]||o[Vt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=B_(r);r!==null;){if(o=r[Vt])return o;r=B_(r)}return s}r=o,o=r.parentNode}return null}function ur(r){if(r=r[Vt]||r[$r]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Xn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Yr(r){var s=r[xu];return s||(s=r[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function jt(r){r[Gr]=!0}var _l=new Set,bl={};function Qr(r,s){Xr(r,s),Xr(r+"Capture",s)}function Xr(r,s){for(bl[r]=s,r=0;r<s.length;r++)_l.add(s[r])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},Tl={};function Au(r){return vt.call(Tl,r)?!0:vt.call(wl,r)?!1:El.test(r)?Tl[r]=!0:(wl[r]=!0,!1)}function Ja(r,s,o){if(Au(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Wn(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Ut(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function tn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function rs(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Sl(r,s,o){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,g=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function rt(r){if(!r._valueTracker){var s=rs(r)?"checked":"value";r._valueTracker=Sl(r,s,""+r[s])}}function oa(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=rs(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Wr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var la=/[\n"\\]/g;function Pn(r){return r.replace(la,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Za(r,s,o,c,h,g,b,A){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+tn(s)):r.value!==""+tn(s)&&(r.value=""+tn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?xl(r,b,tn(s)):o!=null?xl(r,b,tn(o)):c!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+tn(A):r.removeAttribute("name")}function Cu(r,s,o,c,h,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){rt(r);return}o=o!=null?""+tn(o):"",s=s!=null?""+tn(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=A?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b),rt(r)}function xl(r,s,o){s==="number"&&Wr(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function is(r,s,o,c){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+tn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Ru(r,s,o){if(s!=null&&(s=""+tn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+tn(o):""}function ss(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(Ge(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=tn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c),rt(r)}function Vn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Iu.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Cl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&o[h]!==c&&Al(r,h,c)}else for(var g in s)s.hasOwnProperty(g)&&Al(r,g,s[g])}function eo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(r){return as.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Rr(){}var Rl=null;function fr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var os=null,Jr=null;function ca(r){var s=ur(r);if(s&&(r=s.stateNode)){var o=r[en]||null;e:switch(r=s.stateNode,s.type){case"input":if(Za(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var h=c[en]||null;if(!h)throw Error(i(90));Za(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&oa(c)}break e;case"textarea":Ru(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&is(r,!!o.multiple,s,!1)}}}var no=!1;function ls(r,s,o){if(no)return r(s,o);no=!0;try{var c=r(s);return c}finally{if(no=!1,(os!==null||Jr!==null)&&(Sf(),os&&(s=os,r=Jr,Jr=os=null,ca(s),r)))for(s=0;s<r.length;s++)ca(r[s])}}function Ir(r,s){var o=r.stateNode;if(o===null)return null;var c=o[en]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=!1;if(dr)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){ua=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{ua=!1}var Zr=null,Il=null,fa=null;function Nl(){if(fa)return fa;var r,s=Il,o=s.length,c,h="value"in Zr?Zr.value:Zr.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var b=o-r;for(c=1;c<=b&&s[o-c]===h[g-c];c++);return fa=h.slice(r,1<c?1-c:void 0)}function da(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ei(){return!0}function Nr(){return!1}function ln(r){function s(o,c,h,g,b){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ei:Nr,this.isPropagationStopped=Nr,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),s}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=ln(wi),cs=v({},wi,{view:0,detail:0}),Dl=ln(cs),us,ro,ti,io=v({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ti&&(ti&&r.type==="mousemove"?(us=r.screenX-ti.screenX,ro=r.screenY-ti.screenY):ro=us=0,ti=r),us)},movementY:function(r){return"movementY"in r?r.movementY:ro}}),kl=ln(io),ha=v({},io,{dataTransfer:0}),Du=ln(ha),ku=v({},cs,{relatedTarget:0}),ma=ln(ku),Ol=v({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ou=ln(Ol),so=v({},wi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Mu=ln(so),Lu=v({},wi,{data:0}),ni=ln(Lu),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ju[r])?!!s[r]:!1}function fs(){return Uu}var Nn=v({},cs,{key:function(r){if(r.key){var s=Pu[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=da(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Vu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(r){return r.type==="keypress"?da(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?da(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),zu=ln(Nn),Bu=v({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ti=ln(Bu),f=v({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),_=ln(f),E=v({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=ln(E),G=v({},io,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),W=ln(G),fe=v({},wi,{newState:0,oldState:0}),Me=ln(fe),Nt=[9,13,27,32],Je=dr&&"CompositionEvent"in window,wt=null;dr&&"documentMode"in document&&(wt=document.documentMode);var hr=dr&&"TextEvent"in window&&!wt,ri=dr&&(!Je||wt&&8<wt&&11>=wt),Dr=" ",kr=!1;function ga(r,s){switch(r){case"keyup":return Nt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var oo=!1;function Jx(r,s){switch(r){case"compositionend":return ao(s);case"keypress":return s.which!==32?null:(kr=!0,Dr);case"textInput":return r=s.data,r===Dr&&kr?null:r;default:return null}}function Zx(r,s){if(oo)return r==="compositionend"||!Je&&ga(r,s)?(r=Nl(),fa=Il=Zr=null,oo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ri&&s.locale!=="ko"?null:s.data;default:return null}}var eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hy(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!eA[r.type]:s==="textarea"}function $y(r,s,o,c){os?Jr?Jr.push(c):Jr=[c]:os=c,s=Df(s,"onChange"),0<s.length&&(o=new ei("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Ml=null,Ll=null;function tA(r){C_(r,0)}function qu(r){var s=Xn(r);if(oa(s))return r}function Gy(r,s){if(r==="change")return s}var Ky=!1;if(dr){var Ah;if(dr){var Ch="oninput"in document;if(!Ch){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),Ch=typeof Yy.oninput=="function"}Ah=Ch}else Ah=!1;Ky=Ah&&(!document.documentMode||9<document.documentMode)}function Qy(){Ml&&(Ml.detachEvent("onpropertychange",Xy),Ll=Ml=null)}function Xy(r){if(r.propertyName==="value"&&qu(Ll)){var s=[];$y(s,Ll,r,fr(r)),ls(tA,s)}}function nA(r,s,o){r==="focusin"?(Qy(),Ml=s,Ll=o,Ml.attachEvent("onpropertychange",Xy)):r==="focusout"&&Qy()}function rA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qu(Ll)}function iA(r,s){if(r==="click")return qu(s)}function sA(r,s){if(r==="input"||r==="change")return qu(s)}function aA(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Jn=typeof Object.is=="function"?Object.is:aA;function Pl(r,s){if(Jn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!vt.call(s,h)||!Jn(r[h],s[h]))return!1}return!0}function Wy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jy(r,s){var o=Wy(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Wy(o)}}function Zy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Zy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function e0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Wr(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Wr(r.document)}return s}function Rh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var oA=dr&&"documentMode"in document&&11>=document.documentMode,lo=null,Ih=null,Vl=null,Nh=!1;function t0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nh||lo==null||lo!==Wr(c)||(c=lo,"selectionStart"in c&&Rh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Vl&&Pl(Vl,c)||(Vl=c,c=Df(Ih,"onSelect"),0<c.length&&(s=new ei("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=lo)))}function pa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var co={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Dh={},n0={};dr&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ya(r){if(Dh[r])return Dh[r];if(!co[r])return r;var s=co[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in n0)return Dh[r]=s[o];return r}var r0=ya("animationend"),i0=ya("animationiteration"),s0=ya("animationstart"),lA=ya("transitionrun"),cA=ya("transitionstart"),uA=ya("transitioncancel"),a0=ya("transitionend"),o0=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Or(r,s){o0.set(r,s),Qr(s,[r])}var Fu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},mr=[],uo=0,Oh=0;function Hu(){for(var r=uo,s=Oh=uo=0;s<r;){var o=mr[s];mr[s++]=null;var c=mr[s];mr[s++]=null;var h=mr[s];mr[s++]=null;var g=mr[s];if(mr[s++]=null,c!==null&&h!==null){var b=c.pending;b===null?h.next=h:(h.next=b.next,b.next=h),c.pending=h}g!==0&&l0(o,h,g)}}function $u(r,s,o,c){mr[uo++]=r,mr[uo++]=s,mr[uo++]=o,mr[uo++]=c,Oh|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Mh(r,s,o,c){return $u(r,s,o,c),Gu(r)}function va(r,s){return $u(r,null,null,s),Gu(r)}function l0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&s!==null&&(h=31-_t(o),r=g.hiddenUpdates,c=r[h],c===null?r[h]=[s]:c.push(s),s.lane=o|536870912),g):null}function Gu(r){if(50<sc)throw sc=0,Fm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var fo={};function fA(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(r,s,o,c){return new fA(r,s,o,c)}function Lh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Si(r,s){var o=r.alternate;return o===null?(o=Zn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function c0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Ku(r,s,o,c,h,g){var b=0;if(c=r,typeof r=="function")Lh(r)&&(b=1);else if(typeof r=="string")b=p2(r,o,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=Zn(31,o,s,h),r.elementType=N,r.lanes=g,r;case M:return _a(o.children,h,g,s);case L:b=8,h|=24;break;case H:return r=Zn(12,o,s,h|2),r.elementType=H,r.lanes=g,r;case J:return r=Zn(13,o,s,h),r.elementType=J,r.lanes=g,r;case ae:return r=Zn(19,o,s,h),r.elementType=ae,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:b=10;break e;case V:b=9;break e;case B:b=11;break e;case C:b=14;break e;case R:b=16,c=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Zn(b,o,s,h),s.elementType=r,s.type=c,s.lanes=g,s}function _a(r,s,o,c){return r=Zn(7,r,c,s),r.lanes=o,r}function Ph(r,s,o){return r=Zn(6,r,null,s),r.lanes=o,r}function u0(r){var s=Zn(18,null,null,0);return s.stateNode=r,s}function Vh(r,s,o){return s=Zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var f0=new WeakMap;function gr(r,s){if(typeof r=="object"&&r!==null){var o=f0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:ts(s)},f0.set(r,s),s)}return{value:r,source:s,stack:ts(s)}}var ho=[],mo=0,Yu=null,jl=0,pr=[],yr=0,ds=null,ii=1,si="";function xi(r,s){ho[mo++]=jl,ho[mo++]=Yu,Yu=r,jl=s}function d0(r,s,o){pr[yr++]=ii,pr[yr++]=si,pr[yr++]=ds,ds=r;var c=ii;r=si;var h=32-_t(c)-1;c&=~(1<<h),o+=1;var g=32-_t(s)+h;if(30<g){var b=h-h%5;g=(c&(1<<b)-1).toString(32),c>>=b,h-=b,ii=1<<32-_t(s)+h|o<<h|c,si=g+r}else ii=1<<g|o<<h|c,si=r}function jh(r){r.return!==null&&(xi(r,1),d0(r,1,0))}function Uh(r){for(;r===Yu;)Yu=ho[--mo],ho[mo]=null,jl=ho[--mo],ho[mo]=null;for(;r===ds;)ds=pr[--yr],pr[yr]=null,si=pr[--yr],pr[yr]=null,ii=pr[--yr],pr[yr]=null}function h0(r,s){pr[yr++]=ii,pr[yr++]=si,pr[yr++]=ds,ii=s.id,si=s.overflow,ds=r}var cn=null,gt=null,Ye=!1,hs=null,vr=!1,zh=Error(i(519));function ms(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(gr(s,r)),zh}function m0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Vt]=r,s[en]=c,o){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(o=0;o<oc.length;o++)ze(oc[o],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),Cu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),ss(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||D_(s.textContent,o)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=Rr),s=!0):s=!1,s||ms(r,!0)}function g0(r){for(cn=r.return;cn;)switch(cn.tag){case 5:case 31:case 13:vr=!1;return;case 27:case 3:vr=!0;return;default:cn=cn.return}}function go(r){if(r!==cn)return!1;if(!Ye)return g0(r),Ye=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ig(r.type,r.memoizedProps)),o=!o),o&&gt&&ms(r),g0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));gt=z_(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));gt=z_(r)}else s===27?(s=gt,Rs(r.type)?(r=cg,cg=null,gt=r):gt=s):gt=cn?br(r.stateNode.nextSibling):null;return!0}function ba(){gt=cn=null,Ye=!1}function Bh(){var r=hs;return r!==null&&(Bn===null?Bn=r:Bn.push.apply(Bn,r),hs=null),r}function Ul(r){hs===null?hs=[r]:hs.push(r)}var qh=z(null),Ea=null,Ai=null;function gs(r,s,o){le(qh,s._currentValue),s._currentValue=o}function Ci(r){r._currentValue=qh.current,ee(qh)}function Fh(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Hh(r,s,o,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var b=h.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=h;for(var j=0;j<s.length;j++)if(A.context===s[j]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Fh(g.return,o,r),c||(b=null);break e}g=A.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Fh(b,o,r),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===r){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function po(r,s,o,c){r=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var A=h.type;Jn(h.pendingProps.value,b.value)||(r!==null?r.push(A):r=[A])}}else if(h===Pe.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(dc):r=[dc])}h=h.return}r!==null&&Hh(s,r,o,c),s.flags|=262144}function Qu(r){for(r=r.firstContext;r!==null;){if(!Jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function wa(r){Ea=r,Ai=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function un(r){return p0(Ea,r)}function Xu(r,s){return Ea===null&&wa(r),p0(r,s)}function p0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ai===null){if(r===null)throw Error(i(308));Ai=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ai=Ai.next=s;return o}var dA=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},hA=n.unstable_scheduleCallback,mA=n.unstable_NormalPriority,zt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new dA,data:new Map,refCount:0}}function zl(r){r.refCount--,r.refCount===0&&hA(mA,function(){r.controller.abort()})}var Bl=null,Gh=0,yo=0,vo=null;function gA(r,s){if(Bl===null){var o=Bl=[];Gh=0,yo=Qm(),vo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Gh++,s.then(y0,y0),s}function y0(){if(--Gh===0&&Bl!==null){vo!==null&&(vo.status="fulfilled");var r=Bl;Bl=null,yo=0,vo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function pA(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var v0=X.S;X.S=function(r,s){t_=Jt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&gA(r,s),v0!==null&&v0(r,s)};var Ta=z(null);function Kh(){var r=Ta.current;return r!==null?r:ht.pooledCache}function Wu(r,s){s===null?le(Ta,Ta.current):le(Ta,s.pool)}function _0(){var r=Kh();return r===null?null:{parent:zt._currentValue,pool:r}}var _o=Error(i(460)),Yh=Error(i(474)),Ju=Error(i(542)),Zu={then:function(){}};function b0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function E0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Rr,Rr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,T0(r),r;default:if(typeof s.status=="string")s.then(Rr,Rr);else{if(r=ht,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,T0(r),r}throw xa=s,_o}}function Sa(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(xa=o,_o):o}}var xa=null;function w0(){if(xa===null)throw Error(i(459));var r=xa;return xa=null,r}function T0(r){if(r===_o||r===Ju)throw Error(i(483))}var bo=null,ql=0;function ef(r){var s=ql;return ql+=1,bo===null&&(bo=[]),E0(bo,r,s)}function Fl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function tf(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function S0(r){function s($,q){if(r){var K=$.deletions;K===null?($.deletions=[q],$.flags|=16):K.push(q)}}function o($,q){if(!r)return null;for(;q!==null;)s($,q),q=q.sibling;return null}function c($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function h($,q){return $=Si($,q),$.index=0,$.sibling=null,$}function g($,q,K){return $.index=K,r?(K=$.alternate,K!==null?(K=K.index,K<q?($.flags|=67108866,q):K):($.flags|=67108866,q)):($.flags|=1048576,q)}function b($){return r&&$.alternate===null&&($.flags|=67108866),$}function A($,q,K,ne){return q===null||q.tag!==6?(q=Ph(K,$.mode,ne),q.return=$,q):(q=h(q,K),q.return=$,q)}function j($,q,K,ne){var Ee=K.type;return Ee===M?te($,q,K.props.children,ne,K.key):q!==null&&(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Sa(Ee)===q.type)?(q=h(q,K.props),Fl(q,K),q.return=$,q):(q=Ku(K.type,K.key,K.props,null,$.mode,ne),Fl(q,K),q.return=$,q)}function Y($,q,K,ne){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=Vh(K,$.mode,ne),q.return=$,q):(q=h(q,K.children||[]),q.return=$,q)}function te($,q,K,ne,Ee){return q===null||q.tag!==7?(q=_a(K,$.mode,ne,Ee),q.return=$,q):(q=h(q,K),q.return=$,q)}function re($,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Ph(""+q,$.mode,K),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return K=Ku(q.type,q.key,q.props,null,$.mode,K),Fl(K,q),K.return=$,K;case O:return q=Vh(q,$.mode,K),q.return=$,q;case R:return q=Sa(q),re($,q,K)}if(Ge(q)||U(q))return q=_a(q,$.mode,K,null),q.return=$,q;if(typeof q.then=="function")return re($,ef(q),K);if(q.$$typeof===F)return re($,Xu($,q),K);tf($,q)}return null}function Q($,q,K,ne){var Ee=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ee!==null?null:A($,q,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===Ee?j($,q,K,ne):null;case O:return K.key===Ee?Y($,q,K,ne):null;case R:return K=Sa(K),Q($,q,K,ne)}if(Ge(K)||U(K))return Ee!==null?null:te($,q,K,ne,null);if(typeof K.then=="function")return Q($,q,ef(K),ne);if(K.$$typeof===F)return Q($,q,Xu($,K),ne);tf($,K)}return null}function Z($,q,K,ne,Ee){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return $=$.get(K)||null,A(q,$,""+ne,Ee);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return $=$.get(ne.key===null?K:ne.key)||null,j(q,$,ne,Ee);case O:return $=$.get(ne.key===null?K:ne.key)||null,Y(q,$,ne,Ee);case R:return ne=Sa(ne),Z($,q,K,ne,Ee)}if(Ge(ne)||U(ne))return $=$.get(K)||null,te(q,$,ne,Ee,null);if(typeof ne.then=="function")return Z($,q,K,ef(ne),Ee);if(ne.$$typeof===F)return Z($,q,K,Xu(q,ne),Ee);tf(q,ne)}return null}function pe($,q,K,ne){for(var Ee=null,Xe=null,ve=q,Ve=q=0,qe=null;ve!==null&&Ve<K.length;Ve++){ve.index>Ve?(qe=ve,ve=null):qe=ve.sibling;var We=Q($,ve,K[Ve],ne);if(We===null){ve===null&&(ve=qe);break}r&&ve&&We.alternate===null&&s($,ve),q=g(We,q,Ve),Xe===null?Ee=We:Xe.sibling=We,Xe=We,ve=qe}if(Ve===K.length)return o($,ve),Ye&&xi($,Ve),Ee;if(ve===null){for(;Ve<K.length;Ve++)ve=re($,K[Ve],ne),ve!==null&&(q=g(ve,q,Ve),Xe===null?Ee=ve:Xe.sibling=ve,Xe=ve);return Ye&&xi($,Ve),Ee}for(ve=c(ve);Ve<K.length;Ve++)qe=Z(ve,$,Ve,K[Ve],ne),qe!==null&&(r&&qe.alternate!==null&&ve.delete(qe.key===null?Ve:qe.key),q=g(qe,q,Ve),Xe===null?Ee=qe:Xe.sibling=qe,Xe=qe);return r&&ve.forEach(function(Os){return s($,Os)}),Ye&&xi($,Ve),Ee}function Ae($,q,K,ne){if(K==null)throw Error(i(151));for(var Ee=null,Xe=null,ve=q,Ve=q=0,qe=null,We=K.next();ve!==null&&!We.done;Ve++,We=K.next()){ve.index>Ve?(qe=ve,ve=null):qe=ve.sibling;var Os=Q($,ve,We.value,ne);if(Os===null){ve===null&&(ve=qe);break}r&&ve&&Os.alternate===null&&s($,ve),q=g(Os,q,Ve),Xe===null?Ee=Os:Xe.sibling=Os,Xe=Os,ve=qe}if(We.done)return o($,ve),Ye&&xi($,Ve),Ee;if(ve===null){for(;!We.done;Ve++,We=K.next())We=re($,We.value,ne),We!==null&&(q=g(We,q,Ve),Xe===null?Ee=We:Xe.sibling=We,Xe=We);return Ye&&xi($,Ve),Ee}for(ve=c(ve);!We.done;Ve++,We=K.next())We=Z(ve,$,Ve,We.value,ne),We!==null&&(r&&We.alternate!==null&&ve.delete(We.key===null?Ve:We.key),q=g(We,q,Ve),Xe===null?Ee=We:Xe.sibling=We,Xe=We);return r&&ve.forEach(function(C2){return s($,C2)}),Ye&&xi($,Ve),Ee}function ut($,q,K,ne){if(typeof K=="object"&&K!==null&&K.type===M&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var Ee=K.key;q!==null;){if(q.key===Ee){if(Ee=K.type,Ee===M){if(q.tag===7){o($,q.sibling),ne=h(q,K.props.children),ne.return=$,$=ne;break e}}else if(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Sa(Ee)===q.type){o($,q.sibling),ne=h(q,K.props),Fl(ne,K),ne.return=$,$=ne;break e}o($,q);break}else s($,q);q=q.sibling}K.type===M?(ne=_a(K.props.children,$.mode,ne,K.key),ne.return=$,$=ne):(ne=Ku(K.type,K.key,K.props,null,$.mode,ne),Fl(ne,K),ne.return=$,$=ne)}return b($);case O:e:{for(Ee=K.key;q!==null;){if(q.key===Ee)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){o($,q.sibling),ne=h(q,K.children||[]),ne.return=$,$=ne;break e}else{o($,q);break}else s($,q);q=q.sibling}ne=Vh(K,$.mode,ne),ne.return=$,$=ne}return b($);case R:return K=Sa(K),ut($,q,K,ne)}if(Ge(K))return pe($,q,K,ne);if(U(K)){if(Ee=U(K),typeof Ee!="function")throw Error(i(150));return K=Ee.call(K),Ae($,q,K,ne)}if(typeof K.then=="function")return ut($,q,ef(K),ne);if(K.$$typeof===F)return ut($,q,Xu($,K),ne);tf($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(o($,q.sibling),ne=h(q,K),ne.return=$,$=ne):(o($,q),ne=Ph(K,$.mode,ne),ne.return=$,$=ne),b($)):o($,q)}return function($,q,K,ne){try{ql=0;var Ee=ut($,q,K,ne);return bo=null,Ee}catch(ve){if(ve===_o||ve===Ju)throw ve;var Xe=Zn(29,ve,null,$.mode);return Xe.lanes=ne,Xe.return=$,Xe}}}var Aa=S0(!0),x0=S0(!1),ps=!1;function Qh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ys(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function vs(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Ze&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=Gu(r),l0(r,null,o),s}return $u(r,c,s,o),Gu(r)}function Hl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,_n(r,o)}}function Wh(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Jh=!1;function $l(){if(Jh){var r=vo;if(r!==null)throw r}}function Gl(r,s,o,c){Jh=!1;var h=r.updateQueue;ps=!1;var g=h.firstBaseUpdate,b=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var j=A,Y=j.next;j.next=null,b===null?g=Y:b.next=Y,b=j;var te=r.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==b&&(A===null?te.firstBaseUpdate=Y:A.next=Y,te.lastBaseUpdate=j))}if(g!==null){var re=h.baseState;b=0,te=Y=j=null,A=g;do{var Q=A.lane&-536870913,Z=Q!==A.lane;if(Z?(Be&Q)===Q:(c&Q)===Q){Q!==0&&Q===yo&&(Jh=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=r,Ae=A;Q=s;var ut=o;switch(Ae.tag){case 1:if(pe=Ae.payload,typeof pe=="function"){re=pe.call(ut,re,Q);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ae.payload,Q=typeof pe=="function"?pe.call(ut,re,Q):pe,Q==null)break e;re=v({},re,Q);break e;case 2:ps=!0}}Q=A.callback,Q!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Y=te=Z,j=re):te=te.next=Z,b|=Q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);te===null&&(j=re),h.baseState=j,h.firstBaseUpdate=Y,h.lastBaseUpdate=te,g===null&&(h.shared.lanes=0),Ts|=b,r.lanes=b,r.memoizedState=re}}function A0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function C0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)A0(o[r],s)}var Eo=z(null),nf=z(0);function R0(r,s){r=Pi,le(nf,r),le(Eo,s),Pi=r|s.baseLanes}function Zh(){le(nf,Pi),le(Eo,Eo.current)}function em(){Pi=nf.current,ee(Eo),ee(nf)}var er=z(null),_r=null;function _s(r){var s=r.alternate;le(Dt,Dt.current&1),le(er,r),_r===null&&(s===null||Eo.current!==null||s.memoizedState!==null)&&(_r=r)}function tm(r){le(Dt,Dt.current),le(er,r),_r===null&&(_r=r)}function I0(r){r.tag===22?(le(Dt,Dt.current),le(er,r),_r===null&&(_r=r)):bs()}function bs(){le(Dt,Dt.current),le(er,er.current)}function tr(r){ee(er),_r===r&&(_r=null),ee(Dt)}var Dt=z(0);function rf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||og(o)||lg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ri=0,Le=null,lt=null,Bt=null,sf=!1,wo=!1,Ca=!1,af=0,Kl=0,To=null,yA=0;function At(){throw Error(i(321))}function nm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Jn(r[o],s[o]))return!1;return!0}function rm(r,s,o,c,h,g){return Ri=g,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=r===null||r.memoizedState===null?dv:vm,Ca=!1,g=o(c,h),Ca=!1,wo&&(g=D0(s,o,c,h)),N0(r),g}function N0(r){X.H=Xl;var s=lt!==null&&lt.next!==null;if(Ri=0,Bt=lt=Le=null,sf=!1,Kl=0,To=null,s)throw Error(i(300));r===null||qt||(r=r.dependencies,r!==null&&Qu(r)&&(qt=!0))}function D0(r,s,o,c){Le=r;var h=0;do{if(wo&&(To=null),Kl=0,wo=!1,25<=h)throw Error(i(301));if(h+=1,Bt=lt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=hv,g=s(o,c)}while(wo);return g}function vA(){var r=X.H,s=r.useState()[0];return s=typeof s.then=="function"?Yl(s):s,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(Le.flags|=1024),s}function im(){var r=af!==0;return af=0,r}function sm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function am(r){if(sf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sf=!1}Ri=0,Bt=lt=Le=null,wo=!1,Kl=af=0,To=null}function Dn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Le.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function kt(){if(lt===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var s=Bt===null?Le.memoizedState:Bt.next;if(s!==null)Bt=s,lt=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Bt===null?Le.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(r){var s=Kl;return Kl+=1,To===null&&(To=[]),r=E0(To,r,s),s=Le,(Bt===null?s.memoizedState:Bt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?dv:vm),r}function lf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Yl(r);if(r.$$typeof===F)return un(r)}throw Error(i(438,String(r)))}function om(r){var s=null,o=Le.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=of(),Le.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=P;return s.index++,o}function Ii(r,s){return typeof s=="function"?s(r):s}function cf(r){var s=kt();return lm(s,lt,r)}function lm(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var h=r.baseQueue,g=c.pending;if(g!==null){if(h!==null){var b=h.next;h.next=g.next,g.next=b}s.baseQueue=h=g,c.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var A=b=null,j=null,Y=s,te=!1;do{var re=Y.lane&-536870913;if(re!==Y.lane?(Be&re)===re:(Ri&re)===re){var Q=Y.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),re===yo&&(te=!0);else if((Ri&Q)===Q){Y=Y.next,Q===yo&&(te=!0);continue}else re={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(A=j=re,b=g):j=j.next=re,Le.lanes|=Q,Ts|=Q;re=Y.action,Ca&&o(g,re),g=Y.hasEagerState?Y.eagerState:o(g,re)}else Q={lane:re,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(A=j=Q,b=g):j=j.next=Q,Le.lanes|=re,Ts|=re;Y=Y.next}while(Y!==null&&Y!==s);if(j===null?b=g:j.next=A,!Jn(g,r.memoizedState)&&(qt=!0,te&&(o=vo,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=j,c.lastRenderedState=g}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function cm(r){var s=kt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do g=r(g,b.action),b=b.next;while(b!==h);Jn(g,s.memoizedState)||(qt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function k0(r,s,o){var c=Le,h=kt(),g=Ye;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!Jn((lt||h).memoizedState,o);if(b&&(h.memoizedState=o,qt=!0),h=h.queue,dm(L0.bind(null,c,h,r),[r]),h.getSnapshot!==s||b||Bt!==null&&Bt.memoizedState.tag&1){if(c.flags|=2048,So(9,{destroy:void 0},M0.bind(null,c,h,o,s),null),ht===null)throw Error(i(349));g||(Ri&127)!==0||O0(c,s,o)}return o}function O0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Le.updateQueue,s===null?(s=of(),Le.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function M0(r,s,o,c){s.value=o,s.getSnapshot=c,P0(s)&&V0(r)}function L0(r,s,o){return o(function(){P0(s)&&V0(r)})}function P0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Jn(r,o)}catch{return!0}}function V0(r){var s=va(r,2);s!==null&&qn(s,r,2)}function um(r){var s=Dn();if(typeof r=="function"){var o=r;if(r=o(),Ca){pn(!0);try{o()}finally{pn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:r},s}function j0(r,s,o,c){return r.baseState=o,lm(r,lt,typeof c=="function"?c:Ii)}function _A(r,s,o,c,h){if(df(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};X.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,U0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function U0(r,s){var o=s.action,c=s.payload,h=r.state;if(s.isTransition){var g=X.T,b={};X.T=b;try{var A=o(h,c),j=X.S;j!==null&&j(b,A),z0(r,s,A)}catch(Y){fm(r,s,Y)}finally{g!==null&&b.types!==null&&(g.types=b.types),X.T=g}}else try{g=o(h,c),z0(r,s,g)}catch(Y){fm(r,s,Y)}}function z0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){B0(r,s,c)},function(c){return fm(r,s,c)}):B0(r,s,o)}function B0(r,s,o){s.status="fulfilled",s.value=o,q0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,U0(r,o)))}function fm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,q0(s),s=s.next;while(s!==c)}r.action=null}function q0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function F0(r,s){return s}function H0(r,s){if(Ye){var o=ht.formState;if(o!==null){e:{var c=Le;if(Ye){if(gt){t:{for(var h=gt,g=vr;h.nodeType!==8;){if(!g){h=null;break t}if(h=br(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){gt=br(h.nextSibling),c=h.data==="F!";break e}}ms(c)}c=!1}c&&(s=o[0])}}return o=Dn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F0,lastRenderedState:s},o.queue=c,o=cv.bind(null,Le,c),c.dispatch=o,c=um(!1),g=ym.bind(null,Le,!1,c.queue),c=Dn(),h={state:s,dispatch:null,action:r,pending:null},c.queue=h,o=_A.bind(null,Le,h,g,o),h.dispatch=o,c.memoizedState=r,[s,o,!1]}function $0(r){var s=kt();return G0(s,lt,r)}function G0(r,s,o){if(s=lm(r,s,F0)[0],r=cf(Ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Yl(s)}catch(b){throw b===_o?Ju:b}else c=s;s=kt();var h=s.queue,g=h.dispatch;return o!==s.memoizedState&&(Le.flags|=2048,So(9,{destroy:void 0},bA.bind(null,h,o),null)),[c,g,r]}function bA(r,s){r.action=s}function K0(r){var s=kt(),o=lt;if(o!==null)return G0(s,o,r);kt(),s=s.memoizedState,o=kt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function So(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Le.updateQueue,s===null&&(s=of(),Le.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function Y0(){return kt().memoizedState}function uf(r,s,o,c){var h=Dn();Le.flags|=r,h.memoizedState=So(1|s,{destroy:void 0},o,c===void 0?null:c)}function ff(r,s,o,c){var h=kt();c=c===void 0?null:c;var g=h.memoizedState.inst;lt!==null&&c!==null&&nm(c,lt.memoizedState.deps)?h.memoizedState=So(s,g,o,c):(Le.flags|=r,h.memoizedState=So(1|s,g,o,c))}function Q0(r,s){uf(8390656,8,r,s)}function dm(r,s){ff(2048,8,r,s)}function EA(r){Le.flags|=4;var s=Le.updateQueue;if(s===null)s=of(),Le.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function X0(r){var s=kt().memoizedState;return EA({ref:s,nextImpl:r}),function(){if((Ze&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function W0(r,s){return ff(4,2,r,s)}function J0(r,s){return ff(4,4,r,s)}function Z0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ev(r,s,o){o=o!=null?o.concat([r]):null,ff(4,4,Z0.bind(null,s,r),o)}function hm(){}function tv(r,s){var o=kt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&nm(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function nv(r,s){var o=kt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&nm(s,c[1]))return c[0];if(c=r(),Ca){pn(!0);try{r()}finally{pn(!1)}}return o.memoizedState=[c,s],c}function mm(r,s,o){return o===void 0||(Ri&1073741824)!==0&&(Be&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=r_(),Le.lanes|=r,Ts|=r,o)}function rv(r,s,o,c){return Jn(o,s)?o:Eo.current!==null?(r=mm(r,o,c),Jn(r,s)||(qt=!0),r):(Ri&42)===0||(Ri&1073741824)!==0&&(Be&261930)===0?(qt=!0,r.memoizedState=o):(r=r_(),Le.lanes|=r,Ts|=r,s)}function iv(r,s,o,c,h){var g=oe.p;oe.p=g!==0&&8>g?g:8;var b=X.T,A={};X.T=A,ym(r,!1,s,o);try{var j=h(),Y=X.S;if(Y!==null&&Y(A,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var te=pA(j,c);Ql(r,s,te,ir(r))}else Ql(r,s,c,ir(r))}catch(re){Ql(r,s,{then:function(){},status:"rejected",reason:re},ir())}finally{oe.p=g,b!==null&&A.types!==null&&(b.types=A.types),X.T=b}}function wA(){}function gm(r,s,o,c){if(r.tag!==5)throw Error(i(476));var h=sv(r).queue;iv(r,h,s,he,o===null?wA:function(){return av(r),o(c)})}function sv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:he},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function av(r){var s=sv(r);s.next===null&&(s=r.alternate.memoizedState),Ql(r,s.next.queue,{},ir())}function pm(){return un(dc)}function ov(){return kt().memoizedState}function lv(){return kt().memoizedState}function TA(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=ir();r=ys(o);var c=vs(s,r,o);c!==null&&(qn(c,s,o),Hl(c,s,o)),s={cache:$h()},r.payload=s;return}s=s.return}}function SA(r,s,o){var c=ir();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},df(r)?uv(s,o):(o=Mh(r,s,o,c),o!==null&&(qn(o,r,c),fv(o,s,c)))}function cv(r,s,o){var c=ir();Ql(r,s,o,c)}function Ql(r,s,o,c){var h={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(df(r))uv(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,A=g(b,o);if(h.hasEagerState=!0,h.eagerState=A,Jn(A,b))return $u(r,s,h,0),ht===null&&Hu(),!1}catch{}if(o=Mh(r,s,h,c),o!==null)return qn(o,r,c),fv(o,s,c),!0}return!1}function ym(r,s,o,c){if(c={lane:2,revertLane:Qm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},df(r)){if(s)throw Error(i(479))}else s=Mh(r,o,c,2),s!==null&&qn(s,r,2)}function df(r){var s=r.alternate;return r===Le||s!==null&&s===Le}function uv(r,s){wo=sf=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function fv(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,_n(r,o)}}var Xl={readContext:un,use:lf,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Xl.useEffectEvent=At;var dv={readContext:un,use:lf,useCallback:function(r,s){return Dn().memoizedState=[r,s===void 0?null:s],r},useContext:un,useEffect:Q0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,uf(4194308,4,Z0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return uf(4194308,4,r,s)},useInsertionEffect:function(r,s){uf(4,2,r,s)},useMemo:function(r,s){var o=Dn();s=s===void 0?null:s;var c=r();if(Ca){pn(!0);try{r()}finally{pn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Dn();if(o!==void 0){var h=o(s);if(Ca){pn(!0);try{o(s)}finally{pn(!1)}}}else h=s;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=SA.bind(null,Le,r),[c.memoizedState,r]},useRef:function(r){var s=Dn();return r={current:r},s.memoizedState=r},useState:function(r){r=um(r);var s=r.queue,o=cv.bind(null,Le,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:hm,useDeferredValue:function(r,s){var o=Dn();return mm(o,r,s)},useTransition:function(){var r=um(!1);return r=iv.bind(null,Le,r.queue,!0,!1),Dn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Le,h=Dn();if(Ye){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ht===null)throw Error(i(349));(Be&127)!==0||O0(c,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,Q0(L0.bind(null,c,g,r),[r]),c.flags|=2048,So(9,{destroy:void 0},M0.bind(null,c,g,o,s),null),o},useId:function(){var r=Dn(),s=ht.identifierPrefix;if(Ye){var o=si,c=ii;o=(c&~(1<<32-_t(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=af++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=yA++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:pm,useFormState:H0,useActionState:H0,useOptimistic:function(r){var s=Dn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=ym.bind(null,Le,!0,o),o.dispatch=s,[r,s]},useMemoCache:om,useCacheRefresh:function(){return Dn().memoizedState=TA.bind(null,Le)},useEffectEvent:function(r){var s=Dn(),o={impl:r};return s.memoizedState=o,function(){if((Ze&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},vm={readContext:un,use:lf,useCallback:tv,useContext:un,useEffect:dm,useImperativeHandle:ev,useInsertionEffect:W0,useLayoutEffect:J0,useMemo:nv,useReducer:cf,useRef:Y0,useState:function(){return cf(Ii)},useDebugValue:hm,useDeferredValue:function(r,s){var o=kt();return rv(o,lt.memoizedState,r,s)},useTransition:function(){var r=cf(Ii)[0],s=kt().memoizedState;return[typeof r=="boolean"?r:Yl(r),s]},useSyncExternalStore:k0,useId:ov,useHostTransitionStatus:pm,useFormState:$0,useActionState:$0,useOptimistic:function(r,s){var o=kt();return j0(o,lt,r,s)},useMemoCache:om,useCacheRefresh:lv};vm.useEffectEvent=X0;var hv={readContext:un,use:lf,useCallback:tv,useContext:un,useEffect:dm,useImperativeHandle:ev,useInsertionEffect:W0,useLayoutEffect:J0,useMemo:nv,useReducer:cm,useRef:Y0,useState:function(){return cm(Ii)},useDebugValue:hm,useDeferredValue:function(r,s){var o=kt();return lt===null?mm(o,r,s):rv(o,lt.memoizedState,r,s)},useTransition:function(){var r=cm(Ii)[0],s=kt().memoizedState;return[typeof r=="boolean"?r:Yl(r),s]},useSyncExternalStore:k0,useId:ov,useHostTransitionStatus:pm,useFormState:K0,useActionState:K0,useOptimistic:function(r,s){var o=kt();return lt!==null?j0(o,lt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:om,useCacheRefresh:lv};hv.useEffectEvent=X0;function _m(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var bm={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=ir(),h=ys(c);h.payload=s,o!=null&&(h.callback=o),s=vs(r,h,c),s!==null&&(qn(s,r,c),Hl(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=ir(),h=ys(c);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=vs(r,h,c),s!==null&&(qn(s,r,c),Hl(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=ir(),c=ys(o);c.tag=2,s!=null&&(c.callback=s),s=vs(r,c,o),s!==null&&(qn(s,r,o),Hl(s,r,o))}};function mv(r,s,o,c,h,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!Pl(o,c)||!Pl(h,g):!0}function gv(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&bm.enqueueReplaceState(s,s.state,null)}function Ra(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}function pv(r){Fu(r)}function yv(r){console.error(r)}function vv(r){Fu(r)}function hf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function _v(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Em(r,s,o){return o=ys(o),o.tag=3,o.payload={element:null},o.callback=function(){hf(r,s)},o}function bv(r){return r=ys(r),r.tag=3,r}function Ev(r,s,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;r.payload=function(){return h(g)},r.callback=function(){_v(s,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){_v(s,o,c),typeof h!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function xA(r,s,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&po(s,o,h,!0),o=er.current,o!==null){switch(o.tag){case 31:case 13:return _r===null?xf():o.alternate===null&&Ct===0&&(Ct=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Zu?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Gm(r,c,h)),!1;case 22:return o.flags|=65536,c===Zu?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Gm(r,c,h)),!1}throw Error(i(435,o.tag))}return Gm(r,c,h),xf(),!1}if(Ye)return s=er.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==zh&&(r=Error(i(422),{cause:c}),Ul(gr(r,o)))):(c!==zh&&(s=Error(i(423),{cause:c}),Ul(gr(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=gr(c,o),h=Em(r.stateNode,c,h),Wh(r,h),Ct!==4&&(Ct=2)),!1;var g=Error(i(520),{cause:c});if(g=gr(g,o),ic===null?ic=[g]:ic.push(g),Ct!==4&&(Ct=2),s===null)return!0;c=gr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Em(o.stateNode,c,r),Wh(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ss===null||!Ss.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=bv(h),Ev(h,r,o,c),Wh(o,h),!1}o=o.return}while(o!==null);return!1}var wm=Error(i(461)),qt=!1;function fn(r,s,o,c){s.child=r===null?x0(s,null,o,c):Aa(s,r.child,o,c)}function wv(r,s,o,c,h){o=o.render;var g=s.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return wa(s),c=rm(r,s,o,b,g,h),A=im(),r!==null&&!qt?(sm(r,s,h),Ni(r,s,h)):(Ye&&A&&jh(s),s.flags|=1,fn(r,s,c,h),s.child)}function Tv(r,s,o,c,h){if(r===null){var g=o.type;return typeof g=="function"&&!Lh(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Sv(r,s,g,c,h)):(r=Ku(o.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Nm(r,h)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Pl,o(b,c)&&r.ref===s.ref)return Ni(r,s,h)}return s.flags|=1,r=Si(g,c),r.ref=s.ref,r.return=s,s.child=r}function Sv(r,s,o,c,h){if(r!==null){var g=r.memoizedProps;if(Pl(g,c)&&r.ref===s.ref)if(qt=!1,s.pendingProps=c=g,Nm(r,h))(r.flags&131072)!==0&&(qt=!0);else return s.lanes=r.lanes,Ni(r,s,h)}return Tm(r,s,o,c,h)}function xv(r,s,o,c){var h=c.children,g=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,r!==null){for(c=s.child=r.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~g}else c=0,s.child=null;return Av(r,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Wu(s,g!==null?g.cachePool:null),g!==null?R0(s,g):Zh(),I0(s);else return c=s.lanes=536870912,Av(r,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Wu(s,g.cachePool),R0(s,g),bs(),s.memoizedState=null):(r!==null&&Wu(s,null),Zh(),bs());return fn(r,s,h,o),s.child}function Wl(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Av(r,s,o,c,h){var g=Kh();return g=g===null?null:{parent:zt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},r!==null&&Wu(s,null),Zh(),I0(s),r!==null&&po(r,s,c,!0),s.childLanes=h,null}function mf(r,s){return s=pf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Cv(r,s,o){return Aa(s,r.child,null,o),r=mf(s,s.pendingProps),r.flags|=2,tr(s),s.memoizedState=null,r}function AA(r,s,o){var c=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Ye){if(c.mode==="hidden")return r=mf(s,c),s.lanes=536870912,Wl(null,r);if(tm(s),(r=gt)?(r=U_(r,vr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ds!==null?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},o=u0(r),o.return=s,s.child=o,cn=s,gt=null)):r=null,r===null)throw ms(s);return s.lanes=536870912,null}return mf(s,c)}var g=r.memoizedState;if(g!==null){var b=g.dehydrated;if(tm(s),h)if(s.flags&256)s.flags&=-257,s=Cv(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(qt||po(r,s,o,!1),h=(o&r.childLanes)!==0,qt||h){if(c=ht,c!==null&&(b=Cn(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,va(r,b),qn(c,r,b),wm;xf(),s=Cv(r,s,o)}else r=g.treeContext,gt=br(b.nextSibling),cn=s,Ye=!0,hs=null,vr=!1,r!==null&&h0(s,r),s=mf(s,c),s.flags|=4096;return s}return r=Si(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function gf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Tm(r,s,o,c,h){return wa(s),o=rm(r,s,o,c,void 0,h),c=im(),r!==null&&!qt?(sm(r,s,h),Ni(r,s,h)):(Ye&&c&&jh(s),s.flags|=1,fn(r,s,o,h),s.child)}function Rv(r,s,o,c,h,g){return wa(s),s.updateQueue=null,o=D0(s,c,o,h),N0(r),c=im(),r!==null&&!qt?(sm(r,s,g),Ni(r,s,g)):(Ye&&c&&jh(s),s.flags|=1,fn(r,s,o,g),s.child)}function Iv(r,s,o,c,h){if(wa(s),s.stateNode===null){var g=fo,b=o.contextType;typeof b=="object"&&b!==null&&(g=un(b)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=bm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Qh(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?un(b):fo,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(_m(s,o,b,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&bm.enqueueReplaceState(g,g.state,null),Gl(s,c,g,h),$l(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var A=s.memoizedProps,j=Ra(o,A);g.props=j;var Y=g.context,te=o.contextType;b=fo,typeof te=="object"&&te!==null&&(b=un(te));var re=o.getDerivedStateFromProps;te=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||Y!==b)&&gv(s,g,c,b),ps=!1;var Q=s.memoizedState;g.state=Q,Gl(s,c,g,h),$l(),Y=s.memoizedState,A||Q!==Y||ps?(typeof re=="function"&&(_m(s,o,re,c),Y=s.memoizedState),(j=ps||mv(s,o,j,c,Q,Y,b))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Y),g.props=c,g.state=Y,g.context=b,c=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Xh(r,s),b=s.memoizedProps,te=Ra(o,b),g.props=te,re=s.pendingProps,Q=g.context,Y=o.contextType,j=fo,typeof Y=="object"&&Y!==null&&(j=un(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==re||Q!==j)&&gv(s,g,c,j),ps=!1,Q=s.memoizedState,g.state=Q,Gl(s,c,g,h),$l();var Z=s.memoizedState;b!==re||Q!==Z||ps||r!==null&&r.dependencies!==null&&Qu(r.dependencies)?(typeof A=="function"&&(_m(s,o,A,c),Z=s.memoizedState),(te=ps||mv(s,o,te,c,Q,Z,j)||r!==null&&r.dependencies!==null&&Qu(r.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Z,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Z,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Z),g.props=c,g.state=Z,g.context=j,c=te):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,gf(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Aa(s,r.child,null,h),s.child=Aa(s,null,o,h)):fn(r,s,o,h),s.memoizedState=g.state,r=s.child):r=Ni(r,s,h),r}function Nv(r,s,o,c){return ba(),s.flags|=256,fn(r,s,o,c),s.child}var Sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xm(r){return{baseLanes:r,cachePool:_0()}}function Am(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=rr),r}function Dv(r,s,o){var c=s.pendingProps,h=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Dt.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ye){if(h?_s(s):bs(),(r=gt)?(r=U_(r,vr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ds!==null?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},o=u0(r),o.return=s,s.child=o,cn=s,gt=null)):r=null,r===null)throw ms(s);return lg(r)?s.lanes=32:s.lanes=536870912,null}var A=c.children;return c=c.fallback,h?(bs(),h=s.mode,A=pf({mode:"hidden",children:A},h),c=_a(c,h,o,null),A.return=s,c.return=s,A.sibling=c,s.child=A,c=s.child,c.memoizedState=xm(o),c.childLanes=Am(r,b,o),s.memoizedState=Sm,Wl(null,c)):(_s(s),Cm(s,A))}var j=r.memoizedState;if(j!==null&&(A=j.dehydrated,A!==null)){if(g)s.flags&256?(_s(s),s.flags&=-257,s=Rm(r,s,o)):s.memoizedState!==null?(bs(),s.child=r.child,s.flags|=128,s=null):(bs(),A=c.fallback,h=s.mode,c=pf({mode:"visible",children:c.children},h),A=_a(A,h,o,null),A.flags|=2,c.return=s,A.return=s,c.sibling=A,s.child=c,Aa(s,r.child,null,o),c=s.child,c.memoizedState=xm(o),c.childLanes=Am(r,b,o),s.memoizedState=Sm,s=Wl(null,c));else if(_s(s),lg(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var Y=b.dgst;b=Y,c=Error(i(419)),c.stack="",c.digest=b,Ul({value:c,source:null,stack:null}),s=Rm(r,s,o)}else if(qt||po(r,s,o,!1),b=(o&r.childLanes)!==0,qt||b){if(b=ht,b!==null&&(c=Cn(b,o),c!==0&&c!==j.retryLane))throw j.retryLane=c,va(r,c),qn(b,r,c),wm;og(A)||xf(),s=Rm(r,s,o)}else og(A)?(s.flags|=192,s.child=r.child,s=null):(r=j.treeContext,gt=br(A.nextSibling),cn=s,Ye=!0,hs=null,vr=!1,r!==null&&h0(s,r),s=Cm(s,c.children),s.flags|=4096);return s}return h?(bs(),A=c.fallback,h=s.mode,j=r.child,Y=j.sibling,c=Si(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,Y!==null?A=Si(Y,A):(A=_a(A,h,o,null),A.flags|=2),A.return=s,c.return=s,c.sibling=A,s.child=c,Wl(null,c),c=s.child,A=r.child.memoizedState,A===null?A=xm(o):(h=A.cachePool,h!==null?(j=zt._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=_0(),A={baseLanes:A.baseLanes|o,cachePool:h}),c.memoizedState=A,c.childLanes=Am(r,b,o),s.memoizedState=Sm,Wl(r.child,c)):(_s(s),o=r.child,r=o.sibling,o=Si(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Cm(r,s){return s=pf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function pf(r,s){return r=Zn(22,r,null,s),r.lanes=0,r}function Rm(r,s,o){return Aa(s,r.child,null,o),r=Cm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function kv(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Fh(r.return,s,o)}function Im(r,s,o,c,h,g){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h,treeForkCount:g}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=h,b.treeForkCount=g)}function Ov(r,s,o){var c=s.pendingProps,h=c.revealOrder,g=c.tail;c=c.children;var b=Dt.current,A=(b&2)!==0;if(A?(b=b&1|2,s.flags|=128):b&=1,le(Dt,b),fn(r,s,c,o),c=Ye?jl:0,!A&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kv(r,o,s);else if(r.tag===19)kv(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&rf(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Im(s,!1,h,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&rf(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Im(s,!0,o,null,g,c);break;case"together":Im(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Ni(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ts|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(po(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Si(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Si(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Nm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Qu(r)))}function CA(r,s,o){switch(s.tag){case 3:tt(s,s.stateNode.containerInfo),gs(s,zt,r.memoizedState.cache),ba();break;case 27:case 5:ce(s);break;case 4:tt(s,s.stateNode.containerInfo);break;case 10:gs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,tm(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(_s(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Dv(r,s,o):(_s(s),r=Ni(r,s,o),r!==null?r.sibling:null);_s(s);break;case 19:var h=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(po(r,s,o,!1),c=(o&s.childLanes)!==0),h){if(c)return Ov(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Dt,Dt.current),c)break;return null;case 22:return s.lanes=0,xv(r,s,o,s.pendingProps);case 24:gs(s,zt,r.memoizedState.cache)}return Ni(r,s,o)}function Mv(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)qt=!0;else{if(!Nm(r,o)&&(s.flags&128)===0)return qt=!1,CA(r,s,o);qt=(r.flags&131072)!==0}else qt=!1,Ye&&(s.flags&1048576)!==0&&d0(s,jl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=Sa(s.elementType),s.type=r,typeof r=="function")Lh(r)?(c=Ra(r,c),s.tag=1,s=Iv(null,s,r,c,o)):(s.tag=0,s=Tm(null,s,r,c,o));else{if(r!=null){var h=r.$$typeof;if(h===B){s.tag=11,s=wv(null,s,r,c,o);break e}else if(h===C){s.tag=14,s=Tv(null,s,r,c,o);break e}}throw s=be(r)||r,Error(i(306,s,""))}}return s;case 0:return Tm(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,h=Ra(c,s.pendingProps),Iv(r,s,c,h,o);case 3:e:{if(tt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;h=g.element,Xh(r,s),Gl(s,c,null,o);var b=s.memoizedState;if(c=b.cache,gs(s,zt,c),c!==g.cache&&Hh(s,[zt],o,!0),$l(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Nv(r,s,c,o);break e}else if(c!==h){h=gr(Error(i(424)),s),Ul(h),s=Nv(r,s,c,o);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,gt=br(r.firstChild),cn=s,Ye=!0,hs=null,vr=!0,o=x0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ba(),c===h){s=Ni(r,s,o);break e}fn(r,s,c,o)}s=s.child}return s;case 26:return gf(r,s),r===null?(o=$_(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ye||(o=s.type,r=s.pendingProps,c=kf(ye.current).createElement(o),c[Vt]=s,c[en]=r,dn(c,o,r),jt(c),s.stateNode=c):s.memoizedState=$_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ce(s),r===null&&Ye&&(c=s.stateNode=q_(s.type,s.pendingProps,ye.current),cn=s,vr=!0,h=gt,Rs(s.type)?(cg=h,gt=br(c.firstChild)):gt=h),fn(r,s,s.pendingProps.children,o),gf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ye&&((h=c=gt)&&(c=r2(c,s.type,s.pendingProps,vr),c!==null?(s.stateNode=c,cn=s,gt=br(c.firstChild),vr=!1,h=!0):h=!1),h||ms(s)),ce(s),h=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,c=g.children,ig(h,g)?c=null:b!==null&&ig(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=rm(r,s,vA,null,null,o),dc._currentValue=h),gf(r,s),fn(r,s,c,o),s.child;case 6:return r===null&&Ye&&((r=o=gt)&&(o=i2(o,s.pendingProps,vr),o!==null?(s.stateNode=o,cn=s,gt=null,r=!0):r=!1),r||ms(s)),null;case 13:return Dv(r,s,o);case 4:return tt(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Aa(s,null,c,o):fn(r,s,c,o),s.child;case 11:return wv(r,s,s.type,s.pendingProps,o);case 7:return fn(r,s,s.pendingProps,o),s.child;case 8:return fn(r,s,s.pendingProps.children,o),s.child;case 12:return fn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,gs(s,s.type,c.value),fn(r,s,c.children,o),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,wa(s),h=un(h),c=c(h),s.flags|=1,fn(r,s,c,o),s.child;case 14:return Tv(r,s,s.type,s.pendingProps,o);case 15:return Sv(r,s,s.type,s.pendingProps,o);case 19:return Ov(r,s,o);case 31:return AA(r,s,o);case 22:return xv(r,s,o,s.pendingProps);case 24:return wa(s),c=un(zt),r===null?(h=Kh(),h===null&&(h=ht,g=$h(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:c,cache:h},Qh(s),gs(s,zt,h)):((r.lanes&o)!==0&&(Xh(r,s),Gl(s,null,null,o),$l()),h=r.memoizedState,g=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),gs(s,zt,c)):(c=g.cache,gs(s,zt,c),c!==h.cache&&Hh(s,[zt],o,!0))),fn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Di(r){r.flags|=4}function Dm(r,s,o,c,h){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(o_())r.flags|=8192;else throw xa=Zu,Yh}else r.flags&=-16777217}function Lv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!X_(s))if(o_())r.flags|=8192;else throw xa=Zu,Yh}function yf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Zt():536870912,r.lanes|=s,Ro|=s)}function Jl(r,s){if(!Ye)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function pt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function RA(r,s,o){var c=s.pendingProps;switch(Uh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ci(zt),ue(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(go(s)?Di(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bh())),pt(s),null;case 26:var h=s.type,g=s.memoizedState;return r===null?(Di(s),g!==null?(pt(s),Lv(s,g)):(pt(s),Dm(s,h,null,c,o))):g?g!==r.memoizedState?(Di(s),pt(s),Lv(s,g)):(pt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&Di(s),pt(s),Dm(s,h,r,c,o)),null;case 27:if(Ke(s),o=ye.current,h=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Di(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return pt(s),null}r=de.current,go(s)?m0(s):(r=q_(h,c,o),s.stateNode=r,Di(s))}return pt(s),null;case 5:if(Ke(s),h=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Di(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return pt(s),null}if(g=de.current,go(s))m0(s);else{var b=kf(ye.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(h,{is:c.is}):b.createElement(h)}}g[Vt]=s,g[en]=c;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=g;e:switch(dn(g,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Di(s)}}return pt(s),Dm(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Di(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=ye.current,go(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,h=cn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[Vt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||D_(r.nodeValue,o)),r||ms(s,!0)}else r=kf(r).createTextNode(c),r[Vt]=s,s.stateNode=r}return pt(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(c=go(s),o!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Vt]=s}else ba(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),r=!1}else o=Bh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(tr(s),s):(tr(s),null);if((s.flags&128)!==0)throw Error(i(558))}return pt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=go(s),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Vt]=s}else ba(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),h=!1}else h=Bh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(tr(s),s):(tr(s),null)}return tr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,r=r!==null&&r.memoizedState!==null,o&&(c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),yf(s,s.updateQueue),pt(s),null);case 4:return ue(),r===null&&Zm(s.stateNode.containerInfo),pt(s),null;case 10:return Ci(s.type),pt(s),null;case 19:if(ee(Dt),c=s.memoizedState,c===null)return pt(s),null;if(h=(s.flags&128)!==0,g=c.rendering,g===null)if(h)Jl(c,!1);else{if(Ct!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=rf(r),g!==null){for(s.flags|=128,Jl(c,!1),r=g.updateQueue,s.updateQueue=r,yf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)c0(o,r),o=o.sibling;return le(Dt,Dt.current&1|2),Ye&&xi(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&Jt()>wf&&(s.flags|=128,h=!0,Jl(c,!1),s.lanes=4194304)}else{if(!h)if(r=rf(g),r!==null){if(s.flags|=128,h=!0,r=r.updateQueue,s.updateQueue=r,yf(s,r),Jl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Ye)return pt(s),null}else 2*Jt()-c.renderingStartTime>wf&&o!==536870912&&(s.flags|=128,h=!0,Jl(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(r=c.last,r!==null?r.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Jt(),r.sibling=null,o=Dt.current,le(Dt,h?o&1|2:o&1),Ye&&xi(s,c.treeForkCount),r):(pt(s),null);case 22:case 23:return tr(s),em(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),o=s.updateQueue,o!==null&&yf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&ee(Ta),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ci(zt),pt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function IA(r,s){switch(Uh(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ci(zt),ue(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ke(s),null;case 31:if(s.memoizedState!==null){if(tr(s),s.alternate===null)throw Error(i(340));ba()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(tr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ba()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ee(Dt),null;case 4:return ue(),null;case 10:return Ci(s.type),null;case 22:case 23:return tr(s),em(),r!==null&&ee(Ta),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ci(zt),null;case 25:return null;default:return null}}function Pv(r,s){switch(Uh(s),s.tag){case 3:Ci(zt),ue();break;case 26:case 27:case 5:Ke(s);break;case 4:ue();break;case 31:s.memoizedState!==null&&tr(s);break;case 13:tr(s);break;case 19:ee(Dt);break;case 10:Ci(s.type);break;case 22:case 23:tr(s),em(),r!==null&&ee(Ta);break;case 24:Ci(zt)}}function Zl(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&r)===r){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==h)}}catch(A){st(s,s.return,A)}}function Es(r,s,o){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&r)===r){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,h=s;var j=o,Y=A;try{Y()}catch(te){st(h,j,te)}}}c=c.next}while(c!==g)}}catch(te){st(s,s.return,te)}}function Vv(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{C0(s,o)}catch(c){st(r,r.return,c)}}}function jv(r,s,o){o.props=Ra(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){st(r,s,c)}}function ec(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(h){st(r,s,h)}}function ai(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){st(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){st(r,s,h)}else o.current=null}function Uv(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){st(r,r.return,h)}}function km(r,s,o){try{var c=r.stateNode;WA(c,r.type,o,s),c[en]=s}catch(h){st(r,r.return,h)}}function zv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Rs(r.type)||r.tag===4}function Om(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||zv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Rs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Mm(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Rr));else if(c!==4&&(c===27&&Rs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Mm(r,s,o),r=r.sibling;r!==null;)Mm(r,s,o),r=r.sibling}function vf(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Rs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(vf(r,s,o),r=r.sibling;r!==null;)vf(r,s,o),r=r.sibling}function Bv(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);dn(s,c,o),s[Vt]=r,s[en]=o}catch(g){st(r,r.return,g)}}var ki=!1,Ft=!1,Lm=!1,qv=typeof WeakSet=="function"?WeakSet:Set,nn=null;function NA(r,s){if(r=r.containerInfo,ng=Uf,r=e0(r),Rh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,j=-1,Y=0,te=0,re=r,Q=null;t:for(;;){for(var Z;re!==o||h!==0&&re.nodeType!==3||(A=b+h),re!==g||c!==0&&re.nodeType!==3||(j=b+c),re.nodeType===3&&(b+=re.nodeValue.length),(Z=re.firstChild)!==null;)Q=re,re=Z;for(;;){if(re===r)break t;if(Q===o&&++Y===h&&(A=b),Q===g&&++te===c&&(j=b),(Z=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=Z}o=A===-1||j===-1?null:{start:A,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(rg={focusedElem:r,selectionRange:o},Uf=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,g=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)h=r[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=Ra(o.type,h);r=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ae){st(o,o.return,Ae)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)ag(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ag(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}}function Fv(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Mi(r,o),c&4&&Zl(5,o);break;case 1:if(Mi(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(b){st(o,o.return,b)}else{var h=Ra(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){st(o,o.return,b)}}c&64&&Vv(o),c&512&&ec(o,o.return);break;case 3:if(Mi(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{C0(r,s)}catch(b){st(o,o.return,b)}}break;case 27:s===null&&c&4&&Bv(o);case 26:case 5:Mi(r,o),s===null&&c&4&&Uv(o),c&512&&ec(o,o.return);break;case 12:Mi(r,o);break;case 31:Mi(r,o),c&4&&Gv(r,o);break;case 13:Mi(r,o),c&4&&Kv(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=UA.bind(null,o),s2(r,o))));break;case 22:if(c=o.memoizedState!==null||ki,!c){s=s!==null&&s.memoizedState!==null||Ft,h=ki;var g=Ft;ki=c,(Ft=s)&&!g?Li(r,o,(o.subtreeFlags&8772)!==0):Mi(r,o),ki=h,Ft=g}break;case 30:break;default:Mi(r,o)}}function Hv(r){var s=r.alternate;s!==null&&(r.alternate=null,Hv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Wa(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Tt=null,jn=!1;function Oi(r,s,o){for(o=o.child;o!==null;)$v(r,s,o),o=o.sibling}function $v(r,s,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Kn,o)}catch{}switch(o.tag){case 26:Ft||ai(o,s),Oi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||ai(o,s);var c=Tt,h=jn;Rs(o.type)&&(Tt=o.stateNode,jn=!1),Oi(r,s,o),cc(o.stateNode),Tt=c,jn=h;break;case 5:Ft||ai(o,s);case 6:if(c=Tt,h=jn,Tt=null,Oi(r,s,o),Tt=c,jn=h,Tt!==null)if(jn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(o.stateNode)}catch(g){st(o,s,g)}else try{Tt.removeChild(o.stateNode)}catch(g){st(o,s,g)}break;case 18:Tt!==null&&(jn?(r=Tt,V_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Po(r)):V_(Tt,o.stateNode));break;case 4:c=Tt,h=jn,Tt=o.stateNode.containerInfo,jn=!0,Oi(r,s,o),Tt=c,jn=h;break;case 0:case 11:case 14:case 15:Es(2,o,s),Ft||Es(4,o,s),Oi(r,s,o);break;case 1:Ft||(ai(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&jv(o,s,c)),Oi(r,s,o);break;case 21:Oi(r,s,o);break;case 22:Ft=(c=Ft)||o.memoizedState!==null,Oi(r,s,o),Ft=c;break;default:Oi(r,s,o)}}function Gv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Po(r)}catch(o){st(s,s.return,o)}}}function Kv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Po(r)}catch(o){st(s,s.return,o)}}function DA(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new qv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new qv),s;default:throw Error(i(435,r.tag))}}function _f(r,s){var o=DA(r);s.forEach(function(c){if(!o.has(c)){o.add(c);var h=zA.bind(null,r,c);c.then(h,h)}})}function Un(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],g=r,b=s,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Rs(A.type)){Tt=A.stateNode,jn=!1;break e}break;case 5:Tt=A.stateNode,jn=!1;break e;case 3:case 4:Tt=A.stateNode.containerInfo,jn=!0;break e}A=A.return}if(Tt===null)throw Error(i(160));$v(g,b,h),Tt=null,jn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Yv(s,r),s=s.sibling}var Mr=null;function Yv(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Un(s,r),zn(r),c&4&&(Es(3,r,r.return),Zl(3,r),Es(5,r,r.return));break;case 1:Un(s,r),zn(r),c&512&&(Ft||o===null||ai(o,o.return)),c&64&&ki&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=Mr;if(Un(s,r),zn(r),c&512&&(Ft||o===null||ai(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Gr]||g[Vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),dn(g,c,o),g[Vt]=r,jt(g),c=g;break e;case"link":var b=Y_("link","href",h).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=h.createElement(c),dn(g,c,o),h.head.appendChild(g);break;case"meta":if(b=Y_("meta","content",h).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=h.createElement(c),dn(g,c,o),h.head.appendChild(g);break;default:throw Error(i(468,c))}g[Vt]=r,jt(g),c=g}r.stateNode=c}else Q_(h,r.type,r.stateNode);else r.stateNode=K_(h,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Q_(h,r.type,r.stateNode):K_(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&km(r,r.memoizedProps,o.memoizedProps)}break;case 27:Un(s,r),zn(r),c&512&&(Ft||o===null||ai(o,o.return)),o!==null&&c&4&&km(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Un(s,r),zn(r),c&512&&(Ft||o===null||ai(o,o.return)),r.flags&32){h=r.stateNode;try{Vn(h,"")}catch(pe){st(r,r.return,pe)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,km(r,h,o!==null?o.memoizedProps:h)),c&1024&&(Lm=!0);break;case 6:if(Un(s,r),zn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(pe){st(r,r.return,pe)}}break;case 3:if(Lf=null,h=Mr,Mr=Of(s.containerInfo),Un(s,r),Mr=h,zn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Po(s.containerInfo)}catch(pe){st(r,r.return,pe)}Lm&&(Lm=!1,Qv(r));break;case 4:c=Mr,Mr=Of(r.stateNode.containerInfo),Un(s,r),zn(r),Mr=c;break;case 12:Un(s,r),zn(r);break;case 31:Un(s,r),zn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,_f(r,c)));break;case 13:Un(s,r),zn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ef=Jt()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,_f(r,c)));break;case 22:h=r.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,Y=ki,te=Ft;if(ki=Y||h,Ft=te||j,Un(s,r),Ft=te,ki=Y,zn(r),c&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||j||ki||Ft||Ia(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){j=o=s;try{if(g=j.stateNode,h)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=j.stateNode;var re=j.memoizedProps.style,Q=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){st(j,j.return,pe)}}}else if(s.tag===6){if(o===null){j=s;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(pe){st(j,j.return,pe)}}}else if(s.tag===18){if(o===null){j=s;try{var Z=j.stateNode;h?j_(Z,!0):j_(j.stateNode,!1)}catch(pe){st(j,j.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,_f(r,o))));break;case 19:Un(s,r),zn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,_f(r,c)));break;case 30:break;case 21:break;default:Un(s,r),zn(r)}}function zn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(zv(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,g=Om(r);vf(r,g,h);break;case 5:var b=o.stateNode;o.flags&32&&(Vn(b,""),o.flags&=-33);var A=Om(r);vf(r,A,b);break;case 3:case 4:var j=o.stateNode.containerInfo,Y=Om(r);Mm(r,Y,j);break;default:throw Error(i(161))}}catch(te){st(r,r.return,te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Qv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Qv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Mi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Fv(r,s.alternate,s),s=s.sibling}function Ia(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Es(4,s,s.return),Ia(s);break;case 1:ai(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&jv(s,s.return,o),Ia(s);break;case 27:cc(s.stateNode);case 26:case 5:ai(s,s.return),Ia(s);break;case 22:s.memoizedState===null&&Ia(s);break;case 30:Ia(s);break;default:Ia(s)}r=r.sibling}}function Li(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Li(h,g,o),Zl(4,g);break;case 1:if(Li(h,g,o),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){st(c,c.return,Y)}if(c=g,h=c.updateQueue,h!==null){var A=c.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)A0(j[h],A)}catch(Y){st(c,c.return,Y)}}o&&b&64&&Vv(g),ec(g,g.return);break;case 27:Bv(g);case 26:case 5:Li(h,g,o),o&&c===null&&b&4&&Uv(g),ec(g,g.return);break;case 12:Li(h,g,o);break;case 31:Li(h,g,o),o&&b&4&&Gv(h,g);break;case 13:Li(h,g,o),o&&b&4&&Kv(h,g);break;case 22:g.memoizedState===null&&Li(h,g,o),ec(g,g.return);break;case 30:break;default:Li(h,g,o)}s=s.sibling}}function Pm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&zl(o))}function Vm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&zl(r))}function Lr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Xv(r,s,o,c),s=s.sibling}function Xv(r,s,o,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Lr(r,s,o,c),h&2048&&Zl(9,s);break;case 1:Lr(r,s,o,c);break;case 3:Lr(r,s,o,c),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&zl(r)));break;case 12:if(h&2048){Lr(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){st(s,s.return,j)}}else Lr(r,s,o,c);break;case 31:Lr(r,s,o,c);break;case 13:Lr(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Lr(r,s,o,c):tc(r,s):g._visibility&2?Lr(r,s,o,c):(g._visibility|=2,xo(r,s,o,c,(s.subtreeFlags&10256)!==0||!1)),h&2048&&Pm(b,s);break;case 24:Lr(r,s,o,c),h&2048&&Vm(s.alternate,s);break;default:Lr(r,s,o,c)}}function xo(r,s,o,c,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=r,b=s,A=o,j=c,Y=b.flags;switch(b.tag){case 0:case 11:case 15:xo(g,b,A,j,h),Zl(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?xo(g,b,A,j,h):tc(g,b):(te._visibility|=2,xo(g,b,A,j,h)),h&&Y&2048&&Pm(b.alternate,b);break;case 24:xo(g,b,A,j,h),h&&Y&2048&&Vm(b.alternate,b);break;default:xo(g,b,A,j,h)}s=s.sibling}}function tc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,h=c.flags;switch(c.tag){case 22:tc(o,c),h&2048&&Pm(c.alternate,c);break;case 24:tc(o,c),h&2048&&Vm(c.alternate,c);break;default:tc(o,c)}s=s.sibling}}var nc=8192;function Ao(r,s,o){if(r.subtreeFlags&nc)for(r=r.child;r!==null;)Wv(r,s,o),r=r.sibling}function Wv(r,s,o){switch(r.tag){case 26:Ao(r,s,o),r.flags&nc&&r.memoizedState!==null&&y2(o,Mr,r.memoizedState,r.memoizedProps);break;case 5:Ao(r,s,o);break;case 3:case 4:var c=Mr;Mr=Of(r.stateNode.containerInfo),Ao(r,s,o),Mr=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=nc,nc=16777216,Ao(r,s,o),nc=c):Ao(r,s,o));break;default:Ao(r,s,o)}}function Jv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function rc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];nn=c,e_(c,r)}Jv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zv(r),r=r.sibling}function Zv(r){switch(r.tag){case 0:case 11:case 15:rc(r),r.flags&2048&&Es(9,r,r.return);break;case 3:rc(r);break;case 12:rc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,bf(r)):rc(r);break;default:rc(r)}}function bf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];nn=c,e_(c,r)}Jv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Es(8,s,s.return),bf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,bf(s));break;default:bf(s)}r=r.sibling}}function e_(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:Es(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,nn=c;else e:for(o=r;nn!==null;){c=nn;var h=c.sibling,g=c.return;if(Hv(c),c===o){nn=null;break e}if(h!==null){h.return=g,nn=h;break e}nn=g}}}var kA={getCacheForType:function(r){var s=un(zt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return un(zt).controller.signal}},OA=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ht=null,Ue=null,Be=0,it=0,nr=null,ws=!1,Co=!1,jm=!1,Pi=0,Ct=0,Ts=0,Na=0,Um=0,rr=0,Ro=0,ic=null,Bn=null,zm=!1,Ef=0,t_=0,wf=1/0,Tf=null,Ss=null,Qt=0,xs=null,Io=null,Vi=0,Bm=0,qm=null,n_=null,sc=0,Fm=null;function ir(){return(Ze&2)!==0&&Be!==0?Be&-Be:X.T!==null?Qm():Qn()}function r_(){if(rr===0)if((Be&536870912)===0||Ye){var r=bi;bi<<=1,(bi&3932160)===0&&(bi=262144),rr=r}else rr=536870912;return r=er.current,r!==null&&(r.flags|=32),rr}function qn(r,s,o){(r===ht&&(it===2||it===9)||r.cancelPendingCommit!==null)&&(No(r,0),As(r,Be,rr,!1)),Ln(r,o),((Ze&2)===0||r!==ht)&&(r===ht&&((Ze&2)===0&&(Na|=o),Ct===4&&As(r,Be,rr,!1)),oi(r))}function i_(r,s,o){if((Ze&6)!==0)throw Error(i(327));var c=!o&&(s&127)===0&&(s&r.expiredLanes)===0||Pt(r,s),h=c?PA(r,s):$m(r,s,!0),g=c;do{if(h===0){Co&&!c&&As(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!MA(o)){h=$m(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var A=r;h=ic;var j=A.current.memoizedState.isDehydrated;if(j&&(No(A,b).flags|=256),b=$m(A,b,!1),b!==2){if(jm&&!j){A.errorRecoveryDisabledLanes|=g,Na|=g,h=4;break e}g=Bn,Bn=h,g!==null&&(Bn===null?Bn=g:Bn.push.apply(Bn,g))}h=b}if(g=!1,h!==2)continue}}if(h===1){No(r,0),As(r,s,0,!0);break}e:{switch(c=r,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:As(c,s,rr,!ws);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=Ef+300-Jt(),10<h)){if(As(c,s,rr,!ws),Et(c,0,!0)!==0)break e;Vi=s,c.timeoutHandle=L_(s_.bind(null,c,o,Bn,Tf,zm,s,rr,Na,Ro,ws,g,"Throttled",-0,0),h);break e}s_(c,o,Bn,Tf,zm,s,rr,Na,Ro,ws,g,null,-0,0)}}break}while(!0);oi(r)}function s_(r,s,o,c,h,g,b,A,j,Y,te,re,Q,Z){if(r.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rr},Wv(s,g,re);var pe=(g&62914560)===g?Ef-Jt():(g&4194048)===g?t_-Jt():0;if(pe=v2(re,pe),pe!==null){Vi=g,r.cancelPendingCommit=pe(h_.bind(null,r,s,g,o,c,h,b,A,j,te,re,null,Q,Z)),As(r,g,b,!Y);return}}h_(r,s,g,o,c,h,b,A,j)}function MA(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],g=h.getSnapshot;h=h.value;try{if(!Jn(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function As(r,s,o,c){s&=~Um,s&=~Na,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var h=s;0<h;){var g=31-_t(h),b=1<<g;c[g]=-1,h&=~b}o!==0&&vn(r,o,s)}function Sf(){return(Ze&6)===0?(ac(0),!1):!0}function Hm(){if(Ue!==null){if(it===0)var r=Ue.return;else r=Ue,Ai=Ea=null,am(r),bo=null,ql=0,r=Ue;for(;r!==null;)Pv(r.alternate,r),r=r.return;Ue=null}}function No(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,e2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Vi=0,Hm(),ht=r,Ue=o=Si(r.current,null),Be=s,it=0,nr=null,ws=!1,Co=Pt(r,s),jm=!1,Ro=rr=Um=Na=Ts=Ct=0,Bn=ic=null,zm=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var h=31-_t(c),g=1<<h;s|=r[h],c&=~g}return Pi=s,Hu(),o}function a_(r,s){Le=null,X.H=Xl,s===_o||s===Ju?(s=w0(),it=3):s===Yh?(s=w0(),it=4):it=s===wm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,nr=s,Ue===null&&(Ct=1,hf(r,gr(s,r.current)))}function o_(){var r=er.current;return r===null?!0:(Be&4194048)===Be?_r===null:(Be&62914560)===Be||(Be&536870912)!==0?r===_r:!1}function l_(){var r=X.H;return X.H=Xl,r===null?Xl:r}function c_(){var r=X.A;return X.A=kA,r}function xf(){Ct=4,ws||(Be&4194048)!==Be&&er.current!==null||(Co=!0),(Ts&134217727)===0&&(Na&134217727)===0||ht===null||As(ht,Be,rr,!1)}function $m(r,s,o){var c=Ze;Ze|=2;var h=l_(),g=c_();(ht!==r||Be!==s)&&(Tf=null,No(r,s)),s=!1;var b=Ct;e:do try{if(it!==0&&Ue!==null){var A=Ue,j=nr;switch(it){case 8:Hm(),b=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(s=!0);var Y=it;if(it=0,nr=null,Do(r,A,j,Y),o&&Co){b=0;break e}break;default:Y=it,it=0,nr=null,Do(r,A,j,Y)}}LA(),b=Ct;break}catch(te){a_(r,te)}while(!0);return s&&r.shellSuspendCounter++,Ai=Ea=null,Ze=c,X.H=h,X.A=g,Ue===null&&(ht=null,Be=0,Hu()),b}function LA(){for(;Ue!==null;)u_(Ue)}function PA(r,s){var o=Ze;Ze|=2;var c=l_(),h=c_();ht!==r||Be!==s?(Tf=null,wf=Jt()+500,No(r,s)):Co=Pt(r,s);e:do try{if(it!==0&&Ue!==null){s=Ue;var g=nr;t:switch(it){case 1:it=0,nr=null,Do(r,s,g,1);break;case 2:case 9:if(b0(g)){it=0,nr=null,f_(s);break}s=function(){it!==2&&it!==9||ht!==r||(it=7),oi(r)},g.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:b0(g)?(it=0,nr=null,f_(s)):(it=0,nr=null,Do(r,s,g,7));break;case 5:var b=null;switch(Ue.tag){case 26:b=Ue.memoizedState;case 5:case 27:var A=Ue;if(b?X_(b):A.stateNode.complete){it=0,nr=null;var j=A.sibling;if(j!==null)Ue=j;else{var Y=A.return;Y!==null?(Ue=Y,Af(Y)):Ue=null}break t}}it=0,nr=null,Do(r,s,g,5);break;case 6:it=0,nr=null,Do(r,s,g,6);break;case 8:Hm(),Ct=6;break e;default:throw Error(i(462))}}VA();break}catch(te){a_(r,te)}while(!0);return Ai=Ea=null,X.H=c,X.A=h,Ze=o,Ue!==null?0:(ht=null,Be=0,Hu(),Ct)}function VA(){for(;Ue!==null&&!ns();)u_(Ue)}function u_(r){var s=Mv(r.alternate,r,Pi);r.memoizedProps=r.pendingProps,s===null?Af(r):Ue=s}function f_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Rv(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=Rv(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:am(s);default:Pv(o,s),s=Ue=c0(s,Pi),s=Mv(o,s,Pi)}r.memoizedProps=r.pendingProps,s===null?Af(r):Ue=s}function Do(r,s,o,c){Ai=Ea=null,am(s),bo=null,ql=0;var h=s.return;try{if(xA(r,h,s,o,Be)){Ct=1,hf(r,gr(o,r.current)),Ue=null;return}}catch(g){if(h!==null)throw Ue=h,g;Ct=1,hf(r,gr(o,r.current)),Ue=null;return}s.flags&32768?(Ye||c===1?r=!0:Co||(Be&536870912)!==0?r=!1:(ws=r=!0,(c===2||c===9||c===3||c===6)&&(c=er.current,c!==null&&c.tag===13&&(c.flags|=16384))),d_(s,r)):Af(s)}function Af(r){var s=r;do{if((s.flags&32768)!==0){d_(s,ws);return}r=s.return;var o=RA(s.alternate,s,Pi);if(o!==null){Ue=o;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=r}while(s!==null);Ct===0&&(Ct=5)}function d_(r,s){do{var o=IA(r.alternate,r);if(o!==null){o.flags&=32767,Ue=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=o}while(r!==null);Ct=6,Ue=null}function h_(r,s,o,c,h,g,b,A,j){r.cancelPendingCommit=null;do Cf();while(Qt!==0);if((Ze&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Oh,It(r,o,g,b,A,j),r===ht&&(Ue=ht=null,Be=0),Io=s,xs=r,Vi=o,Bm=g,qm=h,n_=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,BA(An,function(){return v_(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,h=oe.p,oe.p=2,b=Ze,Ze|=4;try{NA(r,s,o)}finally{Ze=b,oe.p=h,X.T=c}}Qt=1,m_(),g_(),p_()}}function m_(){if(Qt===1){Qt=0;var r=xs,s=Io,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var c=oe.p;oe.p=2;var h=Ze;Ze|=4;try{Yv(s,r);var g=rg,b=e0(r.containerInfo),A=g.focusedElem,j=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&Zy(A.ownerDocument.documentElement,A)){if(j!==null&&Rh(A)){var Y=j.start,te=j.end;if(te===void 0&&(te=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(te,A.value.length);else{var re=A.ownerDocument||document,Q=re&&re.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),pe=A.textContent.length,Ae=Math.min(j.start,pe),ut=j.end===void 0?Ae:Math.min(j.end,pe);!Z.extend&&Ae>ut&&(b=ut,ut=Ae,Ae=b);var $=Jy(A,Ae),q=Jy(A,ut);if($&&q&&(Z.rangeCount!==1||Z.anchorNode!==$.node||Z.anchorOffset!==$.offset||Z.focusNode!==q.node||Z.focusOffset!==q.offset)){var K=re.createRange();K.setStart($.node,$.offset),Z.removeAllRanges(),Ae>ut?(Z.addRange(K),Z.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),Z.addRange(K))}}}}for(re=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&re.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var ne=re[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Uf=!!ng,rg=ng=null}finally{Ze=h,oe.p=c,X.T=o}}r.current=s,Qt=2}}function g_(){if(Qt===2){Qt=0;var r=xs,s=Io,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var c=oe.p;oe.p=2;var h=Ze;Ze|=4;try{Fv(r,s.alternate,s)}finally{Ze=h,oe.p=c,X.T=o}}Qt=3}}function p_(){if(Qt===4||Qt===3){Qt=0,ra();var r=xs,s=Io,o=Vi,c=n_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Qt=5:(Qt=0,Io=xs=null,y_(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Ss=null),Rn(o),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Kn,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=X.T,h=oe.p,oe.p=2,X.T=null;try{for(var g=r.onRecoverableError,b=0;b<c.length;b++){var A=c[b];g(A.value,{componentStack:A.stack})}}finally{X.T=s,oe.p=h}}(Vi&3)!==0&&Cf(),oi(r),h=r.pendingLanes,(o&261930)!==0&&(h&42)!==0?r===Fm?sc++:(sc=0,Fm=r):sc=0,ac(0)}}function y_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,zl(s)))}function Cf(){return m_(),g_(),p_(),v_()}function v_(){if(Qt!==5)return!1;var r=xs,s=Bm;Bm=0;var o=Rn(Vi),c=X.T,h=oe.p;try{oe.p=32>o?32:o,X.T=null,o=qm,qm=null;var g=xs,b=Vi;if(Qt=0,Io=xs=null,Vi=0,(Ze&6)!==0)throw Error(i(331));var A=Ze;if(Ze|=4,Zv(g.current),Xv(g,g.current,b,o),Ze=A,ac(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Kn,g)}catch{}return!0}finally{oe.p=h,X.T=c,y_(r,s)}}function __(r,s,o){s=gr(o,s),s=Em(r.stateNode,s,2),r=vs(r,s,2),r!==null&&(Ln(r,2),oi(r))}function st(r,s,o){if(r.tag===3)__(r,r,o);else for(;s!==null;){if(s.tag===3){__(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ss===null||!Ss.has(c))){r=gr(o,r),o=bv(2),c=vs(s,o,2),c!==null&&(Ev(o,c,s,r),Ln(c,2),oi(c));break}}s=s.return}}function Gm(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new OA;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(o)||(jm=!0,h.add(o),r=jA.bind(null,r,s,o),s.then(r,r))}function jA(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ht===r&&(Be&o)===o&&(Ct===4||Ct===3&&(Be&62914560)===Be&&300>Jt()-Ef?(Ze&2)===0&&No(r,0):Um|=o,Ro===Be&&(Ro=0)),oi(r)}function b_(r,s){s===0&&(s=Zt()),r=va(r,s),r!==null&&(Ln(r,s),oi(r))}function UA(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),b_(r,o)}function zA(r,s){var o=0;switch(r.tag){case 31:case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),b_(r,o)}function BA(r,s){return at(r,s)}var Rf=null,ko=null,Km=!1,If=!1,Ym=!1,Cs=0;function oi(r){r!==ko&&r.next===null&&(ko===null?Rf=ko=r:ko=ko.next=r),If=!0,Km||(Km=!0,FA())}function ac(r,s){if(!Ym&&If){Ym=!0;do for(var o=!1,c=Rf;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var b=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-_t(42|r)+1)-1,g&=h&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,S_(c,g))}else g=Be,g=Et(c,c===ht?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Pt(c,g)||(o=!0,S_(c,g));c=c.next}while(o);Ym=!1}}function qA(){E_()}function E_(){If=Km=!1;var r=0;Cs!==0&&ZA()&&(r=Cs);for(var s=Jt(),o=null,c=Rf;c!==null;){var h=c.next,g=w_(c,s);g===0?(c.next=null,o===null?Rf=h:o.next=h,h===null&&(ko=o)):(o=c,(r!==0||(g&3)!==0)&&(If=!0)),c=h}Qt!==0&&Qt!==5||ac(r),Cs!==0&&(Cs=0)}function w_(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-_t(g),A=1<<b,j=h[b];j===-1?((A&o)===0||(A&c)!==0)&&(h[b]=yn(A,s)):j<=s&&(r.expiredLanes|=A),g&=~A}if(s=ht,o=Be,o=Et(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(it===2||it===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&$n(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Pt(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&$n(c),Rn(o)){case 2:case 8:o=lr;break;case 32:o=An;break;case 268435456:o=sa;break;default:o=An}return c=T_.bind(null,r),o=at(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&$n(c),r.callbackPriority=2,r.callbackNode=null,2}function T_(r,s){if(Qt!==0&&Qt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Cf()&&r.callbackNode!==o)return null;var c=Be;return c=Et(r,r===ht?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(i_(r,c,s),w_(r,Jt()),r.callbackNode!=null&&r.callbackNode===o?T_.bind(null,r):null)}function S_(r,s){if(Cf())return null;i_(r,s,!0)}function FA(){t2(function(){(Ze&6)!==0?at(ia,qA):E_()})}function Qm(){if(Cs===0){var r=yo;r===0&&(r=cr,cr<<=1,(cr&261888)===0&&(cr=256)),Cs=r}return Cs}function x_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:to(""+r)}function A_(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function HA(r,s,o,c,h){if(s==="submit"&&o&&o.stateNode===h){var g=x_((h[en]||null).action),b=c.submitter;b&&(s=(s=b[en]||null)?x_(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var A=new ei("action","action",null,c,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Cs!==0){var j=b?A_(h,b):new FormData(h);gm(o,{pending:!0,data:j,method:h.method,action:g},null,j)}}else typeof g=="function"&&(A.preventDefault(),j=b?A_(h,b):new FormData(h),gm(o,{pending:!0,data:j,method:h.method,action:g},g,j))},currentTarget:h}]})}}for(var Xm=0;Xm<kh.length;Xm++){var Wm=kh[Xm],$A=Wm.toLowerCase(),GA=Wm[0].toUpperCase()+Wm.slice(1);Or($A,"on"+GA)}Or(r0,"onAnimationEnd"),Or(i0,"onAnimationIteration"),Or(s0,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(lA,"onTransitionRun"),Or(cA,"onTransitionStart"),Or(uA,"onTransitionCancel"),Or(a0,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oc));function C_(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var A=c[b],j=A.instance,Y=A.currentTarget;if(A=A.listener,j!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=Y;try{g(h)}catch(te){Fu(te)}h.currentTarget=null,g=j}else for(b=0;b<c.length;b++){if(A=c[b],j=A.instance,Y=A.currentTarget,A=A.listener,j!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=Y;try{g(h)}catch(te){Fu(te)}h.currentTarget=null,g=j}}}}function ze(r,s){var o=s[Xa];o===void 0&&(o=s[Xa]=new Set);var c=r+"__bubble";o.has(c)||(R_(s,r,2,!1),o.add(c))}function Jm(r,s,o){var c=0;s&&(c|=4),R_(o,r,c,s)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function Zm(r){if(!r[Nf]){r[Nf]=!0,_l.forEach(function(o){o!=="selectionchange"&&(KA.has(o)||Jm(o,!1,r),Jm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Nf]||(s[Nf]=!0,Jm("selectionchange",!1,s))}}function R_(r,s,o,c){switch(rb(s)){case 2:var h=E2;break;case 8:h=w2;break;default:h=mg}o=h.bind(null,s,o,r),h=void 0,!ua||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function eg(r,s,o,c,h){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===h)break;if(b===4)for(b=c.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;A!==null;){if(b=Kr(A),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){c=g=b;continue e}A=A.parentNode}}c=c.return}ls(function(){var Y=g,te=fr(o),re=[];e:{var Q=o0.get(r);if(Q!==void 0){var Z=ei,pe=r;switch(r){case"keypress":if(da(o)===0)break e;case"keydown":case"keyup":Z=zu;break;case"focusin":pe="focus",Z=ma;break;case"focusout":pe="blur",Z=ma;break;case"beforeblur":case"afterblur":Z=ma;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case r0:case i0:case s0:Z=Ou;break;case a0:Z=I;break;case"scroll":case"scrollend":Z=Dl;break;case"wheel":Z=W;break;case"copy":case"cut":case"paste":Z=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ti;break;case"toggle":case"beforetoggle":Z=Me}var Ae=(s&4)!==0,ut=!Ae&&(r==="scroll"||r==="scrollend"),$=Ae?Q!==null?Q+"Capture":null:Q;Ae=[];for(var q=Y,K;q!==null;){var ne=q;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||$===null||(ne=Ir(q,$),ne!=null&&Ae.push(lc(q,ne,K))),ut)break;q=q.return}0<Ae.length&&(Q=new Z(Q,pe,null,o,te),re.push({event:Q,listeners:Ae}))}}if((s&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",Q&&o!==Rl&&(pe=o.relatedTarget||o.fromElement)&&(Kr(pe)||pe[$r]))break e;if((Z||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(pe=o.relatedTarget||o.toElement,Z=Y,pe=pe?Kr(pe):null,pe!==null&&(ut=l(pe),Ae=pe.tag,pe!==ut||Ae!==5&&Ae!==27&&Ae!==6)&&(pe=null)):(Z=null,pe=Y),Z!==pe)){if(Ae=kl,ne="onMouseLeave",$="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=Ti,ne="onPointerLeave",$="onPointerEnter",q="pointer"),ut=Z==null?Q:Xn(Z),K=pe==null?Q:Xn(pe),Q=new Ae(ne,q+"leave",Z,o,te),Q.target=ut,Q.relatedTarget=K,ne=null,Kr(te)===Y&&(Ae=new Ae($,q+"enter",pe,o,te),Ae.target=K,Ae.relatedTarget=ut,ne=Ae),ut=ne,Z&&pe)t:{for(Ae=YA,$=Z,q=pe,K=0,ne=$;ne;ne=Ae(ne))K++;ne=0;for(var Ee=q;Ee;Ee=Ae(Ee))ne++;for(;0<K-ne;)$=Ae($),K--;for(;0<ne-K;)q=Ae(q),ne--;for(;K--;){if($===q||q!==null&&$===q.alternate){Ae=$;break t}$=Ae($),q=Ae(q)}Ae=null}else Ae=null;Z!==null&&I_(re,Q,Z,Ae,!1),pe!==null&&ut!==null&&I_(re,ut,pe,Ae,!0)}}e:{if(Q=Y?Xn(Y):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var Xe=Gy;else if(Hy(Q))if(Ky)Xe=sA;else{Xe=rA;var ve=nA}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&eo(Y.elementType)&&(Xe=Gy):Xe=iA;if(Xe&&(Xe=Xe(r,Y))){$y(re,Xe,o,te);break e}ve&&ve(r,Q,Y),r==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&xl(Q,"number",Q.value)}switch(ve=Y?Xn(Y):window,r){case"focusin":(Hy(ve)||ve.contentEditable==="true")&&(lo=ve,Ih=Y,Vl=null);break;case"focusout":Vl=Ih=lo=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,t0(re,o,te);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":t0(re,o,te)}var Ve;if(Je)e:{switch(r){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else oo?ga(r,o)&&(qe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(qe="onCompositionStart");qe&&(ri&&o.locale!=="ko"&&(oo||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&oo&&(Ve=Nl()):(Zr=te,Il="value"in Zr?Zr.value:Zr.textContent,oo=!0)),ve=Df(Y,qe),0<ve.length&&(qe=new ni(qe,r,null,o,te),re.push({event:qe,listeners:ve}),Ve?qe.data=Ve:(Ve=ao(o),Ve!==null&&(qe.data=Ve)))),(Ve=hr?Jx(r,o):Zx(r,o))&&(qe=Df(Y,"onBeforeInput"),0<qe.length&&(ve=new ni("onBeforeInput","beforeinput",null,o,te),re.push({event:ve,listeners:qe}),ve.data=Ve)),HA(re,r,Y,o,te)}C_(re,s)})}function lc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Df(r,s){for(var o=s+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Ir(r,o),h!=null&&c.unshift(lc(r,h,g)),h=Ir(r,s),h!=null&&c.push(lc(r,h,g))),r.tag===3)return c;r=r.return}return[]}function YA(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function I_(r,s,o,c,h){for(var g=s._reactName,b=[];o!==null&&o!==c;){var A=o,j=A.alternate,Y=A.stateNode;if(A=A.tag,j!==null&&j===c)break;A!==5&&A!==26&&A!==27||Y===null||(j=Y,h?(Y=Ir(o,g),Y!=null&&b.unshift(lc(o,Y,j))):h||(Y=Ir(o,g),Y!=null&&b.push(lc(o,Y,j)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var QA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function N_(r){return(typeof r=="string"?r:""+r).replace(QA,`
`).replace(XA,"")}function D_(r,s){return s=N_(s),N_(r)===s}function ct(r,s,o,c,h,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Vn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Vn(r,""+c);break;case"className":Wn(r,"class",c);break;case"tabIndex":Wn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(r,o,c);break;case"style":Cl(r,c,g);break;case"data":if(s!=="object"){Wn(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=to(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ct(r,s,"name",h.name,h,null),ct(r,s,"formEncType",h.formEncType,h,null),ct(r,s,"formMethod",h.formMethod,h,null),ct(r,s,"formTarget",h.formTarget,h,null)):(ct(r,s,"encType",h.encType,h,null),ct(r,s,"method",h.method,h,null),ct(r,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=to(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Rr);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=to(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":ze("beforetoggle",r),ze("toggle",r),Ja(r,"popover",c);break;case"xlinkActuate":Ut(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ut(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ut(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ut(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ut(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ut(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ja(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Nu.get(o)||o,Ja(r,o,c))}}function tg(r,s,o,c,h,g){switch(o){case"style":Cl(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Vn(r,c):(typeof c=="number"||typeof c=="bigint")&&Vn(r,""+c);break;case"onScroll":c!=null&&ze("scroll",r);break;case"onScrollEnd":c!=null&&ze("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[en]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,h);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Ja(r,o,c)}}}function dn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",r),ze("load",r);var c=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,g,b,o,null)}}h&&ct(r,s,"srcSet",o.srcSet,o,null),c&&ct(r,s,"src",o.src,o,null);return;case"input":ze("invalid",r);var A=g=b=h=null,j=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var te=o[c];if(te!=null)switch(c){case"name":h=te;break;case"type":b=te;break;case"checked":j=te;break;case"defaultChecked":Y=te;break;case"value":g=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:ct(r,s,c,te,o,null)}}Cu(r,g,A,j,Y,b,h,!1);return;case"select":ze("invalid",r),c=b=g=null;for(h in o)if(o.hasOwnProperty(h)&&(A=o[h],A!=null))switch(h){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:ct(r,s,h,A,o,null)}s=g,o=b,r.multiple=!!c,s!=null?is(r,!!c,s,!1):o!=null&&is(r,!!c,o,!0);return;case"textarea":ze("invalid",r),g=h=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":h=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ct(r,s,b,A,o,null)}ss(r,c,h,g);return;case"option":for(j in o)o.hasOwnProperty(j)&&(c=o[j],c!=null)&&(j==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":ct(r,s,j,c,o,null));return;case"dialog":ze("beforetoggle",r),ze("toggle",r),ze("cancel",r),ze("close",r);break;case"iframe":case"object":ze("load",r);break;case"video":case"audio":for(c=0;c<oc.length;c++)ze(oc[c],r);break;case"image":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"embed":case"source":case"link":ze("error",r),ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,Y,c,o,null)}return;default:if(eo(s)){for(te in o)o.hasOwnProperty(te)&&(c=o[te],c!==void 0&&tg(r,s,te,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&ct(r,s,A,c,o,null))}function WA(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,b=null,A=null,j=null,Y=null,te=null;for(Z in o){var re=o[Z];if(o.hasOwnProperty(Z)&&re!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":j=re;default:c.hasOwnProperty(Z)||ct(r,s,Z,null,c,re)}}for(var Q in c){var Z=c[Q];if(re=o[Q],c.hasOwnProperty(Q)&&(Z!=null||re!=null))switch(Q){case"type":g=Z;break;case"name":h=Z;break;case"checked":Y=Z;break;case"defaultChecked":te=Z;break;case"value":b=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==re&&ct(r,s,Q,Z,c,re)}}Za(r,b,A,j,Y,te,g,h);return;case"select":Z=b=A=Q=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":Z=j;default:c.hasOwnProperty(g)||ct(r,s,g,null,c,j)}for(h in c)if(g=c[h],j=o[h],c.hasOwnProperty(h)&&(g!=null||j!=null))switch(h){case"value":Q=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==j&&ct(r,s,h,g,c,j)}s=A,o=b,c=Z,Q!=null?is(r,!!o,Q,!1):!!c!=!!o&&(s!=null?is(r,!!o,s,!0):is(r,!!o,o?[]:"",!1));return;case"textarea":Z=Q=null;for(A in o)if(h=o[A],o.hasOwnProperty(A)&&h!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ct(r,s,A,null,c,h)}for(b in c)if(h=c[b],g=o[b],c.hasOwnProperty(b)&&(h!=null||g!=null))switch(b){case"value":Q=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&ct(r,s,b,h,c,g)}Ru(r,Q,Z);return;case"option":for(var pe in o)Q=o[pe],o.hasOwnProperty(pe)&&Q!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?r.selected=!1:ct(r,s,pe,null,c,Q));for(j in c)Q=c[j],Z=o[j],c.hasOwnProperty(j)&&Q!==Z&&(Q!=null||Z!=null)&&(j==="selected"?r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":ct(r,s,j,Q,c,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)Q=o[Ae],o.hasOwnProperty(Ae)&&Q!=null&&!c.hasOwnProperty(Ae)&&ct(r,s,Ae,null,c,Q);for(Y in c)if(Q=c[Y],Z=o[Y],c.hasOwnProperty(Y)&&Q!==Z&&(Q!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:ct(r,s,Y,Q,c,Z)}return;default:if(eo(s)){for(var ut in o)Q=o[ut],o.hasOwnProperty(ut)&&Q!==void 0&&!c.hasOwnProperty(ut)&&tg(r,s,ut,void 0,c,Q);for(te in c)Q=c[te],Z=o[te],!c.hasOwnProperty(te)||Q===Z||Q===void 0&&Z===void 0||tg(r,s,te,Q,c,Z);return}}for(var $ in o)Q=o[$],o.hasOwnProperty($)&&Q!=null&&!c.hasOwnProperty($)&&ct(r,s,$,null,c,Q);for(re in c)Q=c[re],Z=o[re],!c.hasOwnProperty(re)||Q===Z||Q==null&&Z==null||ct(r,s,re,Q,c,Z)}function k_(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JA(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var h=o[c],g=h.transferSize,b=h.initiatorType,A=h.duration;if(g&&A&&k_(b)){for(b=0,A=h.responseEnd,c+=1;c<o.length;c++){var j=o[c],Y=j.startTime;if(Y>A)break;var te=j.transferSize,re=j.initiatorType;te&&k_(re)&&(j=j.responseEnd,b+=te*(j<A?1:(A-Y)/(j-Y)))}if(--c,s+=8*(g+b)/(h.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var ng=null,rg=null;function kf(r){return r.nodeType===9?r:r.ownerDocument}function O_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function ig(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sg=null;function ZA(){var r=window.event;return r&&r.type==="popstate"?r===sg?!1:(sg=r,!0):(sg=null,!1)}var L_=typeof setTimeout=="function"?setTimeout:void 0,e2=typeof clearTimeout=="function"?clearTimeout:void 0,P_=typeof Promise=="function"?Promise:void 0,t2=typeof queueMicrotask=="function"?queueMicrotask:typeof P_<"u"?function(r){return P_.resolve(null).then(r).catch(n2)}:L_;function n2(r){setTimeout(function(){throw r})}function Rs(r){return r==="head"}function V_(r,s){var o=s,c=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(c===0){r.removeChild(h),Po(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")cc(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,cc(o);for(var g=o.firstChild;g;){var b=g.nextSibling,A=g.nodeName;g[Gr]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&cc(r.ownerDocument.body);o=h}while(o);Po(s)}function j_(r,s){var o=r;r=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=c}while(o)}function ag(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ag(o),Wa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function r2(r,s,o,c){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Gr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=br(r.nextSibling),r===null)break}return null}function i2(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=br(r.nextSibling),r===null))return null;return r}function U_(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=br(r.nextSibling),r===null))return null;return r}function og(r){return r.data==="$?"||r.data==="$~"}function lg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function s2(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function br(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var cg=null;function z_(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return br(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function B_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function q_(r,s,o){switch(s=kf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function cc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Wa(r)}var Er=new Map,F_=new Set;function Of(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ji=oe.d;oe.d={f:a2,r:o2,D:l2,C:c2,L:u2,m:f2,X:h2,S:d2,M:m2};function a2(){var r=ji.f(),s=Sf();return r||s}function o2(r){var s=ur(r);s!==null&&s.tag===5&&s.type==="form"?av(s):ji.r(r)}var Oo=typeof document>"u"?null:document;function H_(r,s,o){var c=Oo;if(c&&typeof s=="string"&&s){var h=Pn(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),F_.has(h)||(F_.add(h),r={rel:r,crossOrigin:o,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),dn(s,"link",r),jt(s),c.head.appendChild(s)))}}function l2(r){ji.D(r),H_("dns-prefetch",r,null)}function c2(r,s){ji.C(r,s),H_("preconnect",r,s)}function u2(r,s,o){ji.L(r,s,o);var c=Oo;if(c&&r&&s){var h='link[rel="preload"][as="'+Pn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Pn(o.imageSizes)+'"]')):h+='[href="'+Pn(r)+'"]';var g=h;switch(s){case"style":g=Mo(r);break;case"script":g=Lo(r)}Er.has(g)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Er.set(g,r),c.querySelector(h)!==null||s==="style"&&c.querySelector(uc(g))||s==="script"&&c.querySelector(fc(g))||(s=c.createElement("link"),dn(s,"link",r),jt(s),c.head.appendChild(s)))}}function f2(r,s){ji.m(r,s);var o=Oo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Pn(c)+'"][href="'+Pn(r)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Lo(r)}if(!Er.has(g)&&(r=v({rel:"modulepreload",href:r},s),Er.set(g,r),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(fc(g)))return}c=o.createElement("link"),dn(c,"link",r),jt(c),o.head.appendChild(c)}}}function d2(r,s,o){ji.S(r,s,o);var c=Oo;if(c&&r){var h=Yr(c).hoistableStyles,g=Mo(r);s=s||"default";var b=h.get(g);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(uc(g)))A.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Er.get(g))&&ug(r,o);var j=b=c.createElement("link");jt(j),dn(j,"link",r),j._p=new Promise(function(Y,te){j.onload=Y,j.onerror=te}),j.addEventListener("load",function(){A.loading|=1}),j.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Mf(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:A},h.set(g,b)}}}function h2(r,s){ji.X(r,s);var o=Oo;if(o&&r){var c=Yr(o).hoistableScripts,h=Lo(r),g=c.get(h);g||(g=o.querySelector(fc(h)),g||(r=v({src:r,async:!0},s),(s=Er.get(h))&&fg(r,s),g=o.createElement("script"),jt(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function m2(r,s){ji.M(r,s);var o=Oo;if(o&&r){var c=Yr(o).hoistableScripts,h=Lo(r),g=c.get(h);g||(g=o.querySelector(fc(h)),g||(r=v({src:r,async:!0,type:"module"},s),(s=Er.get(h))&&fg(r,s),g=o.createElement("script"),jt(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function $_(r,s,o,c){var h=(h=ye.current)?Of(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Mo(o.href),o=Yr(h).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Mo(o.href);var g=Yr(h).hoistableStyles,b=g.get(r);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=h.querySelector(uc(r)))&&!g._p&&(b.instance=g,b.state.loading=5),Er.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Er.set(r,o),g||g2(h,r,o,b.state))),s&&c===null)throw Error(i(528,""));return b}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Lo(o),o=Yr(h).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Mo(r){return'href="'+Pn(r)+'"'}function uc(r){return'link[rel="stylesheet"]['+r+"]"}function G_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function g2(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),dn(s,"link",o),jt(s),r.head.appendChild(s))}function Lo(r){return'[src="'+Pn(r)+'"]'}function fc(r){return"script[async]"+r}function K_(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Pn(o.href)+'"]');if(c)return s.instance=c,jt(c),c;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),jt(c),dn(c,"style",h),Mf(c,o.precedence,r),s.instance=c;case"stylesheet":h=Mo(o.href);var g=r.querySelector(uc(h));if(g)return s.state.loading|=4,s.instance=g,jt(g),g;c=G_(o),(h=Er.get(h))&&ug(c,h),g=(r.ownerDocument||r).createElement("link"),jt(g);var b=g;return b._p=new Promise(function(A,j){b.onload=A,b.onerror=j}),dn(g,"link",c),s.state.loading|=4,Mf(g,o.precedence,r),s.instance=g;case"script":return g=Lo(o.src),(h=r.querySelector(fc(g)))?(s.instance=h,jt(h),h):(c=o,(h=Er.get(g))&&(c=v({},o),fg(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),jt(h),dn(h,"link",c),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Mf(c,o.precedence,r));return s.instance}function Mf(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===s)g=A;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function ug(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function fg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Lf=null;function Y_(r,s,o){if(Lf===null){var c=new Map,h=Lf=new Map;h.set(o,c)}else h=Lf,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[Gr]||g[Vt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var A=c.get(b);A?A.push(g):c.set(b,[g])}}return c}function Q_(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function p2(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function X_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function y2(r,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Mo(c.href),g=s.querySelector(uc(h));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Pf.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=g,jt(g);return}g=s.ownerDocument||s,c=G_(c),(h=Er.get(h))&&ug(c,h),g=g.createElement("link"),jt(g);var b=g;b._p=new Promise(function(A,j){b.onload=A,b.onerror=j}),dn(g,"link",c),o.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Pf.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var dg=0;function v2(r,s){return r.stylesheets&&r.count===0&&jf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var c=setTimeout(function(){if(r.stylesheets&&jf(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+s);0<r.imgBytes&&dg===0&&(dg=62500*JA());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&jf(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>dg?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function Pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Vf=null;function jf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Vf=new Map,s.forEach(_2,r),Vf=null,Pf.call(r))}function _2(r,s){if(!(s.state.loading&4)){var o=Vf.get(r);if(o)var c=o.get(null);else{o=new Map,Vf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var b=h[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}h=s.instance,b=h.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,h),o.set(b,h),this.count++,c=Pf.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var dc={$$typeof:F,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function b2(r,s,o,c,h,g,b,A,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.hiddenUpdates=Rt(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function W_(r,s,o,c,h,g,b,A,j,Y,te,re){return r=new b2(r,s,o,b,j,Y,te,re,A),s=1,g===!0&&(s|=24),g=Zn(3,null,null,s),r.current=g,g.stateNode=r,s=$h(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Qh(g),r}function J_(r){return r?(r=fo,r):fo}function Z_(r,s,o,c,h,g){h=J_(h),c.context===null?c.context=h:c.pendingContext=h,c=ys(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=vs(r,c,s),o!==null&&(qn(o,r,s),Hl(o,r,s))}function eb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function hg(r,s){eb(r,s),(r=r.alternate)&&eb(r,s)}function tb(r){if(r.tag===13||r.tag===31){var s=va(r,67108864);s!==null&&qn(s,r,67108864),hg(r,67108864)}}function nb(r){if(r.tag===13||r.tag===31){var s=ir();s=Yn(s);var o=va(r,s);o!==null&&qn(o,r,s),hg(r,s)}}var Uf=!0;function E2(r,s,o,c){var h=X.T;X.T=null;var g=oe.p;try{oe.p=2,mg(r,s,o,c)}finally{oe.p=g,X.T=h}}function w2(r,s,o,c){var h=X.T;X.T=null;var g=oe.p;try{oe.p=8,mg(r,s,o,c)}finally{oe.p=g,X.T=h}}function mg(r,s,o,c){if(Uf){var h=gg(c);if(h===null)eg(r,s,c,zf,o),ib(r,c);else if(S2(h,r,s,o,c))c.stopPropagation();else if(ib(r,c),s&4&&-1<T2.indexOf(r)){for(;h!==null;){var g=ur(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=bt(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var j=1<<31-_t(b);A.entanglements[1]|=j,b&=~j}oi(g),(Ze&6)===0&&(wf=Jt()+500,ac(0))}}break;case 31:case 13:A=va(g,2),A!==null&&qn(A,g,2),Sf(),hg(g,2)}if(g=gg(c),g===null&&eg(r,s,c,zf,o),g===h)break;h=g}h!==null&&c.stopPropagation()}else eg(r,s,c,null,o)}}function gg(r){return r=fr(r),pg(r)}var zf=null;function pg(r){if(zf=null,r=Kr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===31){if(r=d(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return zf=r,null}function rb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yi()){case ia:return 2;case lr:return 8;case An:case vi:return 32;case sa:return 268435456;default:return 32}default:return 32}}var yg=!1,Is=null,Ns=null,Ds=null,hc=new Map,mc=new Map,ks=[],T2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ib(r,s){switch(r){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":hc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(s.pointerId)}}function gc(r,s,o,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=ur(s),s!==null&&tb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function S2(r,s,o,c,h){switch(s){case"focusin":return Is=gc(Is,r,s,o,c,h),!0;case"dragenter":return Ns=gc(Ns,r,s,o,c,h),!0;case"mouseover":return Ds=gc(Ds,r,s,o,c,h),!0;case"pointerover":var g=h.pointerId;return hc.set(g,gc(hc.get(g)||null,r,s,o,c,h)),!0;case"gotpointercapture":return g=h.pointerId,mc.set(g,gc(mc.get(g)||null,r,s,o,c,h)),!0}return!1}function sb(r){var s=Kr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,on(r.priority,function(){nb(o)});return}}else if(s===31){if(s=d(o),s!==null){r.blockedOn=s,on(r.priority,function(){nb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Bf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=gg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Rl=c,o.target.dispatchEvent(c),Rl=null}else return s=ur(o),s!==null&&tb(s),r.blockedOn=o,!1;s.shift()}return!0}function ab(r,s,o){Bf(r)&&o.delete(s)}function x2(){yg=!1,Is!==null&&Bf(Is)&&(Is=null),Ns!==null&&Bf(Ns)&&(Ns=null),Ds!==null&&Bf(Ds)&&(Ds=null),hc.forEach(ab),mc.forEach(ab)}function qf(r,s){r.blockedOn===s&&(r.blockedOn=null,yg||(yg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,x2)))}var Ff=null;function ob(r){Ff!==r&&(Ff=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ff===r&&(Ff=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],h=r[s+2];if(typeof c!="function"){if(pg(c||o)===null)continue;break}var g=ur(o);g!==null&&(r.splice(s,3),s-=3,gm(g,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function Po(r){function s(j){return qf(j,r)}Is!==null&&qf(Is,r),Ns!==null&&qf(Ns,r),Ds!==null&&qf(Ds,r),hc.forEach(s),mc.forEach(s);for(var o=0;o<ks.length;o++){var c=ks[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ks.length&&(o=ks[0],o.blockedOn===null);)sb(o),o.blockedOn===null&&ks.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],b=h[en]||null;if(typeof g=="function")b||ob(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(h=g,b=g[en]||null)A=b.formAction;else if(pg(h)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),ob(o)}}}function lb(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function vg(r){this._internalRoot=r}Hf.prototype.render=vg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=ir();Z_(o,c,r,s,null,null)},Hf.prototype.unmount=vg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Z_(r.current,2,null,r,null,null),Sf(),s[$r]=null}};function Hf(r){this._internalRoot=r}Hf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Qn();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ks.length&&s!==0&&s<ks[o].priority;o++);ks.splice(o,0,r),o===0&&sb(r)}};var cb=e.version;if(cb!=="19.2.3")throw Error(i(527,cb,"19.2.3"));oe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var A2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{Kn=$f.inject(A2),Yt=$f}catch{}}return yc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",h=pv,g=yv,b=vv;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=W_(r,1,!1,null,null,o,c,null,h,g,b,lb),r[$r]=s.current,Zm(r),new vg(s)},yc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,h="",g=pv,b=yv,A=vv,j=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),s=W_(r,1,!0,s,o??null,c,h,j,g,b,A,lb),s.context=J_(null),o=s.current,c=ir(),c=Yn(c),h=ys(c),h.callback=null,vs(o,h,c),o=c,s.current.lanes=o,Ln(s,o),oi(s),r[$r]=s.current,Zm(r),new Hf(s)},yc.version="19.2.3",yc}var _b;function P2(){if(_b)return Eg.exports;_b=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Eg.exports=L2(),Eg.exports}var V2=P2();var bb="popstate";function j2(n={}){function e(i,a){let{pathname:l,search:u,hash:d}=i.location;return Xg("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:jc(a)}return z2(e,t,null,n)}function St(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function jr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U2(){return Math.random().toString(36).substring(2,10)}function Eb(n,e){return{usr:n.state,key:n.key,idx:e}}function Xg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:t,key:e&&e.key||i||U2()}}function jc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function sl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function z2(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,d="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){d="POP";let L=y(),H=L==null?null:L-p;p=L,m&&m({action:d,location:M.location,delta:H})}function T(L,H){d="PUSH";let V=Xg(M.location,L,H);p=y()+1;let F=Eb(V,p),B=M.createHref(V);try{u.pushState(F,"",B)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(B)}l&&m&&m({action:d,location:M.location,delta:1})}function x(L,H){d="REPLACE";let V=Xg(M.location,L,H);p=y();let F=Eb(V,p),B=M.createHref(V);u.replaceState(F,"",B),l&&m&&m({action:d,location:M.location,delta:0})}function O(L){return B2(L)}let M={get action(){return d},get location(){return n(a,u)},listen(L){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(bb,v),m=L,()=>{a.removeEventListener(bb,v),m=null}},createHref(L){return e(a,L)},createURL:O,encodeLocation(L){let H=O(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:x,go(L){return u.go(L)}};return M}function B2(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:jc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function JE(n,e,t="/"){return q2(n,e,t,!1)}function q2(n,e,t,i){let a=typeof e=="string"?sl(e):e,l=Hi(a.pathname||"/",t);if(l==null)return null;let u=ZE(n);F2(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let p=eC(l);d=J2(u[m],p,i)}return d}function ZE(n,e=[],t=[],i="",a=!1){let l=(u,d,m=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&m)return;St(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Bi([i,y.relativePath]),T=t.concat(y);u.children&&u.children.length>0&&(St(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ZE(u.children,e,T,v,m)),!(u.path==null&&!u.index)&&e.push({path:v,score:X2(v,u.index),routesMeta:T})};return n.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of ew(u.path))l(u,d,!0,m)}),e}function ew(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=ew(i.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function F2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:W2(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var H2=/^:[\w-]+$/,$2=3,G2=2,K2=1,Y2=10,Q2=-2,wb=n=>n==="*";function X2(n,e){let t=n.split("/"),i=t.length;return t.some(wb)&&(i+=Q2),e&&(i+=G2),t.filter(a=>!wb(a)).reduce((a,l)=>a+(H2.test(l)?$2:l===""?K2:Y2),i)}function W2(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function J2(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",u=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=gd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),T=m.route;if(!v&&p&&t&&!i[i.length-1].route.index&&(v=gd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Bi([l,v.pathname]),pathnameBase:iC(Bi([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=Bi([l,v.pathnameBase]))}return u}function gd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Z2(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:v},T)=>{if(y==="*"){let O=d[T]||"";u=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const x=d[T];return v&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:n}}function Z2(n,e=!1,t=!0){jr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function eC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tC=n=>tw.test(n);function nC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?sl(n):n,l;if(t)if(tC(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),jr(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=Tb(t.substring(1),"/"):l=Tb(t,e)}else l=e;return{pathname:l,search:sC(i),hash:aC(a)}}function Tb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function xg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nw(n){let e=rC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function rw(n,e,t,i=!1){let a;typeof n=="string"?a=sl(n):(a={...n},St(!a.pathname||!a.pathname.includes("?"),xg("?","pathname","search",a)),St(!a.pathname||!a.pathname.includes("#"),xg("#","pathname","hash",a)),St(!a.search||!a.search.includes("#"),xg("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}d=v>=0?e[v]:"/"}let m=nC(a,d),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Bi=n=>n.join("/").replace(/\/\/+/g,"/"),iC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,oC=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function lC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function cC(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sw(n,e){let t=n;if(typeof t!="string"||!tw.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(iw)try{let l=new URL(window.location.href),u=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=Hi(u.pathname,e);u.origin===l.origin&&d!=null?t=d+u.search+u.hash:a=!0}catch{jr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aw=["POST","PUT","PATCH","DELETE"];new Set(aw);var uC=["GET",...aw];new Set(uC);var al=S.createContext(null);al.displayName="DataRouter";var $d=S.createContext(null);$d.displayName="DataRouterState";var fC=S.createContext(!1),ow=S.createContext({isTransitioning:!1});ow.displayName="ViewTransition";var dC=S.createContext(new Map);dC.displayName="Fetchers";var hC=S.createContext(null);hC.displayName="Await";var Ar=S.createContext(null);Ar.displayName="Navigation";var Zc=S.createContext(null);Zc.displayName="Location";var Xi=S.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var jp=S.createContext(null);jp.displayName="RouteError";var lw="REACT_ROUTER_ERROR",mC="REDIRECT",gC="ROUTE_ERROR_RESPONSE";function pC(n){if(n.startsWith(`${lw}:${mC}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function yC(n){if(n.startsWith(`${lw}:${gC}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new oC(e.status,e.statusText,e.data)}catch{}}function vC(n,{relative:e}={}){St(eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=S.useContext(Ar),{hash:a,pathname:l,search:u}=tu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Bi([t,l])),i.createHref({pathname:d,search:u,hash:a})}function eu(){return S.useContext(Zc)!=null}function Zs(){return St(eu(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Zc).location}var cw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uw(n){S.useContext(Ar).static||S.useLayoutEffect(n)}function fw(){let{isDataRoute:n}=S.useContext(Xi);return n?DC():_C()}function _C(){St(eu(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(al),{basename:e,navigator:t}=S.useContext(Ar),{matches:i}=S.useContext(Xi),{pathname:a}=Zs(),l=JSON.stringify(nw(i)),u=S.useRef(!1);return uw(()=>{u.current=!0}),S.useCallback((m,p={})=>{if(jr(u.current,cw),!u.current)return;if(typeof m=="number"){t.go(m);return}let y=rw(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Bi([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,a,n])}S.createContext(null);function tu(n,{relative:e}={}){let{matches:t}=S.useContext(Xi),{pathname:i}=Zs(),a=JSON.stringify(nw(t));return S.useMemo(()=>rw(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function bC(n,e){return dw(n,e)}function dw(n,e,t,i,a){St(eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(Ar),{matches:u}=S.useContext(Xi),d=u[u.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let V=v&&v.path||"";mw(p,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let T=Zs(),x;if(e){let V=typeof e=="string"?sl(e):e;St(y==="/"||V.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${V.pathname}" was given in the \`location\` prop.`),x=V}else x=T;let O=x.pathname||"/",M=O;if(y!=="/"){let V=y.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(V.length).join("/")}let L=JE(n,{pathname:M});jr(v||L!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),jr(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=xC(L&&L.map(V=>Object.assign({},V,{params:Object.assign({},m,V.params),pathname:Bi([y,l.encodeLocation?l.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?y:Bi([y,l.encodeLocation?l.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),u,t,i,a);return e&&H?S.createElement(Zc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},H):H}function EC(){let n=NC(),e=lC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:a},t):null,u)}var wC=S.createElement(EC,null),hw=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=yC(n.digest);t&&(n=t)}let e=n!==void 0?S.createElement(Xi.Provider,{value:this.props.routeContext},S.createElement(jp.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?S.createElement(TC,{error:n},e):e}};hw.contextType=fC;var Ag=new WeakMap;function TC({children:n,error:e}){let{basename:t}=S.useContext(Ar);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=pC(e.digest);if(i){let a=Ag.get(e);if(a)throw a;let l=sw(i.location,t);if(iw&&!Ag.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Ag.set(e,u),u}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function SC({routeContext:n,match:e,children:t}){let i=S.useContext(al);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Xi.Provider,{value:n},t)}function xC(n,e=[],t=null,i=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);St(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(t)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=y),v.route.id){let{loaderData:T,errors:x}=t,O=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||O){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=t&&i?(y,v)=>{i(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:cC(t.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let x,O=!1,M=null,L=null;t&&(x=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||wC,d&&(m<0&&T===0?(mw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,L=null):m===T&&(O=!0,L=v.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,T+1)),V=()=>{let F;return x?F=M:O?F=L:v.route.Component?F=S.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=y,S.createElement(SC,{match:v,routeContext:{outlet:y,matches:H,isDataRoute:t!=null},children:F})};return t&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?S.createElement(hw,{location:t.location,revalidation:t.revalidation,component:M,error:x,children:V(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:p}):V()},null)}function Up(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AC(n){let e=S.useContext(al);return St(e,Up(n)),e}function CC(n){let e=S.useContext($d);return St(e,Up(n)),e}function RC(n){let e=S.useContext(Xi);return St(e,Up(n)),e}function zp(n){let e=RC(n),t=e.matches[e.matches.length-1];return St(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function IC(){return zp("useRouteId")}function NC(){let n=S.useContext(jp),e=CC("useRouteError"),t=zp("useRouteError");return n!==void 0?n:e.errors?.[t]}function DC(){let{router:n}=AC("useNavigate"),e=zp("useNavigate"),t=S.useRef(!1);return uw(()=>{t.current=!0}),S.useCallback(async(a,l={})=>{jr(t.current,cw),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Sb={};function mw(n,e,t){!e&&!Sb[n]&&(Sb[n]=!0,jr(!1,t))}S.memo(kC);function kC({routes:n,future:e,state:t,onError:i}){return dw(n,void 0,t,i,e)}function td(n){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){St(!eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),m=S.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[d,a,l,u]);typeof t=="string"&&(t=sl(t));let{pathname:p="/",search:y="",hash:v="",state:T=null,key:x="default"}=t,O=S.useMemo(()=>{let M=Hi(p,d);return M==null?null:{location:{pathname:M,search:y,hash:v,state:T,key:x},navigationType:i}},[d,p,y,v,T,x,i]);return jr(O!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:S.createElement(Ar.Provider,{value:m},S.createElement(Zc.Provider,{children:e,value:O}))}function MC({children:n,location:e}){return bC(Wg(n),e)}function Wg(n,e=[]){let t=[];return S.Children.forEach(n,(i,a)=>{if(!S.isValidElement(i))return;let l=[...e,a];if(i.type===S.Fragment){t.push.apply(t,Wg(i.props.children,l));return}St(i.type===td,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Wg(i.props.children,l)),t.push(u)}),t}var nd="get",rd="application/x-www-form-urlencoded";function Gd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function LC(n){return Gd(n)&&n.tagName.toLowerCase()==="button"}function PC(n){return Gd(n)&&n.tagName.toLowerCase()==="form"}function VC(n){return Gd(n)&&n.tagName.toLowerCase()==="input"}function jC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UC(n,e){return n.button===0&&(!e||e==="_self")&&!jC(n)}var Gf=null;function zC(){if(Gf===null)try{new FormData(document.createElement("form"),0),Gf=!1}catch{Gf=!0}return Gf}var BC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cg(n){return n!=null&&!BC.has(n)?(jr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rd}"`),null):n}function qC(n,e){let t,i,a,l,u;if(PC(n)){let d=n.getAttribute("action");i=d?Hi(d,e):null,t=n.getAttribute("method")||nd,a=Cg(n.getAttribute("enctype"))||rd,l=new FormData(n)}else if(LC(n)||VC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?Hi(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||nd,a=Cg(n.getAttribute("formenctype"))||Cg(d.getAttribute("enctype"))||rd,l=new FormData(d,n),!zC()){let{name:p,type:y,value:v}=n;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,v)}}else{if(Gd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nd,i=null,a=rd,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function FC(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Hi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function HC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $C(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function GC(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await HC(l,t);return u.links?u.links():[]}return[]}));return XC(i.flat(1).filter($C).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function xb(n,e,t,i,a,l){let u=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>t[p].pathname!==m.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function KC(n,e,{includeHydrateFallback:t}={}){return YC(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function YC(n){return[...new Set(n)]}function QC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function XC(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(QC(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function gw(){let n=S.useContext(al);return Bp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function WC(){let n=S.useContext($d);return Bp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var qp=S.createContext(void 0);qp.displayName="FrameworkContext";function pw(){let n=S.useContext(qp);return Bp(n,"You must render this element inside a <HydratedRouter> element"),n}function JC(n,e){let t=S.useContext(qp),[i,a]=S.useState(!1),[l,u]=S.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,T=S.useRef(null);S.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=H=>{H.forEach(V=>{u(V.isIntersecting)})},L=new IntersectionObserver(M,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[n]),S.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let x=()=>{a(!0)},O=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:vc(d,x),onBlur:vc(m,O),onMouseEnter:vc(p,x),onMouseLeave:vc(y,O),onTouchStart:vc(v,x)}]:[!1,T,{}]}function vc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ZC({page:n,...e}){let{router:t}=gw(),i=S.useMemo(()=>JE(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?S.createElement(tR,{page:n,matches:i,...e}):null}function eR(n){let{manifest:e,routeModules:t}=pw(),[i,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return GC(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),i}function tR({page:n,matches:e,...t}){let i=Zs(),{manifest:a,routeModules:l}=pw(),{basename:u}=gw(),{loaderData:d,matches:m}=WC(),p=S.useMemo(()=>xb(n,e,m,a,i,"data"),[n,e,m,a,i]),y=S.useMemo(()=>xb(n,e,m,a,i,"assets"),[n,e,m,a,i]),v=S.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,M=!1;if(e.forEach(H=>{let V=a.routes[H.route.id];!V||!V.hasLoader||(!p.some(F=>F.route.id===H.route.id)&&H.route.id in d&&l[H.route.id]?.shouldRevalidate||V.hasClientLoader?M=!0:O.add(H.route.id))}),O.size===0)return[];let L=FC(n,u,"data");return M&&O.size>0&&L.searchParams.set("_routes",e.filter(H=>O.has(H.route.id)).map(H=>H.route.id).join(",")),[L.pathname+L.search]},[u,d,i,a,p,e,n,l]),T=S.useMemo(()=>KC(y,a),[y,a]),x=eR(y);return S.createElement(S.Fragment,null,v.map(O=>S.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),T.map(O=>S.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),x.map(({key:O,link:M})=>S.createElement("link",{key:O,nonce:t.nonce,...M})))}function nR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var rR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rR&&(window.__reactRouterVersion="7.11.0")}catch{}function iR({basename:n,children:e,unstable_useTransitions:t,window:i}){let a=S.useRef();a.current==null&&(a.current=j2({window:i,v5Compat:!0}));let l=a.current,[u,d]=S.useState({action:l.action,location:l.location}),m=S.useCallback(p=>{t===!1?d(p):S.startTransition(()=>d(p))},[t]);return S.useLayoutEffect(()=>l.listen(m),[l,m]),S.createElement(OC,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t})}var yw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vw=S.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...x},O){let{basename:M,unstable_useTransitions:L}=S.useContext(Ar),H=typeof p=="string"&&yw.test(p),V=sw(p,M);p=V.to;let F=vC(p,{relative:a}),[B,J,ae]=JC(i,x),C=lR(p,{replace:u,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:T,unstable_useTransitions:L});function R(P){e&&e(P),P.defaultPrevented||C(P)}let N=S.createElement("a",{...x,...ae,href:V.absoluteURL||F,onClick:V.isExternal||l?e:R,ref:nR(O,J),target:m,"data-discover":!H&&t==="render"?"true":void 0});return B&&!H?S.createElement(S.Fragment,null,N,S.createElement(ZC,{page:F})):N});vw.displayName="Link";var sR=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...p},y){let v=tu(u,{relative:p.relative}),T=Zs(),x=S.useContext($d),{navigator:O,basename:M}=S.useContext(Ar),L=x!=null&&hR(v)&&d===!0,H=O.encodeLocation?O.encodeLocation(v).pathname:v.pathname,V=T.pathname,F=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(V=V.toLowerCase(),F=F?F.toLowerCase():null,H=H.toLowerCase()),F&&M&&(F=Hi(F,M)||F);const B=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let J=V===H||!a&&V.startsWith(H)&&V.charAt(B)==="/",ae=F!=null&&(F===H||!a&&F.startsWith(H)&&F.charAt(H.length)==="/"),C={isActive:J,isPending:ae,isTransitioning:L},R=J?e:void 0,N;typeof i=="function"?N=i(C):N=[i,J?"active":null,ae?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return S.createElement(vw,{...p,"aria-current":R,className:N,ref:y,style:P,to:u,viewTransition:d},typeof m=="function"?m(C):m)});sR.displayName="NavLink";var aR=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:u=nd,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...x},O)=>{let{unstable_useTransitions:M}=S.useContext(Ar),L=fR(),H=dR(d,{relative:p}),V=u.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&yw.test(d),B=J=>{if(m&&m(J),J.defaultPrevented)return;J.preventDefault();let ae=J.nativeEvent.submitter,C=ae?.getAttribute("formmethod")||u,R=()=>L(ae||J.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T});M&&t!==!1?S.startTransition(()=>R()):R()};return S.createElement("form",{ref:O,method:V,action:H,onSubmit:i?m:B,...x,"data-discover":!F&&n==="render"?"true":void 0})});aR.displayName="Form";function oR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _w(n){let e=S.useContext(al);return St(e,oR(n)),e}function lR(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=fw(),y=Zs(),v=tu(n,{relative:l});return S.useCallback(T=>{if(UC(T,e)){T.preventDefault();let x=t!==void 0?t:jc(y)===jc(v),O=()=>p(n,{replace:x,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});m?S.startTransition(()=>O()):O()}},[y,p,v,t,i,e,n,a,l,u,d,m])}var cR=0,uR=()=>`__${String(++cR)}__`;function fR(){let{router:n}=_w("useSubmit"),{basename:e}=S.useContext(Ar),t=IC(),i=n.fetch,a=n.navigate;return S.useCallback(async(l,u={})=>{let{action:d,method:m,encType:p,formData:y,body:v}=qC(l,e);if(u.navigate===!1){let T=u.fetcherKey||uR();await i(T,t,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,t])}function dR(n,{relative:e}={}){let{basename:t}=S.useContext(Ar),i=S.useContext(Xi);St(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...tu(n||".",{relative:e})},u=Zs();if(n==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Bi([t,l.pathname])),jc(l)}function hR(n,{relative:e}={}){let t=S.useContext(ow);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=_w("useViewTransitionState"),a=tu(n,{relative:e});if(!t.isTransitioning)return!1;let l=Hi(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Hi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return gd(a.pathname,u)!=null||gd(a.pathname,l)!=null}var bc=WE();const Ie=n=>typeof n=="string",_c=()=>{let n,e;const t=new Promise((i,a)=>{n=i,e=a});return t.resolve=n,t.reject=e,t},Ab=n=>n==null?"":""+n,mR=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},gR=/###/g,Cb=n=>n&&n.indexOf("###")>-1?n.replace(gR,"."):n,Rb=n=>!n||Ie(n),Cc=(n,e,t)=>{const i=Ie(e)?e.split("."):e;let a=0;for(;a<i.length-1;){if(Rb(n))return{};const l=Cb(i[a]);!n[l]&&t&&(n[l]=new t),Object.prototype.hasOwnProperty.call(n,l)?n=n[l]:n={},++a}return Rb(n)?{}:{obj:n,k:Cb(i[a])}},Ib=(n,e,t)=>{const{obj:i,k:a}=Cc(n,e,Object);if(i!==void 0||e.length===1){i[a]=t;return}let l=e[e.length-1],u=e.slice(0,e.length-1),d=Cc(n,u,Object);for(;d.obj===void 0&&u.length;)l=`${u[u.length-1]}.${l}`,u=u.slice(0,u.length-1),d=Cc(n,u,Object),d?.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=t},pR=(n,e,t,i)=>{const{obj:a,k:l}=Cc(n,e,Object);a[l]=a[l]||[],a[l].push(t)},pd=(n,e)=>{const{obj:t,k:i}=Cc(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},yR=(n,e,t)=>{const i=pd(n,t);return i!==void 0?i:pd(e,t)},bw=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?Ie(n[i])||n[i]instanceof String||Ie(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):bw(n[i],e[i],t):n[i]=e[i]);return n},Vo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var vR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const _R=n=>Ie(n)?n.replace(/[&<>"'\/]/g,e=>vR[e]):n;class bR{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const ER=[" ",",","?","!",";"],wR=new bR(20),TR=(n,e,t)=>{e=e||"",t=t||"";const i=ER.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(i.length===0)return!0;const a=wR.getRegExp(`(${i.map(u=>u==="?"?"\\?":u).join("|")})`);let l=!a.test(n);if(!l){const u=n.indexOf(t);u>0&&!a.test(n.substring(0,u))&&(l=!0)}return l},Jg=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let a=n;for(let l=0;l<i.length;){if(!a||typeof a!="object")return;let u,d="";for(let m=l;m<i.length;++m)if(m!==l&&(d+=t),d+=i[m],u=a[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&m<i.length-1)continue;l+=m-l+1;break}a=u}return a},Uc=n=>n?.replace("_","-"),SR={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};let xR=class Zg{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||SR,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,a){return a&&!this.debug?null:(Ie(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Zg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Zg(this.logger,e)}};var ci=new xR;class Kd{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(t)||0;this.observers[i].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a.apply(a,[e,...t])})}}class Nb extends Kd{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i,a={}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],i&&(Array.isArray(i)?d.push(...i):Ie(i)&&l?d.push(...i.split(l)):d.push(i)));const m=pd(this.data,d);return!m&&!t&&!i&&e.indexOf(".")>-1&&(e=d[0],t=d[1],i=d.slice(2).join(".")),m||!u||!Ie(i)?m:Jg(this.data?.[e]?.[t],i,l)}addResource(e,t,i,a,l={silent:!1}){const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,t];i&&(d=d.concat(u?i.split(u):i)),e.indexOf(".")>-1&&(d=e.split("."),a=t,t=d[1]),this.addNamespaces(t),Ib(this.data,d,a),l.silent||this.emit("added",e,t,i,a)}addResources(e,t,i,a={silent:!1}){for(const l in i)(Ie(i[l])||Array.isArray(i[l]))&&this.addResource(e,t,l,i[l],{silent:!0});a.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,a,l,u={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),a=i,i=t,t=d[1]),this.addNamespaces(t);let m=pd(this.data,d)||{};u.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?bw(m,i,l):m={...m,...i},Ib(this.data,d,m),u.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var Ew={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,a){return n.forEach(l=>{e=this.processors[l]?.process(e,t,i,a)??e}),e}};const ww=Symbol("i18next/PATH_KEY");function AR(){const n=[],e=Object.create(null);let t;return e.get=(i,a)=>(t?.revoke?.(),a===ww?n:(n.push(a),t=Proxy.revocable(i,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function ep(n,e){const{[ww]:t}=n(AR());return t.join(e?.keySeparator??".")}const Db={},Rg=n=>!Ie(n)&&typeof n!="boolean"&&typeof n!="number";class yd extends Kd{constructor(e,t={}){super(),mR(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ci.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const i={...t};if(e==null)return!1;const a=this.resolve(e,i);if(a?.res===void 0)return!1;const l=Rg(a.res);return!(i.returnObjects===!1&&l)}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const u=i&&e.indexOf(i)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!TR(e,i,a);if(u&&!d){const m=e.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:e,namespaces:Ie(l)?[l]:l};const p=e.split(i);(i!==a||i===a&&this.options.ns.indexOf(p[0])>-1)&&(l=p.shift()),e=p.join(a)}return{key:e,namespaces:Ie(l)?[l]:l}}translate(e,t,i){let a=typeof t=="object"?{...t}:t;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=ep(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:m}=this.extractFromKey(e[e.length-1],a),p=m[m.length-1];let y=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=a.lng||this.language,T=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return T?l?{res:`${p}${y}${d}`,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:p,usedParams:this.getUsedParamsDetails(a)}:`${p}${y}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:p,usedParams:this.getUsedParamsDetails(a)}:d;const x=this.resolve(e,a);let O=x?.res;const M=x?.usedKey||d,L=x?.exactUsedKey||d,H=["[object Number]","[object Function]","[object RegExp]"],V=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,F=!this.i18nFormat||this.i18nFormat.handleAsObject,B=a.count!==void 0&&!Ie(a.count),J=yd.hasDefaultValue(a),ae=B?this.pluralResolver.getSuffix(v,a.count,a):"",C=a.ordinal&&B?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",R=B&&!a.ordinal&&a.count===0,N=R&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${ae}`]||a[`defaultValue${C}`]||a.defaultValue;let P=O;F&&!O&&J&&(P=N);const D=Rg(P),U=Object.prototype.toString.apply(P);if(F&&P&&D&&H.indexOf(U)<0&&!(Ie(V)&&Array.isArray(P))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(M,P,{...a,ns:m}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(x.res=k,x.usedParams=this.getUsedParamsDetails(a),x):k}if(u){const k=Array.isArray(P),be=k?[]:{},Ge=k?L:M;for(const X in P)if(Object.prototype.hasOwnProperty.call(P,X)){const oe=`${Ge}${u}${X}`;J&&!O?be[X]=this.translate(oe,{...a,defaultValue:Rg(N)?N[X]:void 0,joinArrays:!1,ns:m}):be[X]=this.translate(oe,{...a,joinArrays:!1,ns:m}),be[X]===oe&&(be[X]=P[X])}O=be}}else if(F&&Ie(V)&&Array.isArray(O))O=O.join(V),O&&(O=this.extendTranslation(O,e,a,i));else{let k=!1,be=!1;!this.isValidLookup(O)&&J&&(k=!0,O=N),this.isValidLookup(O)||(be=!0,O=d);const X=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&be?void 0:O,oe=J&&N!==O&&this.options.updateMissing;if(be||k||oe){if(this.logger.log(oe?"updateKey":"missingKey",v,p,d,oe?N:O),u){const z=this.resolve(d,{...a,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let he=[];const Se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Se&&Se[0])for(let z=0;z<Se.length;z++)he.push(Se[z]);else this.options.saveMissingTo==="all"?he=this.languageUtils.toResolveHierarchy(a.lng||this.language):he.push(a.lng||this.language);const De=(z,ee,le)=>{const de=J&&le!==O?le:X;this.options.missingKeyHandler?this.options.missingKeyHandler(z,p,ee,de,oe,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(z,p,ee,de,oe,a),this.emit("missingKey",z,p,ee,O)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?he.forEach(z=>{const ee=this.pluralResolver.getSuffixes(z,a);R&&a[`defaultValue${this.options.pluralSeparator}zero`]&&ee.indexOf(`${this.options.pluralSeparator}zero`)<0&&ee.push(`${this.options.pluralSeparator}zero`),ee.forEach(le=>{De([z],d+le,a[`defaultValue${le}`]||N)})}):De(he,d,N))}O=this.extendTranslation(O,e,a,x,i),be&&O===d&&this.options.appendNamespaceToMissingKey&&(O=`${p}${y}${d}`),(be||k)&&this.options.parseMissingKeyHandler&&(O=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${y}${d}`:d,k?O:void 0,a))}return l?(x.res=O,x.usedParams=this.getUsedParamsDetails(a),x):O}extendTranslation(e,t,i,a,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const m=Ie(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(m){const v=e.match(this.interpolator.nestingRegexp);p=v&&v.length}let y=i.replace&&!Ie(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,i.lng||this.language||a.usedLng,i),m){const v=e.match(this.interpolator.nestingRegexp),T=v&&v.length;p<T&&(i.nest=!1)}!i.lng&&a&&a.res&&(i.lng=this.language||a.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>l?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${t[0]}`),null):this.translate(...v,t),i)),i.interpolation&&this.interpolator.reset()}const u=i.postProcess||this.options.postProcess,d=Ie(u)?[u]:u;return e!=null&&d?.length&&i.applyPostProcessor!==!1&&(e=Ew.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,t={}){let i,a,l,u,d;return Ie(e)&&(e=[e]),e.forEach(m=>{if(this.isValidLookup(i))return;const p=this.extractFromKey(m,t),y=p.key;a=y;let v=p.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const T=t.count!==void 0&&!Ie(t.count),x=T&&!t.ordinal&&t.count===0,O=t.context!==void 0&&(Ie(t.context)||typeof t.context=="number")&&t.context!=="",M=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(L=>{this.isValidLookup(i)||(d=L,!Db[`${M[0]}-${L}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(Db[`${M[0]}-${L}`]=!0,this.logger.warn(`key "${a}" for languages "${M.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),M.forEach(H=>{if(this.isValidLookup(i))return;u=H;const V=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(V,y,H,L,t);else{let B;T&&(B=this.pluralResolver.getSuffix(H,t.count,t));const J=`${this.options.pluralSeparator}zero`,ae=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(t.ordinal&&B.indexOf(ae)===0&&V.push(y+B.replace(ae,this.options.pluralSeparator)),V.push(y+B),x&&V.push(y+J)),O){const C=`${y}${this.options.contextSeparator||"_"}${t.context}`;V.push(C),T&&(t.ordinal&&B.indexOf(ae)===0&&V.push(C+B.replace(ae,this.options.pluralSeparator)),V.push(C+B),x&&V.push(C+J))}}let F;for(;F=V.pop();)this.isValidLookup(i)||(l=F,i=this.getResource(H,L,F,t))}))})}),{res:i,usedKey:a,exactUsedKey:l,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,i,a):this.resourceStore.getResource(e,t,i,a)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Ie(e.replace);let a=i?e.replace:e;if(i&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!i){a={...a};for(const l of t)delete a[l]}return a}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class kb{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ci.create("languageUtils")}getScriptPartFromCode(e){if(e=Uc(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Uc(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ie(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const a=this.getScriptPartFromCode(i);if(this.isSupportedCode(a))return t=a;const l=this.getLanguagePartFromCode(i);if(this.isSupportedCode(l))return t=l;t=this.options.supportedLngs.find(u=>{if(u===l)return u;if(!(u.indexOf("-")<0&&l.indexOf("-")<0)&&(u.indexOf("-")>0&&l.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===l||u.indexOf(l)===0&&l.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ie(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),a=[],l=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Ie(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Ie(e)&&l(this.formatLanguageCode(e)),i.forEach(u=>{a.indexOf(u)<0&&l(this.formatLanguageCode(u))}),a}}const Ob={zero:0,one:1,two:2,few:3,many:4,other:5},Mb={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class CR{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=ci.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const i=Uc(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let u;try{u=new Intl.PluralRules(i,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Mb;if(!e.match(/-|_/))return Mb;const m=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(m,t)}return this.pluralRulesCache[l]=u,u}needsPlural(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,i={}){return this.getSuffixes(e,i).map(a=>`${t}${a}`)}getSuffixes(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((a,l)=>Ob[a]-Ob[l]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t,i={}){const a=this.getRule(e,i);return a?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const Lb=(n,e,t,i=".",a=!0)=>{let l=yR(n,e,t);return!l&&a&&Ie(t)&&(l=Jg(n,t,i),l===void 0&&(l=Jg(e,t,i))),l},Ig=n=>n.replace(/\$/g,"$$$$");class Pb{constructor(e={}){this.logger=ci.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:a,prefix:l,prefixEscaped:u,suffix:d,suffixEscaped:m,formatSeparator:p,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:T,nestingPrefixEscaped:x,nestingSuffix:O,nestingSuffixEscaped:M,nestingOptionsSeparator:L,maxReplaces:H,alwaysFormat:V}=e.interpolation;this.escape=t!==void 0?t:_R,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Vo(l):u||"{{",this.suffix=d?Vo(d):m||"}}",this.formatSeparator=p||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=T?Vo(T):x||Vo("$t("),this.nestingSuffix=O?Vo(O):M||Vo(")"),this.nestingOptionsSeparator=L||",",this.maxReplaces=H||1e3,this.alwaysFormat=V!==void 0?V:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t?.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,i,a){let l,u,d;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=x=>{if(x.indexOf(this.formatSeparator)<0){const H=Lb(t,m,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(H,void 0,i,{...a,...t,interpolationkey:x}):H}const O=x.split(this.formatSeparator),M=O.shift().trim(),L=O.join(this.formatSeparator).trim();return this.format(Lb(t,m,M,this.options.keySeparator,this.options.ignoreJSONStructure),L,i,{...a,...t,interpolationkey:M})};this.resetRegExp();const y=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>Ig(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?Ig(this.escape(x)):Ig(x)}].forEach(x=>{for(d=0;l=x.regex.exec(e);){const O=l[1].trim();if(u=p(O),u===void 0)if(typeof y=="function"){const L=y(e,l,a);u=Ie(L)?L:""}else if(a&&Object.prototype.hasOwnProperty.call(a,O))u="";else if(v){u=l[0];continue}else this.logger.warn(`missed to pass in variable ${O} for interpolating ${e}`),u="";else!Ie(u)&&!this.useRawValueToEscape&&(u=Ab(u));const M=x.safeValue(u);if(e=e.replace(l[0],M),v?(x.regex.lastIndex+=u.length,x.regex.lastIndex-=l[0].length):x.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,i={}){let a,l,u;const d=(m,p)=>{const y=this.nestingOptionsSeparator;if(m.indexOf(y)<0)return m;const v=m.split(new RegExp(`${y}[ ]*{`));let T=`{${v[1]}`;m=v[0],T=this.interpolate(T,u);const x=T.match(/'/g),O=T.match(/"/g);((x?.length??0)%2===0&&!O||O.length%2!==0)&&(T=T.replace(/'/g,'"'));try{u=JSON.parse(T),p&&(u={...p,...u})}catch(M){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,M),`${m}${y}${T}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,m};for(;a=this.nestingRegexp.exec(e);){let m=[];u={...i},u=u.replace&&!Ie(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const p=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(p!==-1&&(m=a[1].slice(p).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),a[1]=a[1].slice(0,p)),l=t(d.call(this,a[1].trim(),u),u),l&&a[0]===e&&!Ie(l))return l;Ie(l)||(l=Ab(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),m.length&&(l=m.reduce((y,v)=>this.format(y,v,i.lng,{...i,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const RR=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(u=>{if(u){const[d,...m]=u.split(":"),p=m.join(":").trim().replace(/^'+|'+$/g,""),y=d.trim();t[y]||(t[y]=p),p==="false"&&(t[y]=!1),p==="true"&&(t[y]=!0),isNaN(p)||(t[y]=parseInt(p,10))}})}return{formatName:e,formatOptions:t}},Vb=n=>{const e={};return(t,i,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const u=i+JSON.stringify(l);let d=e[u];return d||(d=n(Uc(i),a),e[u]=d),d(t)}},IR=n=>(e,t,i)=>n(Uc(t),i)(e);class NR{constructor(e={}){this.logger=ci.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const i=t.cacheInBuiltFormats?Vb:IR;this.formats={number:i((a,l)=>{const u=new Intl.NumberFormat(a,{...l});return d=>u.format(d)}),currency:i((a,l)=>{const u=new Intl.NumberFormat(a,{...l,style:"currency"});return d=>u.format(d)}),datetime:i((a,l)=>{const u=new Intl.DateTimeFormat(a,{...l});return d=>u.format(d)}),relativetime:i((a,l)=>{const u=new Intl.RelativeTimeFormat(a,{...l});return d=>u.format(d,l.range||"day")}),list:i((a,l)=>{const u=new Intl.ListFormat(a,{...l});return d=>u.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Vb(t)}format(e,t,i,a={}){const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(m=>m.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,m)=>{const{formatName:p,formatOptions:y}=RR(m);if(this.formats[p]){let v=d;try{const T=a?.formatParams?.[a.interpolationkey]||{},x=T.locale||T.lng||a.locale||a.lng||i;v=this.formats[p](d,x,{...y,...a,...T})}catch(T){this.logger.warn(T)}return v}else this.logger.warn(`there was no format function for ${p}`);return d},e)}}const DR=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class kR extends Kd{constructor(e,t,i,a={}){super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=ci.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,a.backend,a)}queueLoad(e,t,i,a){const l={},u={},d={},m={};return e.forEach(p=>{let y=!0;t.forEach(v=>{const T=`${p}|${v}`;!i.reload&&this.store.hasResourceBundle(p,v)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?u[T]===void 0&&(u[T]=!0):(this.state[T]=1,y=!1,u[T]===void 0&&(u[T]=!0),l[T]===void 0&&(l[T]=!0),m[v]===void 0&&(m[v]=!0)))}),y||(d[p]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(m)}}loaded(e,t,i){const a=e.split("|"),l=a[0],u=a[1];t&&this.emit("failedLoading",l,u,t),!t&&i&&this.store.addResourceBundle(l,u,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const d={};this.queue.forEach(m=>{pR(m.loaded,[l],u),DR(m,e),t&&m.errors.push(t),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(p=>{d[p]||(d[p]={});const y=m.loaded[p];y.length&&y.forEach(v=>{d[p][v]===void 0&&(d[p][v]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(m=>!m.done)}read(e,t,i,a=0,l=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:a,wait:l,callback:u});return}this.readingCalls++;const d=(p,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(p&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,a+1,l*2,u)},l);return}u(p,y)},m=this.backend[i].bind(this.backend);if(m.length===2){try{const p=m(e,t);p&&typeof p.then=="function"?p.then(y=>d(null,y)).catch(d):d(null,p)}catch(p){d(p)}return}return m(e,t,d)}prepareLoading(e,t,i={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ie(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ie(t)&&(t=[t]);const l=this.queueLoad(e,t,i,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e,t=""){const i=e.split("|"),a=i[0],l=i[1];this.read(a,l,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${l} for language ${a} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${l} for language ${a}`,d),this.loaded(e,u,d)})}saveMissing(e,t,i,a,l,u={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const m={...u,isUpdate:l},p=this.backend.create.bind(this.backend);if(p.length<6)try{let y;p.length===5?y=p(e,t,i,a,m):y=p(e,t,i,a),y&&typeof y.then=="function"?y.then(v=>d(null,v)).catch(d):d(null,y)}catch(y){d(y)}else p(e,t,i,a,d,m)}!e||!e[0]||this.store.addResource(e[0],t,i,a)}}}const jb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Ie(n[1])&&(e.defaultValue=n[1]),Ie(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Ub=n=>(Ie(n.ns)&&(n.ns=[n.ns]),Ie(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Ie(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),Kf=()=>{},OR=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Rc extends Kd{constructor(e={},t){if(super(),this.options=Ub(e),this.services={},this.logger=ci,this.modules={external:[]},OR(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Ie(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=jb();this.options={...i,...this.options,...Ub(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler);const a=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?ci.init(a(this.modules.logger),this.options):ci.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=NR;const y=new kb(this.options);this.store=new Nb(this.options.resources,this.options);const v=this.services;v.logger=ci,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new CR(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=a(p),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Pb(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new kR(a(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(x,...O)=>{this.emit(x,...O)}),this.modules.languageDetector&&(v.languageDetector=a(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=a(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new yd(this.services,this.options),this.translator.on("*",(x,...O)=>{this.emit(x,...O)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Kf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...y)=>this.store[p](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...y)=>(this.store[p](...y),this)});const d=_c(),m=()=>{const p=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),t(y,v)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),d}loadResources(e,t=Kf){let i=t;const a=Ie(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const l=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(p=>{p!=="cimode"&&l.indexOf(p)<0&&l.push(p)})};a?u(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>u(m)),this.options.preload?.forEach?.(d=>u(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(d)})}else i(null)}reloadResources(e,t,i){const a=_c();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=Kf),this.services.backendConnector.reload(e,t,l=>{a.resolve(),i(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ew.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const i=_c();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,m)=>{m?this.isLanguageChangingTo===e&&(a(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,i.resolve((...p)=>this.t(...p)),t&&t(d,(...p)=>this.t(...p))},u=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const m=Ie(d)?d:d&&d[0],p=this.store.hasLanguageSomeTranslations(m)?m:this.services.languageUtils.getBestMatchFromCodes(Ie(d)?[d]:d);p&&(this.language||a(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,y=>{l(y,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),i}getFixedT(e,t,i){const a=(l,u,...d)=>{let m;typeof u!="object"?m=this.options.overloadTranslationOptionHandler([l,u].concat(d)):m={...u},m.lng=m.lng||a.lng,m.lngs=m.lngs||a.lngs,m.ns=m.ns||a.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||i||a.keyPrefix);const p=this.options.keySeparator||".";let y;return m.keyPrefix&&Array.isArray(l)?y=l.map(v=>(typeof v=="function"&&(v=ep(v,{...this.options,...u})),`${m.keyPrefix}${p}${v}`)):(typeof l=="function"&&(l=ep(l,{...this.options,...u})),y=m.keyPrefix?`${m.keyPrefix}${p}${l}`:l),this.t(y,m)};return Ie(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=i,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const u=(d,m)=>{const p=this.services.backendConnector.state[`${d}|${m}`];return p===-1||p===0||p===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(i,e)&&(!a||u(l,e)))}loadNamespaces(e,t){const i=_c();return this.options.ns?(Ie(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),t&&t(a)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=_c();Ie(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return l.length?(this.options.preload=a.concat(l),this.loadResources(u=>{i.resolve(),t&&t(u)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new kb(jb());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const i=new Rc(e,t);return i.createInstance=Rc.createInstance,i}cloneInstance(e={},t=Kf){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new Rc(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i){const d=Object.keys(this.store.data).reduce((m,p)=>(m[p]={...this.store.data[p]},m[p]=Object.keys(m[p]).reduce((y,v)=>(y[v]={...m[p][v]},y),m[p]),m),{});l.store=new Nb(d,a),l.services.resourceStore=l.store}return e.interpolation&&(l.services.interpolator=new Pb(a)),l.translator=new yd(l.services,a),l.translator.on("*",(d,...m)=>{l.emit(d,...m)}),l.init(a,t),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const an=Rc.createInstance();an.createInstance;an.dir;an.init;an.loadResources;an.reloadResources;an.use;an.changeLanguage;an.getFixedT;an.t;an.exists;an.setDefaultNamespace;an.hasLoadedNamespace;an.loadNamespaces;an.loadLanguages;const MR=(n,e,t,i)=>{const a=[t,{code:e,...i||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(a,"warn","react-i18next::",!0);La(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...a):console?.warn&&console.warn(...a)},zb={},Tw=(n,e,t,i)=>{La(t)&&zb[t]||(La(t)&&(zb[t]=new Date),MR(n,e,t,i))},Sw=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},tp=(n,e,t)=>{n.loadNamespaces(e,Sw(n,t))},Bb=(n,e,t,i)=>{if(La(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return tp(n,t,i);t.forEach(a=>{n.options.ns.indexOf(a)<0&&n.options.ns.push(a)}),n.loadLanguages(e,Sw(n,i))},LR=(n,e,t={})=>!e.languages||!e.languages.length?(Tw(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,n))return!1}}),La=n=>typeof n=="string",PR=n=>typeof n=="object"&&n!==null,VR=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,jR={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},UR=n=>jR[n],zR=n=>n.replace(VR,UR);let np={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:zR,transDefaultProps:void 0};const BR=(n={})=>{np={...np,...n}},qR=()=>np;let xw;const FR=n=>{xw=n},HR=()=>xw,$R={type:"3rdParty",init(n){BR(n.options.react),FR(n)}},GR=S.createContext();class KR{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Ng={exports:{}},Dg={};var qb;function YR(){if(qb)return Dg;qb=1;var n=Hd();function e(v,T){return v===T&&(v!==0||1/v===1/T)||v!==v&&T!==T}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,a=n.useEffect,l=n.useLayoutEffect,u=n.useDebugValue;function d(v,T){var x=T(),O=i({inst:{value:x,getSnapshot:T}}),M=O[0].inst,L=O[1];return l(function(){M.value=x,M.getSnapshot=T,m(M)&&L({inst:M})},[v,x,T]),a(function(){return m(M)&&L({inst:M}),v(function(){m(M)&&L({inst:M})})},[v]),u(x),x}function m(v){var T=v.getSnapshot;v=v.value;try{var x=T();return!t(v,x)}catch{return!0}}function p(v,T){return T()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Dg.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,Dg}var Fb;function QR(){return Fb||(Fb=1,Ng.exports=YR()),Ng.exports}var XR=QR();const WR=(n,e)=>La(e)?e:PR(e)&&La(e.defaultValue)?e.defaultValue:Array.isArray(n)?n[n.length-1]:n,JR={t:WR,ready:!1},ZR=()=>()=>{},Cr=(n,e={})=>{const{i18n:t}=e,{i18n:i,defaultNS:a}=S.useContext(GR)||{},l=t||i||HR();l&&!l.reportNamespaces&&(l.reportNamespaces=new KR),l||Tw(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=S.useMemo(()=>({...qR(),...l?.options?.react,...e}),[l,e]),{useSuspense:d,keyPrefix:m}=u,p=a||l?.options?.defaultNS,y=La(p)?[p]:p||["translation"],v=S.useMemo(()=>y,y);l?.reportNamespaces?.addUsedNamespaces?.(v);const T=S.useRef(0),x=S.useCallback(N=>{if(!l)return ZR;const{bindI18n:P,bindI18nStore:D}=u,U=()=>{T.current+=1,N()};return P&&l.on(P,U),D&&l.store.on(D,U),()=>{P&&P.split(" ").forEach(k=>l.off(k,U)),D&&D.split(" ").forEach(k=>l.store.off(k,U))}},[l,u]),O=S.useRef(),M=S.useCallback(()=>{if(!l)return JR;const N=!!(l.isInitialized||l.initializedStoreOnce)&&v.every(Ge=>LR(Ge,l,u)),P=e.lng||l.language,D=T.current,U=O.current;if(U&&U.ready===N&&U.lng===P&&U.keyPrefix===m&&U.revision===D)return U;const be={t:l.getFixedT(P,u.nsMode==="fallback"?v:v[0],m),ready:N,lng:P,keyPrefix:m,revision:D};return O.current=be,be},[l,v,m,u,e.lng]),[L,H]=S.useState(0),{t:V,ready:F}=XR.useSyncExternalStore(x,M,M);S.useEffect(()=>{if(l&&!F&&!d){const N=()=>H(P=>P+1);e.lng?Bb(l,e.lng,v,N):tp(l,v,N)}},[l,e.lng,v,F,d,L]);const B=l||{},J=S.useRef(null),ae=S.useRef(),C=N=>{const P=Object.getOwnPropertyDescriptors(N);P.__original&&delete P.__original;const D=Object.create(Object.getPrototypeOf(N),P);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:N,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},R=S.useMemo(()=>{const N=B,P=N?.language;let D=N;N&&(J.current&&J.current.__original===N?ae.current!==P?(D=C(N),J.current=D,ae.current=P):D=J.current:(D=C(N),J.current=D,ae.current=P));const U=[V,D,F];return U.t=V,U.i18n=D,U.ready=F,U},[V,B,F,B.resolvedLanguage,B.language,B.languages]);if(l&&d&&!F)throw new Promise(N=>{const P=()=>N();e.lng?Bb(l,e.lng,v,P):tp(l,v,P)});return R},{slice:eI,forEach:tI}=[];function nI(n){return tI.call(eI.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function rI(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const Hb=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,iI=function(n,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${n}=${a}`;if(i.maxAge>0){const u=i.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(u)}`}if(i.domain){if(!Hb.test(i.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${i.domain}`}if(i.path){if(!Hb.test(i.path))throw new TypeError("option path is invalid");l+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(l+="; Partitioned"),l},$b={create(n,e,t,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+t*60*1e3)),i&&(a.domain=i),document.cookie=iI(n,e,a)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let i=0;i<t.length;i++){let a=t[i];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var sI={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return $b.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:i,cookieDomain:a,cookieOptions:l}=e;t&&typeof document<"u"&&$b.create(t,n,i,a,l)}},aI={name:"querystring",lookup(n){let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const l=i.substring(1).split("&");for(let u=0;u<l.length;u++){const d=l[u].indexOf("=");d>0&&l[u].substring(0,d)===e&&(t=l[u].substring(d+1))}}return t}},oI={name:"hash",lookup(n){let{lookupHash:e,lookupFromHashIndex:t}=n,i;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const l=a.substring(1);if(e){const u=l.split("&");for(let d=0;d<u.length;d++){const m=u[d].indexOf("=");m>0&&u[d].substring(0,m)===e&&(i=u[d].substring(m+1))}}if(i)return i;if(!i&&t>-1){const u=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(u)?u[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return i}};let jo=null;const Gb=()=>{if(jo!==null)return jo;try{if(jo=typeof window<"u"&&window.localStorage!==null,!jo)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{jo=!1}return jo};var lI={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&Gb())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&Gb()&&window.localStorage.setItem(t,n)}};let Uo=null;const Kb=()=>{if(Uo!==null)return Uo;try{if(Uo=typeof window<"u"&&window.sessionStorage!==null,!Uo)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Uo=!1}return Uo};var cI={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&Kb())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&Kb()&&window.sessionStorage.setItem(t,n)}},uI={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:i,language:a}=navigator;if(t)for(let l=0;l<t.length;l++)e.push(t[l]);i&&e.push(i),a&&e.push(a)}return e.length>0?e:void 0}},fI={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(t=i.getAttribute("lang")),t}},dI={name:"path",lookup(n){let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},hI={name:"subdomain",lookup(n){let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[t]}};let Aw=!1;try{document.cookie,Aw=!0}catch{}const Cw=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Aw||Cw.splice(1,1);const mI=()=>({order:Cw,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class Rw{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=nI(t,this.options||{},mI()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(sI),this.addDetector(aI),this.addDetector(lI),this.addDetector(cI),this.addDetector(uI),this.addDetector(fI),this.addDetector(dI),this.addDetector(hI),this.addDetector(oI)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(i=>{if(this.detectors[i]){let a=this.detectors[i].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(t=t.concat(a))}}),t=t.filter(i=>i!=null&&!rI(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}Rw.type="languageDetector";const gI={title:"Online Restaurant",subtitle:"Drag items to cart or click to add "},pI={back:"Back",confirm:"Confirm"},yI={login:"Login",logout:"Logout",register:"Register",orders:"My Orders",language:"Language",theme:"Theme",home:"Home",profile:"Profile"},vI={all:"All",pizza:"Pizza",burger:"Burgers",pasta:"Pasta",salad:"Salads",drink:"Drinks",dessert:"Desserts",cafe:"Cafe",sandwich:"Sandwiches"},_I={title:"Shopping Cart",empty:"Cart is empty",emptyDescription:"Drag products here to add them",items:"items",total:"Total:",checkout:"Complete Order",remove:"Remove",add:"Add",subtract:"Remove"},bI={addToCart:"Add to Cart",toman:"Toman",noImage:"No Image"},EI={email:"Email",password:"Password",name:"Full Name",login:"Login",register:"Register",loginTitle:"Login to Your Account",registerTitle:"Create New Account",noAccount:"Don't have an account?",hasAccount:"Already have an account?",loginSuccess:"Login successful!",registerSuccess:"Registration successful!",loginError:"Login failed",registerError:"Registration failed",forgotPassword:"Forgot password?",errors:{"user-not-found":"No account found with this email address","wrong-password":"Incorrect password","email-already-in-use":"An account with this email already exists","weak-password":"Password should be at least 6 characters","invalid-email":"Please enter a valid email address","network-request-failed":"Network error. Please check your connection","too-many-requests":"Too many failed attempts. Please try again later",default:"An error occurred. Please try again"}},wI={title:"Order History",noOrders:"No orders yet",status:{pending:"Pending",confirmed:"Confirmed",preparing:"Preparing",ready:"Ready",delivered:"Delivered",cancelled:"Cancelled"},orderNumber:"Order #",orderDate:"Order Date",orderTotal:"Total Amount"},TI={addedToCart:"{{item}} added to cart!",removedFromCart:"{{item}} removed from cart!",quantityIncreased:"{{item}} quantity increased!",quantityDecreased:"{{item}} quantity decreased!",orderPlaced:"Order placed with total {{total}} Toman!",emptyCart:"Cart is empty!"},SI={title:"Profile",personalInfo:"Personal Information",changePassword:"Change Password",forgotPassword:"Forgot Password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm Password",address:"Delivery Address",addressPlaceholder:"Enter your delivery address",saveChanges:"Save Changes",changing:"Changing...",updated:"Profile updated successfully!",updateSuccess:"Profile updated successfully!",passwordMismatch:"Passwords do not match",passwordChanged:"Password changed successfully!",passwordChangeError:"Error changing password",passwordError:"Error changing password",resetEmailSent:"Password reset email sent! Check your spam folder if you didn't receive it.",resetEmailError:"Error sending reset email",phone:"Phone Number",phonePlaceholder:"Enter your phone number"},xI={title:"Delivery Addresses",addNew:"Add New Address",edit:"Edit",delete:"Delete",setDefault:"Set as Default",default:"Default",noAddresses:"No addresses saved",addressTitle:"Address Title",addressTitlePlaceholder:"e.g., Home, Office",fullAddress:"Full Address",fullAddressPlaceholder:"Street, building number, unit",city:"City",cityPlaceholder:"Enter city",postalCode:"Postal Code",postalCodePlaceholder:"Enter postal code",recipientName:"Recipient Name",recipientNamePlaceholder:"Full name",phoneNumber:"Phone Number",phoneNumberPlaceholder:"Contact number",save:"Save Address",cancel:"Cancel",deleteConfirm:"Are you sure you want to delete this address?",saved:"Address saved successfully!",updated:"Address updated successfully!",deleted:"Address deleted successfully!",defaultSet:"Default address updated!",saveError:"Error saving address",loadError:"Error loading addresses",deleteError:"Error deleting address",defaultError:"Error setting default address",selectAddress:"Select Delivery Address",selectForOrder:"Please select an address for delivery",confirmDelivery:"Confirm Delivery Address",deliveryTo:"Deliver to",change:"Change Address"},AI={app:gI,common:pI,nav:yI,categories:vI,cart:_I,menu:bI,auth:EI,orders:wI,notifications:TI,profile:SI,address:xI},CI={title:" ",subtitle:"         "},RI={back:"",confirm:""},II={login:"",logout:"",register:" ",orders:" ",language:"",theme:"",home:"",profile:""},NI={all:"",pizza:"",burger:"",pasta:"",salad:"",drink:"",dessert:"",cafe:"",sandwich:""},DI={title:" ",empty:"   ",emptyDescription:"      ",items:"",total:" :",checkout:" ",remove:"",add:"",subtract:""},kI={addToCart:"  ",toman:"",noImage:" "},OI={email:"",password:" ",name:" ",login:"",register:" ",loginTitle:"   ",registerTitle:"   ",noAccount:"  ",hasAccount:"  ",loginSuccess:" !",registerSuccess:"  !",loginError:"  ",registerError:"   ",forgotPassword:"    ",errors:{"user-not-found":"      ","wrong-password":"   ","email-already-in-use":"        ","weak-password":"      ","invalid-email":"     ","network-request-failed":" .       ","too-many-requests":"    .     ",default:"   .    "}},MI={title:" ",noOrders:"   ",status:{pending:" ",confirmed:" ",preparing:"   ",ready:" ",delivered:" ",cancelled:" "},orderNumber:" ",orderDate:" ",orderTotal:" "},LI={addedToCart:"{{item}}     !",removedFromCart:"{{item}}     !",quantityIncreased:" {{item}}  !",quantityDecreased:" {{item}}  !",orderPlaced:"    {{total}}   !",emptyCart:"   !"},PI={title:"",personalInfo:" ",changePassword:"  ",forgotPassword:"  ",currentPassword:"  ",newPassword:"  ",confirmPassword:"  ",address:" ",addressPlaceholder:"     ",saveChanges:" ",changing:"  ...",updated:"    !",updateSuccess:"    !",passwordMismatch:"      ",passwordChanged:"     !",passwordChangeError:"    ",passwordError:"    ",resetEmailSent:"     !          .",resetEmailError:"    ",phone:" ",phonePlaceholder:"     "},VI={title:" ",addNew:"  ",edit:"",delete:"",setDefault:"   ",default:"",noAddresses:"    ",addressTitle:" ",addressTitlePlaceholder:":   ",fullAddress:" ",fullAddressPlaceholder:"  ",city:"",cityPlaceholder:"   ",postalCode:" ",postalCodePlaceholder:"    ",recipientName:" ",recipientNamePlaceholder:" ",phoneNumber:" ",phoneNumberPlaceholder:" ",save:" ",cancel:"",deleteConfirm:"      ",saved:"    !",updated:"    !",deleted:"    !",defaultSet:"   !",saveError:"   ",loadError:"   ",deleteError:"   ",defaultError:"    ",selectAddress:"  ",selectForOrder:"      ",confirmDelivery:"  ",deliveryTo:" ",change:" "},jI={app:CI,common:RI,nav:II,categories:NI,cart:DI,menu:kI,auth:OI,orders:MI,notifications:LI,profile:PI,address:VI},UI={en:{translation:AI},fa:{translation:jI}};an.use(Rw).use($R).init({resources:UI,fallbackLng:"fa",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});an.on("languageChanged",n=>{typeof document<"u"&&(document.dir=n==="fa"?"rtl":"ltr",document.documentElement.lang=n)});typeof document<"u"&&(document.dir=an.language==="fa"?"rtl":"ltr",document.documentElement.lang=an.language);function zI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return S.useMemo(()=>i=>{e.forEach(a=>a(i))},e)}const Yd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ol(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function Fp(n){return"nodeType"in n}function On(n){var e,t;return n?ol(n)?n:Fp(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Hp(n){const{Document:e}=On(n);return n instanceof e}function nu(n){return ol(n)?!1:n instanceof On(n).HTMLElement}function Iw(n){return n instanceof On(n).SVGElement}function ll(n){return n?ol(n)?n.document:Fp(n)?Hp(n)?n:nu(n)||Iw(n)?n.ownerDocument:document:document:document}const Ur=Yd?S.useLayoutEffect:S.useEffect;function Qd(n){const e=S.useRef(n);return Ur(()=>{e.current=n}),S.useCallback(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function BI(){const n=S.useRef(null),e=S.useCallback((i,a)=>{n.current=setInterval(i,a)},[]),t=S.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function zc(n,e){e===void 0&&(e=[n]);const t=S.useRef(n);return Ur(()=>{t.current!==n&&(t.current=n)},e),t}function ru(n,e){const t=S.useRef();return S.useMemo(()=>{const i=n(t.current);return t.current=i,i},[...e])}function vd(n){const e=Qd(n),t=S.useRef(null),i=S.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,i]}function _d(n){const e=S.useRef();return S.useEffect(()=>{e.current=n},[n]),e.current}let kg={};function iu(n,e){return S.useMemo(()=>{if(e)return e;const t=kg[n]==null?0:kg[n]+1;return kg[n]=t,n+"-"+t},[n,e])}function Nw(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return i.reduce((l,u)=>{const d=Object.entries(u);for(const[m,p]of d){const y=l[m];y!=null&&(l[m]=y+n*p)}return l},{...e})}}const $o=Nw(1),bd=Nw(-1);function qI(n){return"clientX"in n&&"clientY"in n}function Xd(n){if(!n)return!1;const{KeyboardEvent:e}=On(n.target);return e&&n instanceof e}function FI(n){if(!n)return!1;const{TouchEvent:e}=On(n.target);return e&&n instanceof e}function Ed(n){if(FI(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return qI(n)?{x:n.clientX,y:n.clientY}:null}const Gs=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Gs.Translate.toString(n),Gs.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:i}=n;return e+" "+t+"ms "+i}}}),Yb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function HI(n){return n.matches(Yb)?n:n.querySelector(Yb)}const $I={display:"none"};function GI(n){let{id:e,value:t}=n;return xe.createElement("div",{id:e,style:$I},t)}function KI(n){let{id:e,announcement:t,ariaLiveType:i="assertive"}=n;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return xe.createElement("div",{id:e,style:a,role:"status","aria-live":i,"aria-atomic":!0},t)}function YI(){const[n,e]=S.useState("");return{announce:S.useCallback(i=>{i!=null&&e(i)},[]),announcement:n}}const Dw=S.createContext(null);function QI(n){const e=S.useContext(Dw);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function XI(){const[n]=S.useState(()=>new Set),e=S.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[S.useCallback(i=>{let{type:a,event:l}=i;n.forEach(u=>{var d;return(d=u[a])==null?void 0:d.call(u,l)})},[n]),e]}const WI={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},JI={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function ZI(n){let{announcements:e=JI,container:t,hiddenTextDescribedById:i,screenReaderInstructions:a=WI}=n;const{announce:l,announcement:u}=YI(),d=iu("DndLiveRegion"),[m,p]=S.useState(!1);if(S.useEffect(()=>{p(!0)},[]),QI(S.useMemo(()=>({onDragStart(v){let{active:T}=v;l(e.onDragStart({active:T}))},onDragMove(v){let{active:T,over:x}=v;e.onDragMove&&l(e.onDragMove({active:T,over:x}))},onDragOver(v){let{active:T,over:x}=v;l(e.onDragOver({active:T,over:x}))},onDragEnd(v){let{active:T,over:x}=v;l(e.onDragEnd({active:T,over:x}))},onDragCancel(v){let{active:T,over:x}=v;l(e.onDragCancel({active:T,over:x}))}}),[l,e])),!m)return null;const y=xe.createElement(xe.Fragment,null,xe.createElement(GI,{id:i,value:a.draggable}),xe.createElement(KI,{id:d,announcement:u}));return t?bc.createPortal(y,t):y}var Xt;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Xt||(Xt={}));function wd(){}function Qb(n,e){return S.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function eN(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return S.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const zr=Object.freeze({x:0,y:0});function tN(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function nN(n,e){const t=Ed(n);if(!t)return"0 0";const i={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function rN(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return t-i}function iN(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return i-t}function sN(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function Xb(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const aN=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const a=Xb(e,e.left,e.top),l=[];for(const u of i){const{id:d}=u,m=t.get(d);if(m){const p=tN(Xb(m),a);l.push({id:d,data:{droppableContainer:u,value:p}})}}return l.sort(rN)};function oN(n,e){const t=Math.max(e.top,n.top),i=Math.max(e.left,n.left),a=Math.min(e.left+e.width,n.left+n.width),l=Math.min(e.top+e.height,n.top+n.height),u=a-i,d=l-t;if(i<a&&t<l){const m=e.width*e.height,p=n.width*n.height,y=u*d,v=y/(m+p-y);return Number(v.toFixed(4))}return 0}const lN=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const a=[];for(const l of i){const{id:u}=l,d=t.get(u);if(d){const m=oN(d,e);m>0&&a.push({id:u,data:{droppableContainer:l,value:m}})}}return a.sort(iN)};function cN(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function kw(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:zr}function uN(n){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return a.reduce((u,d)=>({...u,top:u.top+n*d.y,bottom:u.bottom+n*d.y,left:u.left+n*d.x,right:u.right+n*d.x}),{...t})}}const fN=uN(1);function Ow(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function dN(n,e,t){const i=Ow(e);if(!i)return n;const{scaleX:a,scaleY:l,x:u,y:d}=i,m=n.left-u-(1-a)*parseFloat(t),p=n.top-d-(1-l)*parseFloat(t.slice(t.indexOf(" ")+1)),y=a?n.width/a:n.width,v=l?n.height/l:n.height;return{width:y,height:v,top:p,right:m+y,bottom:p+v,left:m}}const hN={ignoreTransform:!1};function cl(n,e){e===void 0&&(e=hN);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:y}=On(n).getComputedStyle(n);p&&(t=dN(t,p,y))}const{top:i,left:a,width:l,height:u,bottom:d,right:m}=t;return{top:i,left:a,width:l,height:u,bottom:d,right:m}}function Wb(n){return cl(n,{ignoreTransform:!0})}function mN(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function gN(n,e){return e===void 0&&(e=On(n).getComputedStyle(n)),e.position==="fixed"}function pN(n,e){e===void 0&&(e=On(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?t.test(l):!1})}function $p(n,e){const t=[];function i(a){if(e!=null&&t.length>=e||!a)return t;if(Hp(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!nu(a)||Iw(a)||t.includes(a))return t;const l=On(n).getComputedStyle(a);return a!==n&&pN(a,l)&&t.push(a),gN(a,l)?t:i(a.parentNode)}return n?i(n):t}function Mw(n){const[e]=$p(n,1);return e??null}function Og(n){return!Yd||!n?null:ol(n)?n:Fp(n)?Hp(n)||n===ll(n).scrollingElement?window:nu(n)?n:null:null}function Lw(n){return ol(n)?n.scrollX:n.scrollLeft}function Pw(n){return ol(n)?n.scrollY:n.scrollTop}function rp(n){return{x:Lw(n),y:Pw(n)}}var sn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(sn||(sn={}));function Vw(n){return!Yd||!n?!1:n===document.scrollingElement}function jw(n){const e={x:0,y:0},t=Vw(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},a=n.scrollTop<=e.y,l=n.scrollLeft<=e.x,u=n.scrollTop>=i.y,d=n.scrollLeft>=i.x;return{isTop:a,isLeft:l,isBottom:u,isRight:d,maxScroll:i,minScroll:e}}const yN={x:.2,y:.2};function vN(n,e,t,i,a){let{top:l,left:u,right:d,bottom:m}=t;i===void 0&&(i=10),a===void 0&&(a=yN);const{isTop:p,isBottom:y,isLeft:v,isRight:T}=jw(n),x={x:0,y:0},O={x:0,y:0},M={height:e.height*a.y,width:e.width*a.x};return!p&&l<=e.top+M.height?(x.y=sn.Backward,O.y=i*Math.abs((e.top+M.height-l)/M.height)):!y&&m>=e.bottom-M.height&&(x.y=sn.Forward,O.y=i*Math.abs((e.bottom-M.height-m)/M.height)),!T&&d>=e.right-M.width?(x.x=sn.Forward,O.x=i*Math.abs((e.right-M.width-d)/M.width)):!v&&u<=e.left+M.width&&(x.x=sn.Backward,O.x=i*Math.abs((e.left+M.width-u)/M.width)),{direction:x,speed:O}}function _N(n){if(n===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:e,left:t,right:i,bottom:a}=n.getBoundingClientRect();return{top:e,left:t,right:i,bottom:a,width:n.clientWidth,height:n.clientHeight}}function Uw(n){return n.reduce((e,t)=>$o(e,rp(t)),zr)}function bN(n){return n.reduce((e,t)=>e+Lw(t),0)}function EN(n){return n.reduce((e,t)=>e+Pw(t),0)}function zw(n,e){if(e===void 0&&(e=cl),!n)return;const{top:t,left:i,bottom:a,right:l}=e(n);Mw(n)&&(a<=0||l<=0||t>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const wN=[["x",["left","right"],bN],["y",["top","bottom"],EN]];class Gp{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=$p(t),a=Uw(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,u,d]of wN)for(const m of u)Object.defineProperty(this,m,{get:()=>{const p=d(i),y=a[l]-p;return this.rect[m]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ic{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var a;(a=this.target)==null||a.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function TN(n){const{EventTarget:e}=On(n);return n instanceof e?n:ll(n)}function Mg(n,e){const t=Math.abs(n.x),i=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var wr;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(wr||(wr={}));function Jb(n){n.preventDefault()}function SN(n){n.stopPropagation()}var et;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(et||(et={}));const Bw={start:[et.Space,et.Enter],cancel:[et.Esc],end:[et.Space,et.Enter,et.Tab]},xN=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case et.Right:return{...t,x:t.x+25};case et.Left:return{...t,x:t.x-25};case et.Down:return{...t,y:t.y+25};case et.Up:return{...t,y:t.y-25}}};class qw{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Ic(ll(t)),this.windowListeners=new Ic(On(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(wr.Resize,this.handleCancel),this.windowListeners.add(wr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(wr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&zw(i),t(zr)}handleKeyDown(e){if(Xd(e)){const{active:t,context:i,options:a}=this.props,{keyboardCodes:l=Bw,coordinateGetter:u=xN,scrollBehavior:d="smooth"}=a,{code:m}=e;if(l.end.includes(m)){this.handleEnd(e);return}if(l.cancel.includes(m)){this.handleCancel(e);return}const{collisionRect:p}=i.current,y=p?{x:p.left,y:p.top}:zr;this.referenceCoordinates||(this.referenceCoordinates=y);const v=u(e,{active:t,context:i.current,currentCoordinates:y});if(v){const T=bd(v,y),x={x:0,y:0},{scrollableAncestors:O}=i.current;for(const M of O){const L=e.code,{isTop:H,isRight:V,isLeft:F,isBottom:B,maxScroll:J,minScroll:ae}=jw(M),C=_N(M),R={x:Math.min(L===et.Right?C.right-C.width/2:C.right,Math.max(L===et.Right?C.left:C.left+C.width/2,v.x)),y:Math.min(L===et.Down?C.bottom-C.height/2:C.bottom,Math.max(L===et.Down?C.top:C.top+C.height/2,v.y))},N=L===et.Right&&!V||L===et.Left&&!F,P=L===et.Down&&!B||L===et.Up&&!H;if(N&&R.x!==v.x){const D=M.scrollLeft+T.x,U=L===et.Right&&D<=J.x||L===et.Left&&D>=ae.x;if(U&&!T.y){M.scrollTo({left:D,behavior:d});return}U?x.x=M.scrollLeft-D:x.x=L===et.Right?M.scrollLeft-J.x:M.scrollLeft-ae.x,x.x&&M.scrollBy({left:-x.x,behavior:d});break}else if(P&&R.y!==v.y){const D=M.scrollTop+T.y,U=L===et.Down&&D<=J.y||L===et.Up&&D>=ae.y;if(U&&!T.x){M.scrollTo({top:D,behavior:d});return}U?x.y=M.scrollTop-D:x.y=L===et.Down?M.scrollTop-J.y:M.scrollTop-ae.y,x.y&&M.scrollBy({top:-x.y,behavior:d});break}}this.handleMove(e,$o(bd(v,this.referenceCoordinates),x))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}qw.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:i=Bw,onActivation:a}=e,{active:l}=t;const{code:u}=n.nativeEvent;if(i.start.includes(u)){const d=l.activatorNode.current;return d&&n.target!==d?!1:(n.preventDefault(),a?.({event:n.nativeEvent}),!0)}return!1}}];function Zb(n){return!!(n&&"distance"in n)}function e1(n){return!!(n&&"delay"in n)}class Kp{constructor(e,t,i){var a;i===void 0&&(i=TN(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:l}=e,{target:u}=l;this.props=e,this.events=t,this.document=ll(u),this.documentListeners=new Ic(this.document),this.listeners=new Ic(i),this.windowListeners=new Ic(On(u)),this.initialCoordinates=(a=Ed(l))!=null?a:zr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(wr.Resize,this.handleCancel),this.windowListeners.add(wr.DragStart,Jb),this.windowListeners.add(wr.VisibilityChange,this.handleCancel),this.windowListeners.add(wr.ContextMenu,Jb),this.documentListeners.add(wr.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(e1(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Zb(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:a}=this.props;a(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(wr.Click,SN,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(wr.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:a,props:l}=this,{onMove:u,options:{activationConstraint:d}}=l;if(!a)return;const m=(t=Ed(e))!=null?t:zr,p=bd(a,m);if(!i&&d){if(Zb(d)){if(d.tolerance!=null&&Mg(p,d.tolerance))return this.handleCancel();if(Mg(p,d.distance))return this.handleStart()}if(e1(d)&&Mg(p,d.tolerance))return this.handleCancel();this.handlePending(d,p);return}e.cancelable&&e.preventDefault(),u(m)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===et.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const AN={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Fw extends Kp{constructor(e){const{event:t}=e,i=ll(t.target);super(e,AN,i)}}Fw.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i?.({event:t}),!0)}}];const CN={move:{name:"mousemove"},end:{name:"mouseup"}};var ip;(function(n){n[n.RightClick=2]="RightClick"})(ip||(ip={}));class Hw extends Kp{constructor(e){super(e,CN,ll(e.event.target))}}Hw.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return t.button===ip.RightClick?!1:(i?.({event:t}),!0)}}];const Lg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $w extends Kp{constructor(e){super(e,Lg)}static setup(){return window.addEventListener(Lg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Lg.move.name,e)};function e(){}}}$w.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;const{touches:a}=t;return a.length>1?!1:(i?.({event:t}),!0)}}];var Nc;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Nc||(Nc={}));var Td;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Td||(Td={}));function RN(n){let{acceleration:e,activator:t=Nc.Pointer,canScroll:i,draggingRect:a,enabled:l,interval:u=5,order:d=Td.TreeOrder,pointerCoordinates:m,scrollableAncestors:p,scrollableAncestorRects:y,delta:v,threshold:T}=n;const x=NN({delta:v,disabled:!l}),[O,M]=BI(),L=S.useRef({x:0,y:0}),H=S.useRef({x:0,y:0}),V=S.useMemo(()=>{switch(t){case Nc.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case Nc.DraggableRect:return a}},[t,a,m]),F=S.useRef(null),B=S.useCallback(()=>{const ae=F.current;if(!ae)return;const C=L.current.x*H.current.x,R=L.current.y*H.current.y;ae.scrollBy(C,R)},[]),J=S.useMemo(()=>d===Td.TreeOrder?[...p].reverse():p,[d,p]);S.useEffect(()=>{if(!l||!p.length||!V){M();return}for(const ae of J){if(i?.(ae)===!1)continue;const C=p.indexOf(ae),R=y[C];if(!R)continue;const{direction:N,speed:P}=vN(ae,R,V,e,T);for(const D of["x","y"])x[D][N[D]]||(P[D]=0,N[D]=0);if(P.x>0||P.y>0){M(),F.current=ae,O(B,u),L.current=P,H.current=N;return}}L.current={x:0,y:0},H.current={x:0,y:0},M()},[e,B,i,M,l,u,JSON.stringify(V),JSON.stringify(x),O,p,J,y,JSON.stringify(T)])}const IN={x:{[sn.Backward]:!1,[sn.Forward]:!1},y:{[sn.Backward]:!1,[sn.Forward]:!1}};function NN(n){let{delta:e,disabled:t}=n;const i=_d(e);return ru(a=>{if(t||!i||!a)return IN;const l={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[sn.Backward]:a.x[sn.Backward]||l.x===-1,[sn.Forward]:a.x[sn.Forward]||l.x===1},y:{[sn.Backward]:a.y[sn.Backward]||l.y===-1,[sn.Forward]:a.y[sn.Forward]||l.y===1}}},[t,e,i])}function DN(n,e){const t=e!=null?n.get(e):void 0,i=t?t.node.current:null;return ru(a=>{var l;return e==null?null:(l=i??a)!=null?l:null},[i,e])}function kN(n,e){return S.useMemo(()=>n.reduce((t,i)=>{const{sensor:a}=i,l=a.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,i)}));return[...t,...l]},[]),[n,e])}var Bc;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Bc||(Bc={}));var sp;(function(n){n.Optimized="optimized"})(sp||(sp={}));const t1=new Map;function ON(n,e){let{dragging:t,dependencies:i,config:a}=e;const[l,u]=S.useState(null),{frequency:d,measure:m,strategy:p}=a,y=S.useRef(n),v=L(),T=zc(v),x=S.useCallback(function(H){H===void 0&&(H=[]),!T.current&&u(V=>V===null?H:V.concat(H.filter(F=>!V.includes(F))))},[T]),O=S.useRef(null),M=ru(H=>{if(v&&!t)return t1;if(!H||H===t1||y.current!==n||l!=null){const V=new Map;for(let F of n){if(!F)continue;if(l&&l.length>0&&!l.includes(F.id)&&F.rect.current){V.set(F.id,F.rect.current);continue}const B=F.node.current,J=B?new Gp(m(B),B):null;F.rect.current=J,J&&V.set(F.id,J)}return V}return H},[n,l,t,v,m]);return S.useEffect(()=>{y.current=n},[n]),S.useEffect(()=>{v||x()},[t,v]),S.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),S.useEffect(()=>{v||typeof d!="number"||O.current!==null||(O.current=setTimeout(()=>{x(),O.current=null},d))},[d,v,x,...i]),{droppableRects:M,measureDroppableContainers:x,measuringScheduled:l!=null};function L(){switch(p){case Bc.Always:return!1;case Bc.BeforeDragging:return t;default:return!t}}}function Yp(n,e){return ru(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function MN(n,e){return Yp(n,e)}function LN(n){let{callback:e,disabled:t}=n;const i=Qd(e),a=S.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,t]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function Wd(n){let{callback:e,disabled:t}=n;const i=Qd(e),a=S.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[t]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function PN(n){return new Gp(cl(n),n)}function n1(n,e,t){e===void 0&&(e=PN);const[i,a]=S.useState(null);function l(){a(m=>{if(!n)return null;if(n.isConnected===!1){var p;return(p=m??t)!=null?p:null}const y=e(n);return JSON.stringify(m)===JSON.stringify(y)?m:y})}const u=LN({callback(m){if(n)for(const p of m){const{type:y,target:v}=p;if(y==="childList"&&v instanceof HTMLElement&&v.contains(n)){l();break}}}}),d=Wd({callback:l});return Ur(()=>{l(),n?(d?.observe(n),u?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),u?.disconnect())},[n]),i}function VN(n){const e=Yp(n);return kw(n,e)}const r1=[];function jN(n){const e=S.useRef(n),t=ru(i=>n?i&&i!==r1&&n&&e.current&&n.parentNode===e.current.parentNode?i:$p(n):r1,[n]);return S.useEffect(()=>{e.current=n},[n]),t}function UN(n){const[e,t]=S.useState(null),i=S.useRef(n),a=S.useCallback(l=>{const u=Og(l.target);u&&t(d=>d?(d.set(u,rp(u)),new Map(d)):null)},[]);return S.useEffect(()=>{const l=i.current;if(n!==l){u(l);const d=n.map(m=>{const p=Og(m);return p?(p.addEventListener("scroll",a,{passive:!0}),[p,rp(p)]):null}).filter(m=>m!=null);t(d.length?new Map(d):null),i.current=n}return()=>{u(n),u(l)};function u(d){d.forEach(m=>{const p=Og(m);p?.removeEventListener("scroll",a)})}},[a,n]),S.useMemo(()=>n.length?e?Array.from(e.values()).reduce((l,u)=>$o(l,u),zr):Uw(n):zr,[n,e])}function i1(n,e){e===void 0&&(e=[]);const t=S.useRef(null);return S.useEffect(()=>{t.current=null},e),S.useEffect(()=>{const i=n!==zr;i&&!t.current&&(t.current=n),!i&&t.current&&(t.current=null)},[n]),t.current?bd(n,t.current):zr}function zN(n){S.useEffect(()=>{if(!Yd)return;const e=n.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function BN(n,e){return S.useMemo(()=>n.reduce((t,i)=>{let{eventName:a,handler:l}=i;return t[a]=u=>{l(u,e)},t},{}),[n,e])}function Gw(n){return S.useMemo(()=>n?mN(n):null,[n])}const s1=[];function qN(n,e){e===void 0&&(e=cl);const[t]=n,i=Gw(t?On(t):null),[a,l]=S.useState(s1);function u(){l(()=>n.length?n.map(m=>Vw(m)?i:new Gp(e(m),m)):s1)}const d=Wd({callback:u});return Ur(()=>{d?.disconnect(),u(),n.forEach(m=>d?.observe(m))},[n]),a}function Kw(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return nu(e)?e:n}function FN(n){let{measure:e}=n;const[t,i]=S.useState(null),a=S.useCallback(p=>{for(const{target:y}of p)if(nu(y)){i(v=>{const T=e(y);return v?{...v,width:T.width,height:T.height}:T});break}},[e]),l=Wd({callback:a}),u=S.useCallback(p=>{const y=Kw(p);l?.disconnect(),y&&l?.observe(y),i(y?e(y):null)},[e,l]),[d,m]=vd(u);return S.useMemo(()=>({nodeRef:d,rect:t,setRef:m}),[t,d,m])}const HN=[{sensor:Fw,options:{}},{sensor:qw,options:{}}],$N={current:{}},id={draggable:{measure:Wb},droppable:{measure:Wb,strategy:Bc.WhileDragging,frequency:sp.Optimized},dragOverlay:{measure:cl}};class Dc extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const GN={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Dc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:wd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:id,measureDroppableContainers:wd,windowRect:null,measuringScheduled:!1},Yw={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:wd,draggableNodes:new Map,over:null,measureDroppableContainers:wd},su=S.createContext(Yw),Qw=S.createContext(GN);function KN(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Dc}}}function YN(n,e){switch(e.type){case Xt.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Xt.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Xt.DragEnd:case Xt.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Xt.RegisterDroppable:{const{element:t}=e,{id:i}=t,a=new Dc(n.droppable.containers);return a.set(i,t),{...n,droppable:{...n.droppable,containers:a}}}case Xt.SetDroppableDisabled:{const{id:t,key:i,disabled:a}=e,l=n.droppable.containers.get(t);if(!l||i!==l.key)return n;const u=new Dc(n.droppable.containers);return u.set(t,{...l,disabled:a}),{...n,droppable:{...n.droppable,containers:u}}}case Xt.UnregisterDroppable:{const{id:t,key:i}=e,a=n.droppable.containers.get(t);if(!a||i!==a.key)return n;const l=new Dc(n.droppable.containers);return l.delete(t),{...n,droppable:{...n.droppable,containers:l}}}default:return n}}function QN(n){let{disabled:e}=n;const{active:t,activatorEvent:i,draggableNodes:a}=S.useContext(su),l=_d(i),u=_d(t?.id);return S.useEffect(()=>{if(!e&&!i&&l&&u!=null){if(!Xd(l)||document.activeElement===l.target)return;const d=a.get(u);if(!d)return;const{activatorNode:m,node:p}=d;if(!m.current&&!p.current)return;requestAnimationFrame(()=>{for(const y of[m.current,p.current]){if(!y)continue;const v=HI(y);if(v){v.focus();break}}})}},[i,e,a,u,l]),null}function Xw(n,e){let{transform:t,...i}=e;return n!=null&&n.length?n.reduce((a,l)=>l({transform:a,...i}),t):t}function XN(n){return S.useMemo(()=>({draggable:{...id.draggable,...n?.draggable},droppable:{...id.droppable,...n?.droppable},dragOverlay:{...id.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function WN(n){let{activeNode:e,measure:t,initialRect:i,config:a=!0}=n;const l=S.useRef(!1),{x:u,y:d}=typeof a=="boolean"?{x:a,y:a}:a;Ur(()=>{if(!u&&!d||!e){l.current=!1;return}if(l.current||!i)return;const p=e?.node.current;if(!p||p.isConnected===!1)return;const y=t(p),v=kw(y,i);if(u||(v.x=0),d||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const T=Mw(p);T&&T.scrollBy({top:v.y,left:v.x})}},[e,u,d,i,t])}const Jd=S.createContext({...zr,scaleX:1,scaleY:1});var Ls;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Ls||(Ls={}));const JN=S.memo(function(e){var t,i,a,l;let{id:u,accessibility:d,autoScroll:m=!0,children:p,sensors:y=HN,collisionDetection:v=lN,measuring:T,modifiers:x,...O}=e;const M=S.useReducer(YN,void 0,KN),[L,H]=M,[V,F]=XI(),[B,J]=S.useState(Ls.Uninitialized),ae=B===Ls.Initialized,{draggable:{active:C,nodes:R,translate:N},droppable:{containers:P}}=L,D=C!=null?R.get(C):null,U=S.useRef({initial:null,translated:null}),k=S.useMemo(()=>{var je;return C!=null?{id:C,data:(je=D?.data)!=null?je:$N,rect:U}:null},[C,D]),be=S.useRef(null),[Ge,X]=S.useState(null),[oe,he]=S.useState(null),Se=zc(O,Object.values(O)),De=iu("DndDescribedBy",u),z=S.useMemo(()=>P.getEnabled(),[P]),ee=XN(T),{droppableRects:le,measureDroppableContainers:de,measuringScheduled:Te}=ON(z,{dragging:ae,dependencies:[N.x,N.y],config:ee.droppable}),ye=DN(R,C),Pe=S.useMemo(()=>oe?Ed(oe):null,[oe]),tt=bi(),ue=MN(ye,ee.draggable.measure);WN({activeNode:C!=null?R.get(C):null,config:tt.layoutShiftCompensation,initialRect:ue,measure:ee.draggable.measure});const ce=n1(ye,ee.draggable.measure,ue),Ke=n1(ye?ye.parentElement:null),dt=S.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xn=P.getNodeFor((t=dt.current.over)==null?void 0:t.id),Lt=FN({measure:ee.dragOverlay.measure}),or=(i=Lt.nodeRef.current)!=null?i:ye,Mn=ae?(a=Lt.rect)!=null?a:ce:null,es=!!(Lt.nodeRef.current&&Lt.rect),ts=VN(es?null:ce),vt=Gw(or?On(or):null),at=jN(ae?xn??ye:null),$n=qN(at),ns=Xw(x,{transform:{x:N.x-ts.x,y:N.y-ts.y,scaleX:1,scaleY:1},activatorEvent:oe,active:k,activeNodeRect:ce,containerNodeRect:Ke,draggingNodeRect:Mn,over:dt.current.over,overlayNodeRect:Lt.rect,scrollableAncestors:at,scrollableAncestorRects:$n,windowRect:vt}),ra=Pe?$o(Pe,N):null,Jt=UN(at),yi=i1(Jt),ia=i1(Jt,[ce]),lr=$o(ns,yi),An=Mn?fN(Mn,ns):null,vi=k&&An?v({active:k,collisionRect:An,droppableRects:le,droppableContainers:z,pointerCoordinates:ra}):null,sa=sN(vi,"id"),[Gn,aa]=S.useState(null),Kn=es?ns:$o(ns,ia),Yt=cN(Kn,(l=Gn?.rect)!=null?l:null,ce),pn=S.useRef(null),_t=S.useCallback((je,bt)=>{let{sensor:Et,options:Pt}=bt;if(be.current==null)return;const yn=R.get(be.current);if(!yn)return;const Zt=je.nativeEvent,Rt=new Et({active:be.current,activeNode:yn,event:Zt,options:Pt,context:dt,onAbort(It){if(!R.get(It))return;const{onDragAbort:_n}=Se.current,Cn={id:It};_n?.(Cn),V({type:"onDragAbort",event:Cn})},onPending(It,vn,_n,Cn){if(!R.get(It))return;const{onDragPending:Rn}=Se.current,Qn={id:It,constraint:vn,initialCoordinates:_n,offset:Cn};Rn?.(Qn),V({type:"onDragPending",event:Qn})},onStart(It){const vn=be.current;if(vn==null)return;const _n=R.get(vn);if(!_n)return;const{onDragStart:Cn}=Se.current,Yn={activatorEvent:Zt,active:{id:vn,data:_n.data,rect:U}};bc.unstable_batchedUpdates(()=>{Cn?.(Yn),J(Ls.Initializing),H({type:Xt.DragStart,initialCoordinates:It,active:vn}),V({type:"onDragStart",event:Yn}),X(pn.current),he(Zt)})},onMove(It){H({type:Xt.DragMove,coordinates:It})},onEnd:Ln(Xt.DragEnd),onCancel:Ln(Xt.DragCancel)});pn.current=Rt;function Ln(It){return async function(){const{active:_n,collisions:Cn,over:Yn,scrollAdjustedTranslate:Rn}=dt.current;let Qn=null;if(_n&&Rn){const{cancelDrop:on}=Se.current;Qn={activatorEvent:Zt,active:_n,collisions:Cn,delta:Rn,over:Yn},It===Xt.DragEnd&&typeof on=="function"&&await Promise.resolve(on(Qn))&&(It=Xt.DragCancel)}be.current=null,bc.unstable_batchedUpdates(()=>{H({type:It}),J(Ls.Uninitialized),aa(null),X(null),he(null),pn.current=null;const on=It===Xt.DragEnd?"onDragEnd":"onDragCancel";if(Qn){const In=Se.current[on];In?.(Qn),V({type:on,event:Qn})}})}}},[R]),Ya=S.useCallback((je,bt)=>(Et,Pt)=>{const yn=Et.nativeEvent,Zt=R.get(Pt);if(be.current!==null||!Zt||yn.dndKit||yn.defaultPrevented)return;const Rt={active:Zt};je(Et,bt.options,Rt)===!0&&(yn.dndKit={capturedBy:bt.sensor},be.current=Pt,_t(Et,bt))},[R,_t]),_i=kN(y,Ya);zN(y),Ur(()=>{ce&&B===Ls.Initializing&&J(Ls.Initialized)},[ce,B]),S.useEffect(()=>{const{onDragMove:je}=Se.current,{active:bt,activatorEvent:Et,collisions:Pt,over:yn}=dt.current;if(!bt||!Et)return;const Zt={active:bt,activatorEvent:Et,collisions:Pt,delta:{x:lr.x,y:lr.y},over:yn};bc.unstable_batchedUpdates(()=>{je?.(Zt),V({type:"onDragMove",event:Zt})})},[lr.x,lr.y]),S.useEffect(()=>{const{active:je,activatorEvent:bt,collisions:Et,droppableContainers:Pt,scrollAdjustedTranslate:yn}=dt.current;if(!je||be.current==null||!bt||!yn)return;const{onDragOver:Zt}=Se.current,Rt=Pt.get(sa),Ln=Rt&&Rt.rect.current?{id:Rt.id,rect:Rt.rect.current,data:Rt.data,disabled:Rt.disabled}:null,It={active:je,activatorEvent:bt,collisions:Et,delta:{x:yn.x,y:yn.y},over:Ln};bc.unstable_batchedUpdates(()=>{aa(Ln),Zt?.(It),V({type:"onDragOver",event:It})})},[sa]),Ur(()=>{dt.current={activatorEvent:oe,active:k,activeNode:ye,collisionRect:An,collisions:vi,droppableRects:le,draggableNodes:R,draggingNode:or,draggingNodeRect:Mn,droppableContainers:P,over:Gn,scrollableAncestors:at,scrollAdjustedTranslate:lr},U.current={initial:Mn,translated:An}},[k,ye,vi,An,R,or,Mn,le,P,Gn,at,lr]),RN({...tt,delta:N,draggingRect:An,pointerCoordinates:ra,scrollableAncestors:at,scrollableAncestorRects:$n});const Qa=S.useMemo(()=>({active:k,activeNode:ye,activeNodeRect:ce,activatorEvent:oe,collisions:vi,containerNodeRect:Ke,dragOverlay:Lt,draggableNodes:R,droppableContainers:P,droppableRects:le,over:Gn,measureDroppableContainers:de,scrollableAncestors:at,scrollableAncestorRects:$n,measuringConfiguration:ee,measuringScheduled:Te,windowRect:vt}),[k,ye,ce,oe,vi,Ke,Lt,R,P,le,Gn,de,at,$n,ee,Te,vt]),cr=S.useMemo(()=>({activatorEvent:oe,activators:_i,active:k,activeNodeRect:ce,ariaDescribedById:{draggable:De},dispatch:H,draggableNodes:R,over:Gn,measureDroppableContainers:de}),[oe,_i,k,ce,H,De,R,Gn,de]);return xe.createElement(Dw.Provider,{value:F},xe.createElement(su.Provider,{value:cr},xe.createElement(Qw.Provider,{value:Qa},xe.createElement(Jd.Provider,{value:Yt},p)),xe.createElement(QN,{disabled:d?.restoreFocus===!1})),xe.createElement(ZI,{...d,hiddenTextDescribedById:De}));function bi(){const je=Ge?.autoScrollEnabled===!1,bt=typeof m=="object"?m.enabled===!1:m===!1,Et=ae&&!je&&!bt;return typeof m=="object"?{...m,enabled:Et}:{enabled:Et}}}),ZN=S.createContext(null),a1="button",eD="Draggable";function tD(n){let{id:e,data:t,disabled:i=!1,attributes:a}=n;const l=iu(eD),{activators:u,activatorEvent:d,active:m,activeNodeRect:p,ariaDescribedById:y,draggableNodes:v,over:T}=S.useContext(su),{role:x=a1,roleDescription:O="draggable",tabIndex:M=0}=a??{},L=m?.id===e,H=S.useContext(L?Jd:ZN),[V,F]=vd(),[B,J]=vd(),ae=BN(u,e),C=zc(t);Ur(()=>(v.set(e,{id:e,key:l,node:V,activatorNode:B,data:C}),()=>{const N=v.get(e);N&&N.key===l&&v.delete(e)}),[v,e]);const R=S.useMemo(()=>({role:x,tabIndex:M,"aria-disabled":i,"aria-pressed":L&&x===a1?!0:void 0,"aria-roledescription":O,"aria-describedby":y.draggable}),[i,x,M,L,O,y.draggable]);return{active:m,activatorEvent:d,activeNodeRect:p,attributes:R,isDragging:L,listeners:i?void 0:ae,node:V,over:T,setNodeRef:F,setActivatorNodeRef:J,transform:H}}function Ww(){return S.useContext(Qw)}const nD="Droppable",rD={timeout:25};function Jw(n){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:a}=n;const l=iu(nD),{active:u,dispatch:d,over:m,measureDroppableContainers:p}=S.useContext(su),y=S.useRef({disabled:t}),v=S.useRef(!1),T=S.useRef(null),x=S.useRef(null),{disabled:O,updateMeasurementsFor:M,timeout:L}={...rD,...a},H=zc(M??i),V=S.useCallback(()=>{if(!v.current){v.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{p(Array.isArray(H.current)?H.current:[H.current]),x.current=null},L)},[L]),F=Wd({callback:V,disabled:O||!u}),B=S.useCallback((R,N)=>{F&&(N&&(F.unobserve(N),v.current=!1),R&&F.observe(R))},[F]),[J,ae]=vd(B),C=zc(e);return S.useEffect(()=>{!F||!J.current||(F.disconnect(),v.current=!1,F.observe(J.current))},[J,F]),S.useEffect(()=>(d({type:Xt.RegisterDroppable,element:{id:i,key:l,disabled:t,node:J,rect:T,data:C}}),()=>d({type:Xt.UnregisterDroppable,key:l,id:i})),[i]),S.useEffect(()=>{t!==y.current.disabled&&(d({type:Xt.SetDroppableDisabled,id:i,key:l,disabled:t}),y.current.disabled=t)},[i,l,t,d]),{active:u,rect:T,isOver:m?.id===i,node:J,over:m,setNodeRef:ae}}function iD(n){let{animation:e,children:t}=n;const[i,a]=S.useState(null),[l,u]=S.useState(null),d=_d(t);return!t&&!i&&d&&a(d),Ur(()=>{if(!l)return;const m=i?.key,p=i?.props.id;if(m==null||p==null){a(null);return}Promise.resolve(e(p,l)).then(()=>{a(null)})},[e,i,l]),xe.createElement(xe.Fragment,null,t,i?S.cloneElement(i,{ref:u}):null)}const sD={x:0,y:0,scaleX:1,scaleY:1};function aD(n){let{children:e}=n;return xe.createElement(su.Provider,{value:Yw},xe.createElement(Jd.Provider,{value:sD},e))}const oD={position:"fixed",touchAction:"none"},lD=n=>Xd(n)?"transform 250ms ease":void 0,cD=S.forwardRef((n,e)=>{let{as:t,activatorEvent:i,adjustScale:a,children:l,className:u,rect:d,style:m,transform:p,transition:y=lD}=n;if(!d)return null;const v=a?p:{...p,scaleX:1,scaleY:1},T={...oD,width:d.width,height:d.height,top:d.top,left:d.left,transform:Gs.Transform.toString(v),transformOrigin:a&&i?nN(i,d):void 0,transition:typeof y=="function"?y(i):y,...m};return xe.createElement(t,{className:u,style:T,ref:e},l)}),uD=n=>e=>{let{active:t,dragOverlay:i}=e;const a={},{styles:l,className:u}=n;if(l!=null&&l.active)for(const[d,m]of Object.entries(l.active))m!==void 0&&(a[d]=t.node.style.getPropertyValue(d),t.node.style.setProperty(d,m));if(l!=null&&l.dragOverlay)for(const[d,m]of Object.entries(l.dragOverlay))m!==void 0&&i.node.style.setProperty(d,m);return u!=null&&u.active&&t.node.classList.add(u.active),u!=null&&u.dragOverlay&&i.node.classList.add(u.dragOverlay),function(){for(const[m,p]of Object.entries(a))t.node.style.setProperty(m,p);u!=null&&u.active&&t.node.classList.remove(u.active)}},fD=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:Gs.Transform.toString(e)},{transform:Gs.Transform.toString(t)}]},dD={duration:250,easing:"ease",keyframes:fD,sideEffects:uD({styles:{active:{opacity:"0"}}})};function hD(n){let{config:e,draggableNodes:t,droppableContainers:i,measuringConfiguration:a}=n;return Qd((l,u)=>{if(e===null)return;const d=t.get(l);if(!d)return;const m=d.node.current;if(!m)return;const p=Kw(u);if(!p)return;const{transform:y}=On(u).getComputedStyle(u),v=Ow(y);if(!v)return;const T=typeof e=="function"?e:mD(e);return zw(m,a.draggable.measure),T({active:{id:l,data:d.data,node:m,rect:a.draggable.measure(m)},draggableNodes:t,dragOverlay:{node:u,rect:a.dragOverlay.measure(p)},droppableContainers:i,measuringConfiguration:a,transform:v})})}function mD(n){const{duration:e,easing:t,sideEffects:i,keyframes:a}={...dD,...n};return l=>{let{active:u,dragOverlay:d,transform:m,...p}=l;if(!e)return;const y={x:d.rect.left-u.rect.left,y:d.rect.top-u.rect.top},v={scaleX:m.scaleX!==1?u.rect.width*m.scaleX/d.rect.width:1,scaleY:m.scaleY!==1?u.rect.height*m.scaleY/d.rect.height:1},T={x:m.x-y.x,y:m.y-y.y,...v},x=a({...p,active:u,dragOverlay:d,transform:{initial:m,final:T}}),[O]=x,M=x[x.length-1];if(JSON.stringify(O)===JSON.stringify(M))return;const L=i?.({active:u,dragOverlay:d,...p}),H=d.node.animate(x,{duration:e,easing:t,fill:"forwards"});return new Promise(V=>{H.onfinish=()=>{L?.(),V()}})}}let o1=0;function gD(n){return S.useMemo(()=>{if(n!=null)return o1++,o1},[n])}const pD=xe.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:i,style:a,transition:l,modifiers:u,wrapperElement:d="div",className:m,zIndex:p=999}=n;const{activatorEvent:y,active:v,activeNodeRect:T,containerNodeRect:x,draggableNodes:O,droppableContainers:M,dragOverlay:L,over:H,measuringConfiguration:V,scrollableAncestors:F,scrollableAncestorRects:B,windowRect:J}=Ww(),ae=S.useContext(Jd),C=gD(v?.id),R=Xw(u,{activatorEvent:y,active:v,activeNodeRect:T,containerNodeRect:x,draggingNodeRect:L.rect,over:H,overlayNodeRect:L.rect,scrollableAncestors:F,scrollableAncestorRects:B,transform:ae,windowRect:J}),N=Yp(T),P=hD({config:i,draggableNodes:O,droppableContainers:M,measuringConfiguration:V}),D=N?L.setRef:void 0;return xe.createElement(aD,null,xe.createElement(iD,{animation:P},v&&C?xe.createElement(cD,{key:C,id:v.id,ref:D,as:d,activatorEvent:y,adjustScale:e,className:m,transition:l,rect:N,style:{zIndex:p,...a},transform:R},t):null))});function Zw(n,e,t){const i=n.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function yD(n,e){return n.reduce((t,i,a)=>{const l=e.get(i);return l&&(t[a]=l),t},Array(n.length))}function Yf(n){return n!==null&&n>=0}function vD(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function _D(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const Qp=n=>{let{rects:e,activeIndex:t,overIndex:i,index:a}=n;const l=Zw(e,i,t),u=e[a],d=l[a];return!d||!u?null:{x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height}},eT="Sortable",tT=xe.createContext({activeIndex:-1,containerId:eT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Qp,disabled:{draggable:!1,droppable:!1}});function bD(n){let{children:e,id:t,items:i,strategy:a=Qp,disabled:l=!1}=n;const{active:u,dragOverlay:d,droppableRects:m,over:p,measureDroppableContainers:y}=Ww(),v=iu(eT,t),T=d.rect!==null,x=S.useMemo(()=>i.map(ae=>typeof ae=="object"&&"id"in ae?ae.id:ae),[i]),O=u!=null,M=u?x.indexOf(u.id):-1,L=p?x.indexOf(p.id):-1,H=S.useRef(x),V=!vD(x,H.current),F=L!==-1&&M===-1||V,B=_D(l);Ur(()=>{V&&O&&y(x)},[V,x,O,y]),S.useEffect(()=>{H.current=x},[x]);const J=S.useMemo(()=>({activeIndex:M,containerId:v,disabled:B,disableTransforms:F,items:x,overIndex:L,useDragOverlay:T,sortedRects:yD(x,m),strategy:a}),[M,v,B.draggable,B.droppable,F,x,L,m,T,a]);return xe.createElement(tT.Provider,{value:J},e)}const ED=n=>{let{id:e,items:t,activeIndex:i,overIndex:a}=n;return Zw(t,i,a).indexOf(e)},wD=n=>{let{containerId:e,isSorting:t,wasDragging:i,index:a,items:l,newIndex:u,previousItems:d,previousContainerId:m,transition:p}=n;return!p||!i||d!==l&&a===u?!1:t?!0:u!==a&&e===m},TD={duration:200,easing:"ease"},nT="transform",SD=Gs.Transition.toString({property:nT,duration:0,easing:"linear"}),xD={roleDescription:"sortable"};function AD(n){let{disabled:e,index:t,node:i,rect:a}=n;const[l,u]=S.useState(null),d=S.useRef(t);return Ur(()=>{if(!e&&t!==d.current&&i.current){const m=a.current;if(m){const p=cl(i.current,{ignoreTransform:!0}),y={x:m.left-p.left,y:m.top-p.top,scaleX:m.width/p.width,scaleY:m.height/p.height};(y.x||y.y)&&u(y)}}t!==d.current&&(d.current=t)},[e,t,i,a]),S.useEffect(()=>{l&&u(null)},[l]),l}function CD(n){let{animateLayoutChanges:e=wD,attributes:t,disabled:i,data:a,getNewIndex:l=ED,id:u,strategy:d,resizeObserverConfig:m,transition:p=TD}=n;const{items:y,containerId:v,activeIndex:T,disabled:x,disableTransforms:O,sortedRects:M,overIndex:L,useDragOverlay:H,strategy:V}=S.useContext(tT),F=RD(i,x),B=y.indexOf(u),J=S.useMemo(()=>({sortable:{containerId:v,index:B,items:y},...a}),[v,a,B,y]),ae=S.useMemo(()=>y.slice(y.indexOf(u)),[y,u]),{rect:C,node:R,isOver:N,setNodeRef:P}=Jw({id:u,data:J,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:ae,...m}}),{active:D,activatorEvent:U,activeNodeRect:k,attributes:be,setNodeRef:Ge,listeners:X,isDragging:oe,over:he,setActivatorNodeRef:Se,transform:De}=tD({id:u,data:J,attributes:{...xD,...t},disabled:F.draggable}),z=zI(P,Ge),ee=!!D,le=ee&&!O&&Yf(T)&&Yf(L),de=!H&&oe,Te=de&&le?De:null,Pe=le?Te??(d??V)({rects:M,activeNodeRect:k,activeIndex:T,overIndex:L,index:B}):null,tt=Yf(T)&&Yf(L)?l({id:u,items:y,activeIndex:T,overIndex:L}):B,ue=D?.id,ce=S.useRef({activeId:ue,items:y,newIndex:tt,containerId:v}),Ke=y!==ce.current.items,dt=e({active:D,containerId:v,isDragging:oe,isSorting:ee,id:u,index:B,items:y,newIndex:ce.current.newIndex,previousItems:ce.current.items,previousContainerId:ce.current.containerId,transition:p,wasDragging:ce.current.activeId!=null}),xn=AD({disabled:!dt,index:B,node:R,rect:C});return S.useEffect(()=>{ee&&ce.current.newIndex!==tt&&(ce.current.newIndex=tt),v!==ce.current.containerId&&(ce.current.containerId=v),y!==ce.current.items&&(ce.current.items=y)},[ee,tt,v,y]),S.useEffect(()=>{if(ue===ce.current.activeId)return;if(ue!=null&&ce.current.activeId==null){ce.current.activeId=ue;return}const or=setTimeout(()=>{ce.current.activeId=ue},50);return()=>clearTimeout(or)},[ue]),{active:D,activeIndex:T,attributes:be,data:J,rect:C,index:B,newIndex:tt,items:y,isOver:N,isSorting:ee,isDragging:oe,listeners:X,node:R,overIndex:L,over:he,setNodeRef:z,setActivatorNodeRef:Se,setDroppableNodeRef:P,setDraggableNodeRef:Ge,transform:xn??Pe,transition:Lt()};function Lt(){if(xn||Ke&&ce.current.newIndex===B)return SD;if(!(de&&!Xd(U)||!p)&&(ee||dt))return Gs.Transition.toString({...p,property:nT})}}function RD(n,e){var t,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(i=n?.droppable)!=null?i:e.droppable}}et.Down,et.Right,et.Up,et.Left;const ID=({item:n,onAddToCart:e})=>{const{t,i18n:i}=Cr(),[a,l]=S.useState(!1),[u,d]=S.useState(!1),{attributes:m,listeners:p,setNodeRef:y,transform:v,transition:T,isDragging:x}=CD({id:n.id}),M={...{transform:Gs.Transform.toString(v),transition:T},WebkitUserSelect:"none",userSelect:"none"},L=B=>({pizza:"",burger:"",pasta:"",salad:"",drink:"",dessert:"",cafe:"",sandwich:""})[B]||"",H=B=>({pizza:"https://images.unsplash.com/photo-1513104890138-7c749659a591?w=300&h=200&fit=crop",burger:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=300&h=200&fit=crop",pasta:"https://images.unsplash.com/photo-1551892374-ecf8754cf8b0?w=300&h=200&fit=crop",salad:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=300&h=200&fit=crop",drink:"https://images.unsplash.com/photo-1544145945-f90425340c7e?w=300&h=200&fit=crop",dessert:"https://images.unsplash.com/photo-1551024506-0bccd828d307?w=300&h=200&fit=crop",cafe:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=300&h=200&fit=crop",sandwich:"https://images.unsplash.com/photo-1481070414801-51fd732d7184?w=300&h=200&fit=crop"})[B]||"https://via.placeholder.com/300x200?text=No+Image",V=()=>{l(!0),d(!1)},F=()=>{d(!0),l(!1)};return w.jsxs("div",{ref:y,style:M,...m,...p,className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden transform transition-all duration-200 cursor-grab active:cursor-grabbing w-full max-w-sm mx-auto ${x?"opacity-50 scale-105 shadow-2xl z-50":"hover:shadow-xl hover:scale-[1.02]"}`,children:[w.jsxs("div",{className:"relative aspect-auto overflow-hidden bg-gray-100 dark:bg-gray-700",children:[n.image&&!u?w.jsxs(w.Fragment,{children:[w.jsx("img",{src:n.image,alt:i.language==="fa"?n.name.fa:n.name.en,className:`w-full h-full object-contain pointer-events-none transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,draggable:!1,onLoad:V,onError:B=>{const J=B.target;J&&J.src!==H(n.category)?J.src=H(n.category):F()}}),!a&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 dark:bg-gray-600",children:w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]}):w.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 dark:bg-gray-600",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-4xl mb-2",children:L(n.category)}),w.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm font-vazir",children:t("menu.noImage")})]})}),w.jsxs("div",{className:"absolute top-3 right-3 bg-primary text-white px-3 py-1 rounded-full font-bold text-sm shadow-lg font-vazir",children:[i.language==="fa"?n.price.toLocaleString("fa-IR"):n.price.toLocaleString("en-US")," ",t("menu.toman")]})]}),w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2 font-vazir",children:i.language==="fa"?n.name.fa:n.name.en}),w.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-2 font-vazir",children:i.language==="fa"?n.description.fa:n.description.en}),w.jsx("button",{onPointerDown:B=>B.stopPropagation(),onTouchStart:B=>B.stopPropagation(),onClick:B=>{B.stopPropagation(),e(n)},className:"w-full bg-gradient-to-r from-primary to-secondary text-white font-bold py-3 rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 active:scale-95 cursor-pointer font-vazir",children:t("menu.addToCart")})]})]})};const ND=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),l1=n=>{const e=DD(n);return e.charAt(0).toUpperCase()+e.slice(1)},rT=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),kD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var OD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const MD=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...d},m)=>S.createElement("svg",{ref:m,...OD,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:rT("lucide",a),...!l&&!kD(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,y])=>S.createElement(p,y)),...Array.isArray(l)?l:[l]]));const ft=(n,e)=>{const t=S.forwardRef(({className:i,...a},l)=>S.createElement(MD,{ref:l,iconNode:e,className:rT(`lucide-${ND(l1(n))}`,`lucide-${n}`,i),...a}));return t.displayName=l1(n),t};const LD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],PD=ft("arrow-left",LD);const VD=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],jD=ft("cake",VD);const UD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zD=ft("circle-check-big",UD);const BD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],c1=ft("clock",BD);const qD=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],FD=ft("coffee",qD);const HD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$D=ft("eye-off",HD);const GD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KD=ft("eye",GD);const YD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],QD=ft("house",YD);const XD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],WD=ft("lock",XD);const JD=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],u1=ft("log-in",JD);const ZD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],f1=ft("log-out",ZD);const ek=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],d1=ft("mail",ek);const tk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nk=ft("menu",tk);const rk=[["path",{d:"M5 12h14",key:"1ays0h"}]],iT=ft("minus",rk);const ik=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qc=ft("package",ik);const sk=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],ak=ft("pizza",sk);const ok=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sT=ft("plus",ok);const lk=[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]],ck=ft("salad",lk);const uk=[["path",{d:"m2.37 11.223 8.372-6.777a2 2 0 0 1 2.516 0l8.371 6.777",key:"f1wd0e"}],["path",{d:"M21 15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-5.25",key:"1pfu07"}],["path",{d:"M3 15a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9",key:"1oq9qw"}],["path",{d:"m6.67 15 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2",key:"1fnwu5"}],["rect",{width:"20",height:"4",x:"2",y:"11",rx:"1",key:"itshg"}]],h1=ft("sandwich",uk);const fk=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ap=ft("shopping-bag",fk);const dk=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],hk=ft("shopping-basket",dk);const mk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],m1=ft("shopping-cart",mk);const gk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],aT=ft("trash-2",gk);const pk=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],yk=ft("truck",pk);const vk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Go=ft("user",vk);const _k=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],bk=ft("utensils-crossed",_k);const Ek=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],wk=ft("wine",Ek);const Tk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],au=ft("x",Tk),Sk=({items:n,onRemoveItem:e,onUpdateQuantity:t,onCheckout:i})=>{const{t:a,i18n:l}=Cr(),{setNodeRef:u,isOver:d}=Jw({id:"cart-droppable"}),m=n.reduce((y,v)=>y+v.price*v.quantity,0),p=n.reduce((y,v)=>y+v.quantity,0);return w.jsxs("div",{ref:u,className:`bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 sticky top-6 transition-all duration-300 prevent-scroll select-none touch-callout-none ${d?"ring-4 ring-primary ring-opacity-50 scale-105":""}`,children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2 font-vazir",children:[w.jsx(m1,{className:"w-8 h-8 text-primary"}),a("cart.title")]}),w.jsxs("span",{className:"bg-primary text-white px-3 py-1 rounded-full text-sm font-bold font-vazir",children:[p," ",a("cart.items")]})]}),n.length===0?w.jsxs("div",{className:"text-center py-12",children:[w.jsx(m1,{className:"w-24 h-24 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),w.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-lg font-vazir",children:a("cart.empty")}),w.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-2 font-vazir",children:a("cart.emptyDescription")})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6 pr-2",children:n.map(y=>w.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-white dark:from-gray-700 dark:to-gray-800 rounded-xl p-4 shadow-md hover:shadow-lg transition-all touch-manipulation",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("img",{src:y.image,alt:l.language==="fa"?y.name.fa:y.name.en,className:"w-14 h-14 rounded-lg object-cover",draggable:!1,onError:v=>{const T=v.target;T.src="https://via.placeholder.com/300x200?text=No+Image"}}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h4",{className:"font-bold text-gray-800 dark:text-white font-vazir",children:l.language==="fa"?y.name.fa:y.name.en}),w.jsxs("p",{className:"text-primary font-bold text-sm font-vazir",children:[l.language==="fa"?y.price.toLocaleString("fa-IR"):y.price.toLocaleString("en-US")," ",a("menu.toman")]})]})]}),w.jsxs("div",{className:"flex items-center justify-between mt-3",children:[w.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-600 rounded-lg shadow p-1",children:[w.jsx("button",{onClick:()=>t(y.id,y.quantity+1),className:"w-8 h-8 bg-primary text-white rounded-lg font-bold hover:bg-opacity-80 active:scale-95 transition-all flex items-center justify-center",children:w.jsx(sT,{className:"w-4 h-4"})}),w.jsx("span",{className:"w-8 text-center font-bold text-gray-800 dark:text-white font-vazir",children:y.quantity}),w.jsx("button",{onClick:()=>{y.quantity>1?t(y.id,y.quantity-1):e(y.id)},className:"w-8 h-8 bg-gray-200 text-gray-700 rounded-lg font-bold hover:bg-gray-300 active:scale-95 transition-all flex items-center justify-center",children:w.jsx(iT,{className:"w-4 h-4"})})]}),w.jsx("button",{onClick:()=>e(y.id),className:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg transition-all active:scale-95",children:w.jsx(aT,{className:"w-5 h-5"})})]})]},y.id))}),w.jsxs("div",{className:"border-t pt-4 space-y-3",children:[w.jsxs("div",{className:"flex justify-between items-center text-lg",children:[w.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-vazir",children:a("cart.total")}),w.jsxs("span",{className:"font-bold text-2xl text-primary font-vazir",children:[l.language==="fa"?m.toLocaleString("fa-IR"):m.toLocaleString("en-US")," ",a("menu.toman")]})]}),w.jsx("button",{onClick:i,className:"w-full bg-gradient-to-r from-success to-green-600 text-white font-bold py-4 rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 active:scale-95 font-vazir",children:a("cart.checkout")})]})]})]})},xk={pizza:w.jsx(ak,{className:"w-5 h-5"}),burger:w.jsx(h1,{className:"w-5 h-5"}),pasta:w.jsx(bk,{className:"w-5 h-5"}),salad:w.jsx(ck,{className:"w-5 h-5"}),drink:w.jsx(wk,{className:"w-5 h-5"}),dessert:w.jsx(jD,{className:"w-5 h-5"}),cafe:w.jsx(FD,{className:"w-5 h-5"}),sandwich:w.jsx(h1,{className:"w-5 h-5"})},Ak=["all","pizza","burger","pasta","salad","drink","dessert","cafe","sandwich"],oT=({activeCategory:n,onCategoryChange:e})=>{const{t}=Cr();return w.jsx("div",{className:"mb-8",children:w.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-2 pb-2",children:Ak.map(i=>{const a=n===i;return w.jsxs("button",{onClick:()=>e(i),className:`
                flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap
                transition-all duration-200 font-medium min-w-fit
                ${a?"bg-primary text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:text-gray-800 dark:hover:text-white"}
              `,children:[i!=="all"&&xk[i],w.jsx("span",{className:"text-sm font-vazir",children:t(`categories.${i}`)})]},i)})})})},Ck=({items:n,onRemoveItem:e,onUpdateQuantity:t,onCheckout:i,onBack:a,activeCategory:l="all",onCategoryChange:u})=>{const{t:d,i18n:m}=Cr(),p=n.reduce((y,v)=>y+v.price*v.quantity,0);return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[w.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-10",children:w.jsxs("div",{className:"flex items-center justify-between p-4",children:[w.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors",children:[w.jsx(PD,{className:"w-5 h-5"}),w.jsx("span",{className:"font-vazir",children:d("common.back")})]}),w.jsxs("h1",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2 font-vazir",children:[w.jsx(ap,{className:"w-6 h-6 text-primary"}),d("cart.title")]}),w.jsx("div",{className:"w-16"})," "]})}),u&&w.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4",children:w.jsx(oT,{activeCategory:l,onCategoryChange:u})})}),w.jsx("div",{className:"p-4",children:n.length===0?w.jsxs("div",{className:"text-center py-16",children:[w.jsx(ap,{className:"w-24 h-24 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),w.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-lg font-vazir",children:d("cart.empty")}),w.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-2 font-vazir",children:d("cart.emptyDescription")})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"space-y-4 mb-6",children:n.map(y=>w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-md",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("img",{src:y.image,alt:m.language==="fa"?y.name.fa:y.name.en,className:"w-16 h-16 rounded-lg object-cover",draggable:!1,onError:v=>{const T=v.target;T.src="https://via.placeholder.com/300x200?text=No+Image"}}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h4",{className:"font-bold text-gray-800 dark:text-white font-vazir text-lg",children:m.language==="fa"?y.name.fa:y.name.en}),w.jsxs("p",{className:"text-primary font-bold text-sm font-vazir",children:[m.language==="fa"?y.price.toLocaleString("fa-IR"):y.price.toLocaleString("en-US")," ",d("menu.toman")]})]})]}),w.jsxs("div",{className:"flex items-center justify-between mt-4",children:[w.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 rounded-lg shadow p-1",children:[w.jsx("button",{onClick:()=>t(y.id,y.quantity+1),className:"w-10 h-10 bg-primary text-white rounded-lg font-bold hover:bg-opacity-80 active:scale-95 transition-all flex items-center justify-center",children:w.jsx(sT,{className:"w-4 h-4"})}),w.jsx("span",{className:"w-10 text-center font-bold text-gray-800 dark:text-white font-vazir",children:y.quantity}),w.jsx("button",{onClick:()=>{y.quantity>1?t(y.id,y.quantity-1):e(y.id)},className:"w-10 h-10 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-bold hover:bg-gray-300 dark:hover:bg-gray-500 active:scale-95 transition-all flex items-center justify-center",children:w.jsx(iT,{className:"w-4 h-4"})})]}),w.jsx("button",{onClick:()=>e(y.id),className:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all active:scale-95",children:w.jsx(aT,{className:"w-5 h-5"})})]})]},y.id))}),w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg sticky bottom-4",children:[w.jsxs("div",{className:"flex justify-between items-center text-lg mb-4",children:[w.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-vazir",children:d("cart.total")}),w.jsxs("span",{className:"font-bold text-2xl text-primary font-vazir",children:[m.language==="fa"?p.toLocaleString("fa-IR"):p.toLocaleString("en-US")," ",d("menu.toman")]})]}),w.jsx("button",{onClick:i,className:"w-full bg-gradient-to-r from-success to-green-600 text-white font-bold py-4 rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 active:scale-95 font-vazir",children:d("cart.checkout")})]})]})})]})};function Rk({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Ik=S.forwardRef(Rk);function Nk({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Dk=S.forwardRef(Nk);function kk({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Ok=S.forwardRef(kk);function Mk({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Pg=S.forwardRef(Mk);function Lk({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Vg=S.forwardRef(Lk);function Pk({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Vk=S.forwardRef(Pk);function jk({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Uk=S.forwardRef(jk);function zk({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Bk=S.forwardRef(zk);function qk({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Fk=S.forwardRef(qk);function Hk({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const $k=S.forwardRef(Hk),g1=({className:n=""})=>{const{i18n:e}=Cr(),[t,i]=S.useState(!1),a=[{code:"fa",name:"",flag:""},{code:"en",name:"English",flag:""}],l=a.find(d=>d.code===e.language)||a[0],u=d=>{e.changeLanguage(d),i(!1)};return w.jsxs("div",{className:`relative ${n}`,children:[w.jsxs("button",{onClick:()=>i(!t),className:"flex items-center gap-1.5 px-2 py-1.5 rounded-lg bg-surface hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-vazir",children:[w.jsx("span",{className:"text-base",children:l.flag}),w.jsx("span",{className:"text-sm font-medium",children:l.code.toUpperCase()}),w.jsx(Dk,{className:`w-3.5 h-3.5 transition-transform ${t?"rotate-180":""}`})]}),t&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),w.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-20",children:a.map(d=>w.jsxs("button",{onClick:()=>u(d.code),className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-vazir ${e.language===d.code?"bg-primary text-white hover:bg-primary-dark":""}`,children:[w.jsx("span",{children:d.flag}),w.jsx("span",{children:d.name})]},d.code))})]})]})},lT=S.createContext(void 0),Gk=()=>{const n=S.useContext(lT);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},Kk=({children:n})=>{const[e,t]=S.useState(()=>localStorage.getItem("theme")||"light");S.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{t(a=>a==="light"?"dark":"light")};return w.jsx(lT.Provider,{value:{theme:e,toggleTheme:i},children:n})},p1=({className:n=""})=>{const{theme:e,toggleTheme:t}=Gk();return w.jsx("button",{onClick:t,className:`flex items-center justify-center px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors ${n}`,"aria-label":"Toggle theme",children:e==="light"?w.jsx(Bk,{className:"w-4 h-4"}):w.jsx(Fk,{className:"w-4 h-4"})})},Yk=({isLoggedIn:n,userName:e,onLoginClick:t,onLogout:i,onOrdersClick:a,onProfileClick:l,cartItemCount:u=0,onCartClick:d,onMenuClick:m,onHomeClick:p})=>{const{t:y}=Cr(),[v,T]=S.useState(!1),x=()=>{T(!v)},O=()=>{T(!1)};return w.jsxs(w.Fragment,{children:[w.jsx("nav",{className:"bg-white dark:bg-gray-800 p-2 md:p-3 shadow-md mb-6 border-b border-gray-200 dark:border-gray-700",children:w.jsx("div",{className:"w-full px-2 sm:px-4 py-2",children:w.jsxs("div",{className:"flex items-center justify-between gap-2",children:[w.jsx("div",{className:"flex items-center",children:w.jsx("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent font-vazir cursor-pointer hover:opacity-80 transition-opacity",onClick:p,children:y("app.title")})}),w.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[d&&w.jsxs("button",{onClick:d,className:"relative lg:hidden flex items-center px-2 py-1.5 rounded-lg bg-primary text-white hover:bg-secondary transition-colors font-vazir text-sm",children:[w.jsx(hk,{className:"w-4 h-4"}),u>0&&w.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center font-bold",children:u})]})," ",m&&w.jsx("button",{onClick:x,className:"lg:hidden flex items-center px-2 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:w.jsx(nk,{className:"w-4 h-4"})}),w.jsx("div",{className:"hidden sm:block",children:w.jsx(p1,{})}),w.jsx("div",{className:"hidden sm:block",children:w.jsx(g1,{})}),n?w.jsxs("div",{className:"flex items-center gap-1.5",children:[w.jsxs("button",{onClick:a,className:"hidden sm:flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg bg-primary text-white hover:bg-secondary transition-colors font-vazir text-sm",children:[w.jsx(qc,{className:"w-4 h-4"}),w.jsx("span",{className:"hidden md:inline",children:y("nav.orders")})]}),w.jsxs("button",{onClick:l,className:"hidden sm:flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[w.jsx(Go,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}),w.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 font-vazir hidden md:inline",children:e})]}),w.jsxs("button",{onClick:i,className:"hidden sm:flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors font-vazir text-sm",children:[w.jsx(f1,{className:"w-4 h-4"}),w.jsx("span",{className:"hidden md:inline",children:y("nav.logout")})]})]}):w.jsxs("button",{onClick:t,className:"hidden sm:flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-primary text-white hover:bg-secondary transition-colors font-vazir text-sm",children:[w.jsx(u1,{className:"w-4 h-4"}),w.jsx("span",{className:"hidden sm:inline",children:y("nav.login")})]})]})]})})}),w.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${v?"block":"hidden"}`,children:[w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity duration-300",onClick:O}),w.jsx("div",{className:`fixed left-0 top-0 h-full w-80 max-w-[85vw] bg-white dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out ${v?"translate-x-0":"-translate-x-full"}`,children:w.jsxs("div",{className:"flex flex-col h-full",children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[w.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white font-vazir",children:y("app.title")}),w.jsxs("div",{className:"flex items-center gap-2",children:[n&&w.jsx("button",{onClick:()=>{i(),O()},className:"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-red-600 dark:text-red-400",children:w.jsx(f1,{className:"w-5 h-5"})}),w.jsx("button",{onClick:O,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:w.jsx(au,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 font-vazir",children:y("nav.theme")}),w.jsx(p1,{})]}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 font-vazir",children:y("nav.language")}),w.jsx(g1,{})]}),n?w.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[w.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[w.jsx(Go,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),w.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 font-vazir",children:e})]}),w.jsxs("button",{onClick:()=>{a(),O()},className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[w.jsx(qc,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),w.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 font-vazir",children:y("nav.orders")})]}),w.jsxs("button",{onClick:()=>{l?.(),O()},className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[w.jsx(Go,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),w.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 font-vazir",children:y("nav.profile")})]})]}):w.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:w.jsxs("button",{onClick:()=>{t(),O()},className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg bg-primary text-white hover:bg-secondary transition-colors",children:[w.jsx(u1,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-medium font-vazir",children:y("nav.login")})]})})]})]})})]})]})},Qk=({isOpen:n,onClose:e,isLoggedIn:t,userName:i,onLoginClick:a,onLogout:l,onOrdersClick:u,onProfileClick:d,onHomeClick:m,onCartClick:p,cartItemCount:y})=>{const{t:v}=Cr();return n?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:e}),w.jsxs("div",{className:"fixed top-0 left-0 h-full w-64 bg-white dark:bg-gray-800 shadow-xl z-50 transform transition-transform duration-300 lg:hidden",children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[w.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white font-vazir",children:v("app.title")}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:w.jsx(au,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"p-4 space-y-2",children:[w.jsxs("button",{onClick:()=>{m(),e()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[w.jsx(QD,{className:"w-5 h-5"}),w.jsx("span",{className:"font-vazir",children:v("nav.home")})]}),w.jsxs("button",{onClick:()=>{p(),e()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[w.jsxs("div",{className:"relative",children:[w.jsx(ap,{className:"w-5 h-5"}),y>0&&w.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:y})]}),w.jsx("span",{className:"font-vazir",children:v("cart.title")})]}),t&&w.jsxs("button",{onClick:()=>{u(),e()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[w.jsx(qc,{className:"w-5 h-5"}),w.jsx("span",{className:"font-vazir",children:v("orders.title")})]}),t&&w.jsxs("button",{onClick:()=>{d(),e()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[w.jsx(Go,{className:"w-5 h-5"}),w.jsx("span",{className:"font-vazir",children:v("nav.profile")})]}),w.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-2 mt-4",children:t?w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-center gap-3 px-4 py-2",children:[w.jsx(Go,{className:"w-5 h-5 text-gray-400"}),w.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-vazir",children:i})]}),w.jsx("button",{onClick:()=>{l(),e()},className:"w-full flex items-center gap-3 px-4 py-3 text-left text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:w.jsx("span",{className:"font-vazir",children:v("auth.logout")})})]}):w.jsx("button",{onClick:()=>{a(),e()},className:"w-full flex items-center gap-3 px-4 py-3 text-left bg-primary text-white hover:bg-secondary rounded-lg transition-colors",children:w.jsx("span",{className:"font-vazir",children:v("auth.login")})})})]})]})]}):null};function cT(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=cT(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Oa(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=cT(n))&&(i&&(i+=" "),i+=e);return i}function Xk(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Xk(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ou=n=>typeof n=="number"&&!isNaN(n),Pa=n=>typeof n=="string",$i=n=>typeof n=="function",Wk=n=>Pa(n)||ou(n),op=n=>Pa(n)||$i(n)?n:null,Jk=(n,e)=>n===!1||ou(n)&&n>0?n:e,lp=n=>S.isValidElement(n)||Pa(n)||$i(n)||ou(n);function Zk(n,e,t=300){let{scrollHeight:i,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function eO({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:l,position:u,preventExitTransition:d,done:m,nodeRef:p,isIn:y,playToast:v}){let T=t?`${n}--${u}`:n,x=t?`${e}--${u}`:e,O=S.useRef(0);return S.useLayoutEffect(()=>{let M=p.current,L=T.split(" "),H=V=>{V.target===p.current&&(v(),M.removeEventListener("animationend",H),M.removeEventListener("animationcancel",H),O.current===0&&V.type!=="animationcancel"&&M.classList.remove(...L))};M.classList.add(...L),M.addEventListener("animationend",H),M.addEventListener("animationcancel",H)},[]),S.useEffect(()=>{let M=p.current,L=()=>{M.removeEventListener("animationend",L),i?Zk(M,m,a):m()};y||(d?L():(O.current=1,M.className+=` ${x}`,M.addEventListener("animationend",L)))},[y]),xe.createElement(xe.Fragment,null,l)}}function y1(n,e){return{content:uT(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function uT(n,e,t=!1){return S.isValidElement(n)&&!Pa(n.type)?S.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):$i(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function tO({closeToast:n,theme:e,ariaLabel:t="close"}){return xe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},xe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},xe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nO({delay:n,isRunning:e,closeToast:t,type:i="default",hide:a,className:l,controlledProgress:u,progress:d,rtl:m,isIn:p,theme:y}){let v=a||u&&d===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(T.transform=`scaleX(${d})`);let x=Oa("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":m}),O=$i(l)?l({rtl:m,type:i,defaultClassName:x}):Oa(x,l),M={[u&&d>=1?"onTransitionEnd":"onAnimationEnd"]:u&&d<1?null:()=>{p&&t()}};return xe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},xe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),xe.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:O,style:T,...M}))}var rO=1,fT=()=>`${rO++}`;function iO(n,e,t){let i=1,a=0,l=[],u=[],d=e,m=new Map,p=new Set,y=V=>(p.add(V),()=>p.delete(V)),v=()=>{u=Array.from(m.values()),p.forEach(V=>V())},T=({containerId:V,toastId:F,updateId:B})=>{let J=V?V!==n:n!==1,ae=m.has(F)&&B==null;return J||ae},x=(V,F)=>{m.forEach(B=>{var J;(F==null||F===B.props.toastId)&&((J=B.toggle)==null||J.call(B,V))})},O=V=>{var F,B;(B=(F=V.props)==null?void 0:F.onClose)==null||B.call(F,V.removalReason),V.isActive=!1},M=V=>{if(V==null)m.forEach(O);else{let F=m.get(V);F&&O(F)}v()},L=()=>{a-=l.length,l=[]},H=V=>{var F,B;let{toastId:J,updateId:ae}=V.props,C=ae==null;V.staleId&&m.delete(V.staleId),V.isActive=!0,m.set(J,V),v(),t(y1(V,C?"added":"updated")),C&&((B=(F=V.props).onOpen)==null||B.call(F))};return{id:n,props:d,observe:y,toggle:x,removeToast:M,toasts:m,clearQueue:L,buildToast:(V,F)=>{if(T(F))return;let{toastId:B,updateId:J,data:ae,staleId:C,delay:R}=F,N=J==null;N&&a++;let P={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(F).filter(([U,k])=>k!=null)),toastId:B,updateId:J,data:ae,isIn:!1,className:op(F.className||d.toastClassName),progressClassName:op(F.progressClassName||d.progressClassName),autoClose:F.isLoading?!1:Jk(F.autoClose,d.autoClose),closeToast(U){m.get(B).removalReason=U,M(B)},deleteToast(){let U=m.get(B);if(U!=null){if(t(y1(U,"removed")),m.delete(B),a--,a<0&&(a=0),l.length>0){H(l.shift());return}v()}}};P.closeButton=d.closeButton,F.closeButton===!1||lp(F.closeButton)?P.closeButton=F.closeButton:F.closeButton===!0&&(P.closeButton=lp(d.closeButton)?d.closeButton:!0);let D={content:V,props:P,staleId:C};d.limit&&d.limit>0&&a>d.limit&&N?l.push(D):ou(R)?setTimeout(()=>{H(D)},R):H(D)},setProps(V){d=V},setToggle:(V,F)=>{let B=m.get(V);B&&(B.toggle=F)},isToastActive:V=>{var F;return(F=m.get(V))==null?void 0:F.isActive},getSnapshot:()=>u}}var kn=new Map,Fc=[],cp=new Set,sO=n=>cp.forEach(e=>e(n)),dT=()=>kn.size>0;function aO(){Fc.forEach(n=>mT(n.content,n.options)),Fc=[]}var oO=(n,{containerId:e})=>{var t;return(t=kn.get(e||1))==null?void 0:t.toasts.get(n)};function hT(n,e){var t;if(e)return!!((t=kn.get(e))!=null&&t.isToastActive(n));let i=!1;return kn.forEach(a=>{a.isToastActive(n)&&(i=!0)}),i}function lO(n){if(!dT()){Fc=Fc.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||Wk(n))kn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=kn.get(n.containerId);e?e.removeToast(n.id):kn.forEach(t=>{t.removeToast(n.id)})}}var cO=(n={})=>{kn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function mT(n,e){lp(n)&&(dT()||Fc.push({content:n,options:e}),kn.forEach(t=>{t.buildToast(n,e)}))}function uO(n){var e;(e=kn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function gT(n,e){kn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function fO(n){let e=n.containerId||1;return{subscribe(t){let i=iO(e,n,sO);kn.set(e,i);let a=i.observe(t);return aO(),()=>{a(),kn.delete(e)}},setProps(t){var i;(i=kn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=kn.get(e))==null?void 0:t.getSnapshot()}}}function dO(n){return cp.add(n),()=>{cp.delete(n)}}function hO(n){return n&&(Pa(n.toastId)||ou(n.toastId))?n.toastId:fT()}function lu(n,e){return mT(n,e),e.toastId}function Zd(n,e){return{...e,type:e&&e.type||n,toastId:hO(e)}}function eh(n){return(e,t)=>lu(e,Zd(n,t))}function _e(n,e){return lu(n,Zd("default",e))}_e.loading=(n,e)=>lu(n,Zd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function mO(n,{pending:e,error:t,success:i},a){let l;e&&(l=Pa(e)?_e.loading(e,a):_e.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,y,v)=>{if(y==null){_e.dismiss(l);return}let T={type:p,...u,...a,data:v},x=Pa(y)?{render:y}:y;return l?_e.update(l,{...T,...x}):_e(x.render,{...T,...x}),v},m=$i(n)?n():n;return m.then(p=>d("success",i,p)).catch(p=>d("error",t,p)),m}_e.promise=mO;_e.success=eh("success");_e.info=eh("info");_e.error=eh("error");_e.warning=eh("warning");_e.warn=_e.warning;_e.dark=(n,e)=>lu(n,Zd("default",{theme:"dark",...e}));function gO(n){lO(n)}_e.dismiss=gO;_e.clearWaitingQueue=cO;_e.isActive=hT;_e.update=(n,e={})=>{let t=oO(n,e);if(t){let{props:i,content:a}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:fT()};l.toastId!==n&&(l.staleId=n);let u=l.render||a;delete l.render,lu(u,l)}};_e.done=n=>{_e.update(n,{progress:1})};_e.onChange=dO;_e.play=n=>gT(!0,n);_e.pause=n=>gT(!1,n);function pO(n){var e;let{subscribe:t,getSnapshot:i,setProps:a}=S.useRef(fO(n)).current;a(n);let l=(e=S.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(d){if(!l)return[];let m=new Map;return n.newestOnTop&&l.reverse(),l.forEach(p=>{let{position:y}=p.props;m.has(y)||m.set(y,[]),m.get(y).push(p)}),Array.from(m,p=>d(p[0],p[1]))}return{getToastToRender:u,isToastActive:hT,count:l?.length}}function yO(n){let[e,t]=S.useState(!1),[i,a]=S.useState(!1),l=S.useRef(null),u=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:p,onClick:y,closeOnClick:v}=n;uO({id:n.toastId,containerId:n.containerId,fn:t}),S.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{x()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||H(),window.addEventListener("focus",L),window.addEventListener("blur",H)}function x(){window.removeEventListener("focus",L),window.removeEventListener("blur",H)}function O(C){if(n.draggable===!0||n.draggable===C.pointerType){V();let R=l.current;u.canCloseOnClick=!0,u.canDrag=!0,R.style.transition="none",n.draggableDirection==="x"?(u.start=C.clientX,u.removalDistance=R.offsetWidth*(n.draggablePercent/100)):(u.start=C.clientY,u.removalDistance=R.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function M(C){let{top:R,bottom:N,left:P,right:D}=l.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&n.pauseOnHover&&C.clientX>=P&&C.clientX<=D&&C.clientY>=R&&C.clientY<=N?H():L()}function L(){t(!0)}function H(){t(!1)}function V(){u.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",J)}function F(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",J)}function B(C){let R=l.current;if(u.canDrag&&R){u.didMove=!0,e&&H(),n.draggableDirection==="x"?u.delta=C.clientX-u.start:u.delta=C.clientY-u.start,u.start!==C.clientX&&(u.canCloseOnClick=!1);let N=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;R.style.transform=`translate3d(${N},0)`,R.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function J(){F();let C=l.current;if(u.canDrag&&u.didMove&&C){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let ae={onPointerDown:O,onPointerUp:M};return d&&m&&(ae.onMouseEnter=H,n.stacked||(ae.onMouseLeave=L)),v&&(ae.onClick=C=>{y&&y(C),u.canCloseOnClick&&p(!0)}),{playToast:L,pauseToast:H,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:ae}}var vO=typeof window<"u"?S.useLayoutEffect:S.useEffect,th=({theme:n,type:e,isLoading:t,...i})=>xe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function _O(n){return xe.createElement(th,{...n},xe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function bO(n){return xe.createElement(th,{...n},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function EO(n){return xe.createElement(th,{...n},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function wO(n){return xe.createElement(th,{...n},xe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function TO(){return xe.createElement("div",{className:"Toastify__spinner"})}var up={info:bO,warning:_O,success:EO,error:wO,spinner:TO},SO=n=>n in up;function xO({theme:n,type:e,isLoading:t,icon:i}){let a=null,l={theme:n,type:e};return i===!1||($i(i)?a=i({...l,isLoading:t}):S.isValidElement(i)?a=S.cloneElement(i,l):t?a=up.spinner():SO(e)&&(a=up[e](l))),a}var AO=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:a,playToast:l}=yO(n),{closeButton:u,children:d,autoClose:m,onClick:p,type:y,hideProgressBar:v,closeToast:T,transition:x,position:O,className:M,style:L,progressClassName:H,updateId:V,role:F,progress:B,rtl:J,toastId:ae,deleteToast:C,isIn:R,isLoading:N,closeOnClick:P,theme:D,ariaLabel:U}=n,k=Oa("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":J},{"Toastify__toast--close-on-click":P}),be=$i(M)?M({rtl:J,position:O,type:y,defaultClassName:k}):Oa(k,M),Ge=xO(n),X=!!B||!m,oe={closeToast:T,type:y,theme:D},he=null;return u===!1||($i(u)?he=u(oe):S.isValidElement(u)?he=S.cloneElement(u,oe):he=tO(oe)),xe.createElement(x,{isIn:R,done:C,position:O,preventExitTransition:t,nodeRef:i,playToast:l},xe.createElement("div",{id:ae,tabIndex:0,onClick:p,"data-in":R,className:be,...a,style:L,ref:i,...R&&{role:F,"aria-label":U}},Ge!=null&&xe.createElement("div",{className:Oa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},Ge),uT(d,n,!e),he,!n.customProgressBar&&xe.createElement(nO,{...V&&!X?{key:`p-${V}`}:{},rtl:J,theme:D,delay:m,isRunning:e,isIn:R,closeToast:T,hide:v,type:y,className:H,controlledProgress:X,progress:B||0})))},CO=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),RO=eO(CO("bounce",!0)),IO={position:"top-right",transition:RO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function NO(n){let e={...IO,...n},t=n.stacked,[i,a]=S.useState(!0),l=S.useRef(null),{getToastToRender:u,isToastActive:d,count:m}=pO(e),{className:p,style:y,rtl:v,containerId:T,hotKeys:x}=e;function O(L){let H=Oa("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":v});return $i(p)?p({position:L,rtl:v,defaultClassName:H}):Oa(H,op(p))}function M(){t&&(a(!0),_e.play())}return vO(()=>{var L;if(t){let H=l.current.querySelectorAll('[data-in="true"]'),V=12,F=(L=e.position)==null?void 0:L.includes("top"),B=0,J=0;Array.from(H).reverse().forEach((ae,C)=>{let R=ae;R.classList.add("Toastify__toast--stacked"),C>0&&(R.dataset.collapsed=`${i}`),R.dataset.pos||(R.dataset.pos=F?"top":"bot");let N=B*(i?.2:1)+(i?0:V*C);R.style.setProperty("--y",`${F?N:N*-1}px`),R.style.setProperty("--g",`${V}`),R.style.setProperty("--s",`${1-(i?J:0)}`),B+=R.offsetHeight,J+=.025})}},[i,m,t]),S.useEffect(()=>{function L(H){var V;let F=l.current;x(H)&&((V=F.querySelector('[tabIndex="0"]'))==null||V.focus(),a(!1),_e.pause()),H.key==="Escape"&&(document.activeElement===F||F!=null&&F.contains(document.activeElement))&&(a(!0),_e.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[x]),xe.createElement("section",{ref:l,className:"Toastify",id:T,onMouseEnter:()=>{t&&(a(!1),_e.pause())},onMouseLeave:M,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((L,H)=>{let V=H.length?{...y}:{...y,pointerEvents:"none"};return xe.createElement("div",{tabIndex:-1,className:O(L),"data-stacked":t,style:V,key:`c-${L}`},H.map(({content:F,props:B})=>xe.createElement(AO,{...B,stacked:t,collapseAll:M,isIn:d(B.toastId,B.containerId),key:`t-${B.key}`},F)))}))}const DO=()=>{};var v1={};const pT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},kO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,d=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,v=(l&3)<<4|d>>4;let T=(d&15)<<2|p>>6,x=p&63;m||(x=64,u||(T=64)),i.push(t[y],t[v],t[T],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||v==null)throw new OO;const T=l<<2|d>>4;if(i.push(T),p!==64){const x=d<<4&240|p>>2;if(i.push(x),v!==64){const O=p<<6&192|v;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MO=function(n){const e=pT(n);return yT.encodeByteArray(e,!0)},Sd=function(n){return MO(n).replace(/\./g,"")},vT=function(n){try{return yT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function LO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PO=()=>LO().__FIREBASE_DEFAULTS__,VO=()=>{if(typeof process>"u"||typeof v1>"u")return;const n=v1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vT(n[1]);return e&&JSON.parse(e)},nh=()=>{try{return DO()||PO()||VO()||jO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_T=n=>nh()?.emulatorHosts?.[n],UO=n=>{const e=_T(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},bT=()=>nh()?.config,ET=n=>nh()?.[`_${n}`];class zO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function ul(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wT(n){return(await fetch(n,{credentials:"include"})).ok}function BO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Sd(JSON.stringify(t)),Sd(JSON.stringify(u)),""].join(".")}const kc={};function qO(){const n={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?n.emulator.push(e):n.prod.push(e);return n}function FO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let _1=!1;function TT(n,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||kc[n]===e||kc[n]||_1)return;kc[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=qO().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{_1=!0,u()},T}function y(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=FO(i),x=t("text"),O=document.getElementById(x)||document.createElement("span"),M=t("learnmore"),L=document.getElementById(M)||document.createElement("a"),H=t("preprendIcon"),V=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;d(F),y(L,M);const B=p();m(V,H),F.append(V,O,L,B),document.body.appendChild(F)}l?(O.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function $O(){const n=nh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QO(){const n=Sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function XO(){return!$O()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WO(){try{return typeof indexedDB=="object"}catch{return!1}}function JO(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const ZO="FirebaseError";class Wi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ZO,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?e4(l,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Wi(a,d,i)}}function e4(n,e){return n.replace(t4,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const t4=/\{\$([^}]+)}/g;function n4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Va(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],u=e[a];if(b1(l)&&b1(u)){if(!Va(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function b1(n){return n!==null&&typeof n=="object"}function uu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ec(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function wc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function r4(n,e){const t=new i4(n,e);return t.subscribe.bind(t)}class i4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");s4(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=jg),a.error===void 0&&(a.error=jg),a.complete===void 0&&(a.complete=jg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jg(){}function Kt(n){return n&&n._delegate?n._delegate:n}class ja{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Da="[DEFAULT]";class a4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new zO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l4(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:o4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o4(n){return n===Da?void 0:n}function l4(n){return n.instantiationMode==="EAGER"}class c4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const u4={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},f4=Fe.INFO,d4={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},h4=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=d4[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=f4,this._logHandler=h4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const m4=(n,e)=>e.some(t=>n instanceof t);let E1,w1;function g4(){return E1||(E1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p4(){return w1||(w1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,fp=new WeakMap,xT=new WeakMap,Ug=new WeakMap,Wp=new WeakMap;function y4(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Bs(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&ST.set(t,n)}).catch(()=>{}),Wp.set(e,n),e}function v4(n){if(fp.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});fp.set(n,e)}let dp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _4(n){dp=n(dp)}function b4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(zg(this),e,...t);return xT.set(i,e.sort?e.sort():[e]),Bs(i)}:p4().includes(n)?function(...e){return n.apply(zg(this),e),Bs(ST.get(this))}:function(...e){return Bs(n.apply(zg(this),e))}}function E4(n){return typeof n=="function"?b4(n):(n instanceof IDBTransaction&&v4(n),m4(n,g4())?new Proxy(n,dp):n)}function Bs(n){if(n instanceof IDBRequest)return y4(n);if(Ug.has(n))return Ug.get(n);const e=E4(n);return e!==n&&(Ug.set(n,e),Wp.set(e,n)),e}const zg=n=>Wp.get(n);function w4(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),d=Bs(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Bs(u.result),m.oldVersion,m.newVersion,Bs(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const T4=["get","getKey","getAll","getAllKeys","count"],S4=["put","add","delete","clear"],Bg=new Map;function T1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bg.get(e))return Bg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=S4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||T4.includes(t)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return Bg.set(e,l),l}_4(n=>({...n,get:(e,t,i)=>T1(e,t)||n.get(e,t,i),has:(e,t)=>!!T1(e,t)||n.has(e,t)}));class x4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(A4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function A4(n){return n.getComponent()?.type==="VERSION"}const hp="@firebase/app",S1="0.14.6";const Gi=new Xp("@firebase/app"),C4="@firebase/app-compat",R4="@firebase/analytics-compat",I4="@firebase/analytics",N4="@firebase/app-check-compat",D4="@firebase/app-check",k4="@firebase/auth",O4="@firebase/auth-compat",M4="@firebase/database",L4="@firebase/data-connect",P4="@firebase/database-compat",V4="@firebase/functions",j4="@firebase/functions-compat",U4="@firebase/installations",z4="@firebase/installations-compat",B4="@firebase/messaging",q4="@firebase/messaging-compat",F4="@firebase/performance",H4="@firebase/performance-compat",$4="@firebase/remote-config",G4="@firebase/remote-config-compat",K4="@firebase/storage",Y4="@firebase/storage-compat",Q4="@firebase/firestore",X4="@firebase/ai",W4="@firebase/firestore-compat",J4="firebase",Z4="12.6.0";const mp="[DEFAULT]",e3={[hp]:"fire-core",[C4]:"fire-core-compat",[I4]:"fire-analytics",[R4]:"fire-analytics-compat",[D4]:"fire-app-check",[N4]:"fire-app-check-compat",[k4]:"fire-auth",[O4]:"fire-auth-compat",[M4]:"fire-rtdb",[L4]:"fire-data-connect",[P4]:"fire-rtdb-compat",[V4]:"fire-fn",[j4]:"fire-fn-compat",[U4]:"fire-iid",[z4]:"fire-iid-compat",[B4]:"fire-fcm",[q4]:"fire-fcm-compat",[F4]:"fire-perf",[H4]:"fire-perf-compat",[$4]:"fire-rc",[G4]:"fire-rc-compat",[K4]:"fire-gcs",[Y4]:"fire-gcs-compat",[Q4]:"fire-fst",[W4]:"fire-fst-compat",[X4]:"fire-vertex","fire-js":"fire-js",[J4]:"fire-js-all"};const xd=new Map,t3=new Map,gp=new Map;function x1(n,e){try{n.container.addComponent(e)}catch(t){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jo(n){const e=n.name;if(gp.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,n);for(const t of xd.values())x1(t,n);for(const t of t3.values())x1(t,n);return!0}function Jp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tr(n){return n==null?!1:n.settings!==void 0}const n3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new cu("app","Firebase",n3);class r3{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const fl=Z4;function AT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:mp,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw qs.create("bad-app-name",{appName:String(a)});if(t||(t=bT()),!t)throw qs.create("no-options");const l=xd.get(a);if(l){if(Va(t,l.options)&&Va(i,l.config))return l;throw qs.create("duplicate-app",{appName:a})}const u=new c4(a);for(const m of gp.values())u.addComponent(m);const d=new r3(t,i,u);return xd.set(a,d),d}function CT(n=mp){const e=xd.get(n);if(!e&&n===mp&&bT())return AT();if(!e)throw qs.create("no-app",{appName:n});return e}function Fs(n,e,t){let i=e3[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(u.join(" "));return}Jo(new ja(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const i3="firebase-heartbeat-database",s3=1,Hc="firebase-heartbeat-store";let qg=null;function RT(){return qg||(qg=w4(i3,s3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw qs.create("idb-open",{originalErrorMessage:n.message})})),qg}async function a3(n){try{const t=(await RT()).transaction(Hc),i=await t.objectStore(Hc).get(IT(n));return await t.done,i}catch(e){if(e instanceof Wi)Gi.warn(e.message);else{const t=qs.create("idb-get",{originalErrorMessage:e?.message});Gi.warn(t.message)}}}async function A1(n,e){try{const i=(await RT()).transaction(Hc,"readwrite");await i.objectStore(Hc).put(e,IT(n)),await i.done}catch(t){if(t instanceof Wi)Gi.warn(t.message);else{const i=qs.create("idb-set",{originalErrorMessage:t?.message});Gi.warn(i.message)}}}function IT(n){return`${n.name}!${n.options.appId}`}const o3=1024,l3=30;class c3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new f3(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=C1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>l3){const a=d3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C1(),{heartbeatsToSend:t,unsentEntries:i}=u3(this._heartbeatsCache.heartbeats),a=Sd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Gi.warn(e),""}}}function C1(){return new Date().toISOString().substring(0,10)}function u3(n,e=o3){const t=[];let i=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),R1(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),R1(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class f3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WO()?JO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await a3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return A1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return A1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function R1(n){return Sd(JSON.stringify({version:2,heartbeats:n})).length}function d3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function h3(n){Jo(new ja("platform-logger",e=>new x4(e),"PRIVATE")),Jo(new ja("heartbeat",e=>new c3(e),"PRIVATE")),Fs(hp,S1,n),Fs(hp,S1,"esm2020"),Fs("fire-js","")}h3("");function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m3=NT,DT=new cu("auth","Firebase",NT());const Ad=new Xp("@firebase/auth");function g3(n,...e){Ad.logLevel<=Fe.WARN&&Ad.warn(`Auth (${fl}): ${n}`,...e)}function sd(n,...e){Ad.logLevel<=Fe.ERROR&&Ad.error(`Auth (${fl}): ${n}`,...e)}function Br(n,...e){throw Zp(n,...e)}function ui(n,...e){return Zp(n,...e)}function kT(n,e,t){const i={...m3(),[e]:t};return new cu("auth","Firebase",i).create(e,{appName:n.name})}function qi(n){return kT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return DT.create(n,...e)}function Ce(n,e,...t){if(!n)throw Zp(e,...t)}function Ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sd(e),new Error(e)}function Ki(n,e){n||Ui(e)}function pp(){return typeof self<"u"&&self.location?.href||""}function p3(){return I1()==="http:"||I1()==="https:"}function I1(){return typeof self<"u"&&self.location?.protocol||null}function y3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p3()||KO()||"connection"in navigator)?navigator.onLine:!0}function v3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class fu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ki(t>e,"Short delay should be less than long delay!"),this.isMobile=HO()||YO()}get(){return y3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ey(n,e){Ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class OT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const b3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E3=new fu(3e4,6e4);function Ji(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Hr(n,e,t,i,a={}){return MT(n,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=uu({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...l};return GO()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ul(n.emulatorConfig.host)&&(p.credentials="include"),OT.fetch()(await LT(n,n.config.apiHost,t,d),p)})}async function MT(n,e,t){n._canInitEmulator=!1;const i={..._3,...e};try{const a=new T3(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Qf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qf(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Qf(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Qf(n,"user-disabled",u);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw kT(n,y,p);Br(n,y)}}catch(a){if(a instanceof Wi)throw a;Br(n,"network-request-failed",{message:String(a)})}}async function du(n,e,t,i,a={}){const l=await Hr(n,e,t,i,a);return"mfaPendingCredential"in l&&Br(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function LT(n,e,t,i){const a=`${e}${t}?${i}`,l=n,u=l.config.emulator?ey(n.config,a):`${n.config.apiScheme}://${a}`;return b3.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function w3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class T3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ui(this.auth,"network-request-failed")),E3.get())})}}function Qf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ui(n,e,i);return a.customData._tokenResponse=t,a}function N1(n){return n!==void 0&&n.enterprise!==void 0}class S3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return w3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function x3(n,e){return Hr(n,"GET","/v2/recaptchaConfig",Ji(n,e))}async function A3(n,e){return Hr(n,"POST","/v1/accounts:delete",e)}async function Cd(n,e){return Hr(n,"POST","/v1/accounts:lookup",e)}function Oc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C3(n,e=!1){const t=Kt(n),i=await t.getIdToken(e),a=ty(i);Ce(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Oc(Fg(a.auth_time)),issuedAtTime:Oc(Fg(a.iat)),expirationTime:Oc(Fg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Fg(n){return Number(n)*1e3}function ty(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const a=vT(t);return a?JSON.parse(a):(sd("Failed to decode base64 JWT payload"),null)}catch(a){return sd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function D1(n){const e=ty(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ua(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Wi&&R3(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function R3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class I3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class yp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rd(n){const e=n.auth,t=await n.getIdToken(),i=await Ua(n,Cd(e,{idToken:t}));Ce(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?PT(a.providerUserInfo):[],u=D3(n.providerData,l),d=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new yp(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function N3(n){const e=Kt(n);await Rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D3(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function PT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function k3(n,e){const t=await MT(n,{},async()=>{const i=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await LT(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return n.emulatorConfig&&ul(n.emulatorConfig.host)&&(m.credentials="include"),OT.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function O3(n,e){return Hr(n,"POST","/v2/accounts:revokeToken",Ji(n,e))}class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=D1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await k3(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,u=new Ko;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ce(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Ui("not implemented")}}function Ms(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new I3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new yp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ua(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return C3(this,e)}reload(){return N3(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Rd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await Ua(this,A3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:x,providerData:O,stsTokenManager:M}=t;Ce(v&&M,e,"internal-error");const L=Ko.fromJSON(this.name,M);Ce(typeof v=="string",e,"internal-error"),Ms(i,e.name),Ms(a,e.name),Ce(typeof T=="boolean",e,"internal-error"),Ce(typeof x=="boolean",e,"internal-error"),Ms(l,e.name),Ms(u,e.name),Ms(d,e.name),Ms(m,e.name),Ms(p,e.name),Ms(y,e.name);const H=new Vr({uid:v,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:x,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:p,lastLoginAt:y});return O&&Array.isArray(O)&&(H.providerData=O.map(V=>({...V}))),m&&(H._redirectEventId=m),H}static async _fromIdTokenResponse(e,t,i=!1){const a=new Ko;a.updateFromServerResponse(t);const l=new Vr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Rd(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?PT(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,d=new Ko;d.updateFromIdToken(i);const m=new Vr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new yp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const k1=new Map;function zi(n){Ki(n instanceof Function,"Expected a class definition");let e=k1.get(n);return e?(Ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,k1.set(n,e),e)}class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}VT.type="NONE";const O1=VT;function ad(n,e,t){return`firebase:${n}:${e}:${t}`}class Yo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=ad(this.userKey,a.apiKey,l),this.fullPersistenceKey=ad("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Cd(this.auth,{idToken:e}).catch(()=>{});return t?Vr._fromGetAccountInfoResponse(this.auth,t,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Yo(zi(O1),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||zi(O1);const u=ad(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const T=await Cd(e,{idToken:y}).catch(()=>{});if(!T)break;v=await Vr._fromGetAccountInfoResponse(e,T,y)}else v=Vr._fromJSON(e,y);p!==l&&(d=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Yo(l,e,i):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Yo(l,e,i))}}function M1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(HT(e))return"Webos";if(UT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function jT(n=Sn()){return/firefox\//i.test(n)}function UT(n=Sn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(n=Sn()){return/crios\//i.test(n)}function BT(n=Sn()){return/iemobile/i.test(n)}function qT(n=Sn()){return/android/i.test(n)}function FT(n=Sn()){return/blackberry/i.test(n)}function HT(n=Sn()){return/webos/i.test(n)}function ny(n=Sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function M3(n=Sn()){return ny(n)&&!!window.navigator?.standalone}function L3(){return QO()&&document.documentMode===10}function $T(n=Sn()){return ny(n)||qT(n)||HT(n)||FT(n)||/windows phone/i.test(n)||BT(n)}function GT(n,e=[]){let t;switch(n){case"Browser":t=M1(Sn());break;case"Worker":t=`${M1(Sn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fl}/${i}`}class P3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function V3(n,e={}){return Hr(n,"GET","/v2/passwordPolicy",Ji(n,e))}const j3=6;class U3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??j3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class z3{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L1(this),this.idTokenSubscription=new L1(this),this.beforeStateQueue=new P3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cd(this,{idToken:e}),i=await Vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(qi(this));const t=e?Kt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V3(this),t=new U3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await O3(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zi(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&g3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ea(n){return Kt(n)}class L1{constructor(e){this.auth=e,this.observer=null,this.addObserver=r4(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B3(n){rh=n}function KT(n){return rh.loadJS(n)}function q3(){return rh.recaptchaEnterpriseScript}function F3(){return rh.gapiScript}function H3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class $3{constructor(){this.enterprise=new G3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class G3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const K3="recaptcha-enterprise",YT="NO_RECAPTCHA";class Y3{constructor(e){this.type=K3,this.auth=ea(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{x3(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new S3(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,u,d){const m=window.grecaptcha;N1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(YT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $3().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(d=>{if(!t&&N1(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=q3();m.length!==0&&(m+=d),KT(m).then(()=>{a(d,l,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function P1(n,e,t,i=!1,a=!1){const l=new Y3(n);let u;if(a)u=YT;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Id(n,e,t,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await P1(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await P1(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(l)})}function Q3(n,e){const t=Jp(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Va(l,e??{}))return a;Br(a,"already-initialized")}return t.initialize({options:e})}function X3(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(zi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function W3(n,e,t){const i=ea(n);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=QT(e),{host:u,port:d}=J3(e),m=d===null?"":`:${d}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(Va(p,i.config.emulator)&&Va(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,ul(u)?(wT(`${l}//${u}${m}`),TT("Auth",!0)):Z3()}function QT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function J3(n){const e=QT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:V1(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:V1(u)}}}function V1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Z3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class ry{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function e5(n,e){return Hr(n,"POST","/v1/accounts:update",e)}async function t5(n,e){return Hr(n,"POST","/v1/accounts:signUp",e)}async function n5(n,e){return du(n,"POST","/v1/accounts:signInWithPassword",Ji(n,e))}async function r5(n,e){return Hr(n,"POST","/v1/accounts:sendOobCode",Ji(n,e))}async function i5(n,e){return r5(n,e)}async function s5(n,e){return du(n,"POST","/v1/accounts:signInWithEmailLink",Ji(n,e))}async function a5(n,e){return du(n,"POST","/v1/accounts:signInWithEmailLink",Ji(n,e))}class $c extends ry{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new $c(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new $c(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Id(e,t,"signInWithPassword",n5);case"emailLink":return s5(e,{email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Id(e,i,"signUpPassword",t5);case"emailLink":return a5(e,{idToken:t,email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qo(n,e){return du(n,"POST","/v1/accounts:signInWithIdp",Ji(n,e))}const o5="http://localhost";class za extends ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const u=new za(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}buildRequest(){const e={requestUri:o5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uu(t)}return e}}function l5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c5(n){const e=Ec(wc(n)).link,t=e?Ec(wc(e)).deep_link_id:null,i=Ec(wc(n)).deep_link_id;return(i?Ec(wc(i)).link:null)||i||t||e||n}class iy{constructor(e){const t=Ec(wc(e)),i=t.apiKey??null,a=t.oobCode??null,l=l5(t.mode??null);Ce(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=c5(e);try{return new iy(t)}catch{return null}}}class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(e,t){return $c._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=iy.parseLink(t);return Ce(i,"argument-error"),$c._fromEmailAndCode(e,i.code,i.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class XT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hu extends XT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ps extends hu{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class Vs extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return za._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Vs.credential(t,i)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";class js extends hu{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";class Us extends hu{constructor(){super("twitter.com")}static credential(e,t){return za._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Us.credential(t,i)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";async function u5(n,e){return du(n,"POST","/v1/accounts:signUp",Ji(n,e))}class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Vr._fromIdTokenResponse(e,i,a),u=j1(i);return new Ba({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=j1(i);return new Ba({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function j1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Nd extends Wi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Nd(e,t,i,a)}}function WT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nd._fromErrorAndOperation(n,l,e,i):l})}async function f5(n,e,t=!1){const i=await Ua(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ba._forOperation(n,"link",i)}async function d5(n,e,t=!1){const{auth:i}=n;if(Tr(i.app))return Promise.reject(qi(i));const a="reauthenticate";try{const l=await Ua(n,WT(i,a,e,n),t);Ce(l.idToken,i,"internal-error");const u=ty(l.idToken);Ce(u,i,"internal-error");const{sub:d}=u;return Ce(n.uid===d,i,"user-mismatch"),Ba._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Br(i,"user-mismatch"),l}}async function JT(n,e,t=!1){if(Tr(n.app))return Promise.reject(qi(n));const i="signIn",a=await WT(n,i,e),l=await Ba._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function h5(n,e){return JT(ea(n),e)}async function ZT(n){const e=ea(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function m5(n,e,t){const i=ea(n);await Id(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",i5)}async function g5(n,e,t){if(Tr(n.app))return Promise.reject(qi(n));const i=ea(n),u=await Id(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",u5).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&ZT(n),m}),d=await Ba._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function p5(n,e,t){return Tr(n.app)?Promise.reject(qi(n)):h5(Kt(n),dl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ZT(n),i})}async function y5(n,e){return Hr(n,"POST","/v1/accounts:update",e)}async function v5(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Kt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ua(i,y5(i.auth,l));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const d=i.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function _5(n,e){return b5(Kt(n),null,e)}async function b5(n,e,t){const{auth:i}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(l.password=t);const u=await Ua(n,e5(i,l));await n._updateTokensIfNecessary(u,!0)}function E5(n,e,t,i){return Kt(n).onIdTokenChanged(e,t,i)}function w5(n,e,t){return Kt(n).beforeAuthStateChanged(e,t)}function T5(n,e,t,i){return Kt(n).onAuthStateChanged(e,t,i)}function S5(n){return Kt(n).signOut()}const Dd="__sak";class eS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dd,"1"),this.storage.removeItem(Dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const x5=1e3,A5=10;class tS extends eS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);L3()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,A5):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},x5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tS.type="LOCAL";const C5=tS;class nS extends eS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nS.type="SESSION";const rS=nS;function R5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new ih(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async p=>p(t.origin,l)),m=await R5(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];function sy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class I5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const p=sy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function fi(){return window}function N5(n){fi().location.href=n}function iS(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function D5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k5(){return navigator?.serviceWorker?.controller||null}function O5(){return iS()?self:null}const sS="firebaseLocalStorageDb",M5=1,kd="firebaseLocalStorage",aS="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sh(n,e){return n.transaction([kd],e?"readwrite":"readonly").objectStore(kd)}function L5(){const n=indexedDB.deleteDatabase(sS);return new mu(n).toPromise()}function vp(){const n=indexedDB.open(sS,M5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(kd,{keyPath:aS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(kd)?e(i):(i.close(),await L5(),e(await vp()))})})}async function U1(n,e,t){const i=sh(n,!0).put({[aS]:e,value:t});return new mu(i).toPromise()}async function P5(n,e){const t=sh(n,!1).get(e),i=await new mu(t).toPromise();return i===void 0?null:i.value}function z1(n,e){const t=sh(n,!0).delete(e);return new mu(t).toPromise()}const V5=800,j5=3;class oS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>j5)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(O5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D5(),!this.activeServiceWorker)return;this.sender=new I5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vp();return await U1(e,Dd,"1"),await z1(e,Dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>U1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>P5(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>z1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=sh(a,!1).getAll();return new mu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oS.type="LOCAL";const U5=oS;new fu(3e4,6e4);function z5(n,e){return e?zi(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class ay extends ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function B5(n){return JT(n.auth,new ay(n),n.bypassAuthState)}function q5(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),d5(t,new ay(n),n.bypassAuthState)}async function F5(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),f5(t,new ay(n),n.bypassAuthState)}class lS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B5;case"linkViaPopup":case"linkViaRedirect":return F5;case"reauthViaPopup":case"reauthViaRedirect":return q5;default:Br(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const H5=new fu(2e3,1e4);class Ho extends lS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H5.get())};e()}}Ho.currentPopupAction=null;const $5="pendingRedirect",od=new Map;class G5 extends lS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=od.get(this.auth._key());if(!e){try{const i=await K5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K5(n,e){const t=X5(e),i=Q5(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function Y5(n,e){od.set(n._key(),e)}function Q5(n){return zi(n._redirectPersistence)}function X5(n){return ad($5,n.config.apiKey,n.name)}async function W5(n,e,t=!1){if(Tr(n.app))return Promise.reject(qi(n));const i=ea(n),a=z5(i,e),u=await new G5(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const J5=600*1e3;class Z5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!cS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ui(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J5&&this.cachedEventUids.clear(),this.cachedEventUids.has(B1(e))}saveEventToCache(e){this.cachedEventUids.add(B1(e)),this.lastProcessedEventTime=Date.now()}}function B1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function eM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cS(n);default:return!1}}async function tM(n,e={}){return Hr(n,"GET","/v1/projects",e)}const nM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rM=/^https?/;async function iM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await tM(n);for(const t of e)try{if(sM(t))return}catch{}Br(n,"unauthorized-domain")}function sM(n){const e=pp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!rM.test(t))return!1;if(nM.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const aM=new fu(3e4,6e4);function q1(){const n=fi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function oM(n){return new Promise((e,t)=>{function i(){q1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q1(),t(ui(n,"network-request-failed"))},timeout:aM.get()})}if(fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fi().gapi?.load)i();else{const a=H3("iframefcb");return fi()[a]=()=>{gapi.load?i():t(ui(n,"network-request-failed"))},KT(`${F3()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ld=null,e})}let ld=null;function lM(n){return ld=ld||oM(n),ld}const cM=new fu(5e3,15e3),uM="__/auth/iframe",fM="emulator/auth/iframe",dM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mM(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ey(e,fM):`https://${n.config.authDomain}/${uM}`,i={apiKey:e.apiKey,appName:n.name,v:fl},a=hM.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${uu(i).slice(1)}`}async function gM(n){const e=await lM(n),t=fi().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:mM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dM,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ui(n,"network-request-failed"),d=fi().setTimeout(()=>{l(u)},cM.get());function m(){fi().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(u)})}))}const pM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yM=500,vM=600,_M="_blank",bM="http://localhost";class F1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EM(n,e,t,i=yM,a=vM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...pM,width:i.toString(),height:a.toString(),top:l,left:u},p=Sn().toLowerCase();t&&(d=zT(p)?_M:t),jT(p)&&(e=e||bM,m.scrollbars="yes");const y=Object.entries(m).reduce((T,[x,O])=>`${T}${x}=${O},`,"");if(M3(p)&&d!=="_self")return wM(e||"",d),new F1(null);const v=window.open(e||"",d,y);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new F1(v)}function wM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const TM="__/auth/handler",SM="emulator/auth/handler",xM=encodeURIComponent("fac");async function H1(n,e,t,i,a,l){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:fl,eventId:a};if(e instanceof XT){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",n4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof hu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await n._getAppCheckToken(),p=m?`#${xM}=${encodeURIComponent(m)}`:"";return`${AM(n)}?${uu(d).slice(1)}${p}`}function AM({config:n}){return n.emulator?ey(n,SM):`https://${n.authDomain}/${TM}`}const Hg="webStorageSupport";class CM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rS,this._completeRedirectFn=W5,this._overrideRedirectResult=Y5}async _openPopup(e,t,i,a){Ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await H1(e,t,i,pp(),a);return EM(e,l,sy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await H1(e,t,i,pp(),a);return N5(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Ki(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await gM(e),i=new Z5(e);return t.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hg,{type:Hg},a=>{const l=a?.[0]?.[Hg];l!==void 0&&t(!!l),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $T()||UT()||ny()}}const RM=CM;var $1="@firebase/auth",G1="1.12.0";class IM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DM(n){Jo(new ja("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(n)},p=new z3(i,a,l,m);return X3(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Jo(new ja("auth-internal",e=>{const t=ea(e.getProvider("auth").getImmediate());return(i=>new IM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs($1,G1,NM(n)),Fs($1,G1,"esm2020")}const kM=300,OM=ET("authIdTokenMaxAge")||kM;let K1=null;const MM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>OM)return;const a=t?.token;K1!==a&&(K1=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function LM(n=CT()){const e=Jp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Q3(n,{popupRedirectResolver:RM,persistence:[U5,C5,rS]}),i=ET("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=MM(l.toString());w5(t,u,()=>u(t.currentUser)),E5(t,d=>u(d))}}const a=_T("auth");return a&&W3(t,`http://${a}`),t}function PM(){return document.getElementsByTagName("head")?.[0]??document}B3({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=ui("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",PM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DM("Browser");var Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hs,uS;(function(){var n;function e(C,R){function N(){}N.prototype=R.prototype,C.F=R.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(P,D,U){for(var k=Array(arguments.length-2),be=2;be<arguments.length;be++)k[be-2]=arguments[be];return R.prototype[D].apply(P,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,N){N||(N=0);const P=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)P[D]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(D=0;D<16;++D)P[D]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=C.g[0],N=C.g[1],D=C.g[2];let U=C.g[3],k;k=R+(U^N&(D^U))+P[0]+3614090360&4294967295,R=N+(k<<7&4294967295|k>>>25),k=U+(D^R&(N^D))+P[1]+3905402710&4294967295,U=R+(k<<12&4294967295|k>>>20),k=D+(N^U&(R^N))+P[2]+606105819&4294967295,D=U+(k<<17&4294967295|k>>>15),k=N+(R^D&(U^R))+P[3]+3250441966&4294967295,N=D+(k<<22&4294967295|k>>>10),k=R+(U^N&(D^U))+P[4]+4118548399&4294967295,R=N+(k<<7&4294967295|k>>>25),k=U+(D^R&(N^D))+P[5]+1200080426&4294967295,U=R+(k<<12&4294967295|k>>>20),k=D+(N^U&(R^N))+P[6]+2821735955&4294967295,D=U+(k<<17&4294967295|k>>>15),k=N+(R^D&(U^R))+P[7]+4249261313&4294967295,N=D+(k<<22&4294967295|k>>>10),k=R+(U^N&(D^U))+P[8]+1770035416&4294967295,R=N+(k<<7&4294967295|k>>>25),k=U+(D^R&(N^D))+P[9]+2336552879&4294967295,U=R+(k<<12&4294967295|k>>>20),k=D+(N^U&(R^N))+P[10]+4294925233&4294967295,D=U+(k<<17&4294967295|k>>>15),k=N+(R^D&(U^R))+P[11]+2304563134&4294967295,N=D+(k<<22&4294967295|k>>>10),k=R+(U^N&(D^U))+P[12]+1804603682&4294967295,R=N+(k<<7&4294967295|k>>>25),k=U+(D^R&(N^D))+P[13]+4254626195&4294967295,U=R+(k<<12&4294967295|k>>>20),k=D+(N^U&(R^N))+P[14]+2792965006&4294967295,D=U+(k<<17&4294967295|k>>>15),k=N+(R^D&(U^R))+P[15]+1236535329&4294967295,N=D+(k<<22&4294967295|k>>>10),k=R+(D^U&(N^D))+P[1]+4129170786&4294967295,R=N+(k<<5&4294967295|k>>>27),k=U+(N^D&(R^N))+P[6]+3225465664&4294967295,U=R+(k<<9&4294967295|k>>>23),k=D+(R^N&(U^R))+P[11]+643717713&4294967295,D=U+(k<<14&4294967295|k>>>18),k=N+(U^R&(D^U))+P[0]+3921069994&4294967295,N=D+(k<<20&4294967295|k>>>12),k=R+(D^U&(N^D))+P[5]+3593408605&4294967295,R=N+(k<<5&4294967295|k>>>27),k=U+(N^D&(R^N))+P[10]+38016083&4294967295,U=R+(k<<9&4294967295|k>>>23),k=D+(R^N&(U^R))+P[15]+3634488961&4294967295,D=U+(k<<14&4294967295|k>>>18),k=N+(U^R&(D^U))+P[4]+3889429448&4294967295,N=D+(k<<20&4294967295|k>>>12),k=R+(D^U&(N^D))+P[9]+568446438&4294967295,R=N+(k<<5&4294967295|k>>>27),k=U+(N^D&(R^N))+P[14]+3275163606&4294967295,U=R+(k<<9&4294967295|k>>>23),k=D+(R^N&(U^R))+P[3]+4107603335&4294967295,D=U+(k<<14&4294967295|k>>>18),k=N+(U^R&(D^U))+P[8]+1163531501&4294967295,N=D+(k<<20&4294967295|k>>>12),k=R+(D^U&(N^D))+P[13]+2850285829&4294967295,R=N+(k<<5&4294967295|k>>>27),k=U+(N^D&(R^N))+P[2]+4243563512&4294967295,U=R+(k<<9&4294967295|k>>>23),k=D+(R^N&(U^R))+P[7]+1735328473&4294967295,D=U+(k<<14&4294967295|k>>>18),k=N+(U^R&(D^U))+P[12]+2368359562&4294967295,N=D+(k<<20&4294967295|k>>>12),k=R+(N^D^U)+P[5]+4294588738&4294967295,R=N+(k<<4&4294967295|k>>>28),k=U+(R^N^D)+P[8]+2272392833&4294967295,U=R+(k<<11&4294967295|k>>>21),k=D+(U^R^N)+P[11]+1839030562&4294967295,D=U+(k<<16&4294967295|k>>>16),k=N+(D^U^R)+P[14]+4259657740&4294967295,N=D+(k<<23&4294967295|k>>>9),k=R+(N^D^U)+P[1]+2763975236&4294967295,R=N+(k<<4&4294967295|k>>>28),k=U+(R^N^D)+P[4]+1272893353&4294967295,U=R+(k<<11&4294967295|k>>>21),k=D+(U^R^N)+P[7]+4139469664&4294967295,D=U+(k<<16&4294967295|k>>>16),k=N+(D^U^R)+P[10]+3200236656&4294967295,N=D+(k<<23&4294967295|k>>>9),k=R+(N^D^U)+P[13]+681279174&4294967295,R=N+(k<<4&4294967295|k>>>28),k=U+(R^N^D)+P[0]+3936430074&4294967295,U=R+(k<<11&4294967295|k>>>21),k=D+(U^R^N)+P[3]+3572445317&4294967295,D=U+(k<<16&4294967295|k>>>16),k=N+(D^U^R)+P[6]+76029189&4294967295,N=D+(k<<23&4294967295|k>>>9),k=R+(N^D^U)+P[9]+3654602809&4294967295,R=N+(k<<4&4294967295|k>>>28),k=U+(R^N^D)+P[12]+3873151461&4294967295,U=R+(k<<11&4294967295|k>>>21),k=D+(U^R^N)+P[15]+530742520&4294967295,D=U+(k<<16&4294967295|k>>>16),k=N+(D^U^R)+P[2]+3299628645&4294967295,N=D+(k<<23&4294967295|k>>>9),k=R+(D^(N|~U))+P[0]+4096336452&4294967295,R=N+(k<<6&4294967295|k>>>26),k=U+(N^(R|~D))+P[7]+1126891415&4294967295,U=R+(k<<10&4294967295|k>>>22),k=D+(R^(U|~N))+P[14]+2878612391&4294967295,D=U+(k<<15&4294967295|k>>>17),k=N+(U^(D|~R))+P[5]+4237533241&4294967295,N=D+(k<<21&4294967295|k>>>11),k=R+(D^(N|~U))+P[12]+1700485571&4294967295,R=N+(k<<6&4294967295|k>>>26),k=U+(N^(R|~D))+P[3]+2399980690&4294967295,U=R+(k<<10&4294967295|k>>>22),k=D+(R^(U|~N))+P[10]+4293915773&4294967295,D=U+(k<<15&4294967295|k>>>17),k=N+(U^(D|~R))+P[1]+2240044497&4294967295,N=D+(k<<21&4294967295|k>>>11),k=R+(D^(N|~U))+P[8]+1873313359&4294967295,R=N+(k<<6&4294967295|k>>>26),k=U+(N^(R|~D))+P[15]+4264355552&4294967295,U=R+(k<<10&4294967295|k>>>22),k=D+(R^(U|~N))+P[6]+2734768916&4294967295,D=U+(k<<15&4294967295|k>>>17),k=N+(U^(D|~R))+P[13]+1309151649&4294967295,N=D+(k<<21&4294967295|k>>>11),k=R+(D^(N|~U))+P[4]+4149444226&4294967295,R=N+(k<<6&4294967295|k>>>26),k=U+(N^(R|~D))+P[11]+3174756917&4294967295,U=R+(k<<10&4294967295|k>>>22),k=D+(R^(U|~N))+P[2]+718787259&4294967295,D=U+(k<<15&4294967295|k>>>17),k=N+(U^(D|~R))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}i.prototype.v=function(C,R){R===void 0&&(R=C.length);const N=R-this.blockSize,P=this.C;let D=this.h,U=0;for(;U<R;){if(D==0)for(;U<=N;)a(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<R;)if(P[D++]=C.charCodeAt(U++),D==this.blockSize){a(this,P),D=0;break}}else for(;U<R;)if(P[D++]=C[U++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=R},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)C[R++]=this.g[N]>>>P&255;return C};function l(C,R){var N=d;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=R(C)}function u(C,R){this.h=R;const N=[];let P=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;P&&U==R||(N[D]=U,P=!1)}this.g=N}var d={};function m(C){return-128<=C&&C<128?l(C,function(R){return new u([R|0],R<0?-1:0)}):new u([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return L(p(-C));const R=[];let N=1;for(let P=0;C>=N;P++)R[P]=C/N|0,N*=4294967296;return new u(R,0)}function y(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return L(y(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(R,8));let P=v;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const k=parseInt(C.substring(U,U+D),R);D<8?(D=p(Math.pow(R,D)),P=P.j(D).add(p(k))):(P=P.j(N),P=P.add(p(k)))}return P}var v=m(0),T=m(1),x=m(16777216);n=u.prototype,n.m=function(){if(M(this))return-L(this).m();let C=0,R=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);C+=(P>=0?P:4294967296+P)*R,R*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(M(this))return"-"+L(this).toString(C);const R=p(Math.pow(C,6));var N=this;let P="";for(;;){const D=B(N,R).g;N=H(N,D.j(R));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=D,O(N))return U+P;for(;U.length<6;)U="0"+U;P=U+P}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function M(C){return C.h==-1}n.l=function(C){return C=H(this,C),M(C)?-1:O(C)?0:1};function L(C){const R=C.g.length,N=[];for(let P=0;P<R;P++)N[P]=~C.g[P];return new u(N,~C.h).add(T)}n.abs=function(){return M(this)?L(this):this},n.add=function(C){const R=Math.max(this.g.length,C.g.length),N=[];let P=0;for(let D=0;D<=R;D++){let U=P+(this.i(D)&65535)+(C.i(D)&65535),k=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);P=k>>>16,U&=65535,k&=65535,N[D]=k<<16|U}return new u(N,N[N.length-1]&-2147483648?-1:0)};function H(C,R){return C.add(L(R))}n.j=function(C){if(O(this)||O(C))return v;if(M(this))return M(C)?L(this).j(L(C)):L(L(this).j(C));if(M(C))return L(this.j(L(C)));if(this.l(x)<0&&C.l(x)<0)return p(this.m()*C.m());const R=this.g.length+C.g.length,N=[];for(var P=0;P<2*R;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<C.g.length;D++){const U=this.i(P)>>>16,k=this.i(P)&65535,be=C.i(D)>>>16,Ge=C.i(D)&65535;N[2*P+2*D]+=k*Ge,V(N,2*P+2*D),N[2*P+2*D+1]+=U*Ge,V(N,2*P+2*D+1),N[2*P+2*D+1]+=k*be,V(N,2*P+2*D+1),N[2*P+2*D+2]+=U*be,V(N,2*P+2*D+2)}for(C=0;C<R;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=R;C<2*R;C++)N[C]=0;return new u(N,0)};function V(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function F(C,R){this.g=C,this.h=R}function B(C,R){if(O(R))throw Error("division by zero");if(O(C))return new F(v,v);if(M(C))return R=B(L(C),R),new F(L(R.g),L(R.h));if(M(R))return R=B(C,L(R)),new F(L(R.g),R.h);if(C.g.length>30){if(M(C)||M(R))throw Error("slowDivide_ only works with positive integers.");for(var N=T,P=R;P.l(C)<=0;)N=J(N),P=J(P);var D=ae(N,1),U=ae(P,1);for(P=ae(P,2),N=ae(N,2);!O(P);){var k=U.add(P);k.l(C)<=0&&(D=D.add(N),U=k),P=ae(P,1),N=ae(N,1)}return R=H(C,D.j(R)),new F(D,R)}for(D=v;C.l(R)>=0;){for(N=Math.max(1,Math.floor(C.m()/R.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),U=p(N),k=U.j(R);M(k)||k.l(C)>0;)N-=P,U=p(N),k=U.j(R);O(U)&&(U=T),D=D.add(U),C=H(C,k)}return new F(D,C)}n.B=function(C){return B(this,C).h},n.and=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<R;P++)N[P]=this.i(P)&C.i(P);return new u(N,this.h&C.h)},n.or=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<R;P++)N[P]=this.i(P)|C.i(P);return new u(N,this.h|C.h)},n.xor=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let P=0;P<R;P++)N[P]=this.i(P)^C.i(P);return new u(N,this.h^C.h)};function J(C){const R=C.g.length+1,N=[];for(let P=0;P<R;P++)N[P]=C.i(P)<<1|C.i(P-1)>>>31;return new u(N,C.h)}function ae(C,R){const N=R>>5;R%=32;const P=C.g.length-N,D=[];for(let U=0;U<P;U++)D[U]=R>0?C.i(U+N)>>>R|C.i(U+N+1)<<32-R:C.i(U+N);return new u(D,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,uS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Hs=u}).apply(typeof Y1<"u"?Y1:typeof self<"u"?self:typeof window<"u"?window:{});var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fS,Tc,dS,cd,_p,hS,mS,gS;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xf=="object"&&Xf];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(f,_){if(_)e:{var E=i;f=f.split(".");for(var I=0;I<f.length-1;I++){var G=f[I];if(!(G in E))break e;E=E[G]}f=f[f.length-1],I=E[f],_=_(I),_!=I&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],I;for(I in _)Object.prototype.hasOwnProperty.call(_,I)&&E.push([I,_[I]]);return E}});var l=l||{},u=this||self;function d(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function m(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=m,p.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(I,G,W){for(var fe=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)fe[Me-2]=arguments[Me];return _.prototype[G].apply(I,fe)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function x(f){const _=f.length;if(_>0){const E=Array(_);for(let I=0;I<_;I++)E[I]=f[I];return E}return[]}function O(f,_){for(let I=1;I<arguments.length;I++){const G=arguments[I];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=f.length||0;const W=G.length||0;f.length=E+W;for(let fe=0;fe<W;fe++)f[E+fe]=G[fe]}else f.push(G)}}class M{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(f){u.setTimeout(()=>{throw f},0)}function H(){var f=C;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class V{constructor(){this.h=this.g=null}add(_,E){const I=F.get();I.set(_,E),this.h?this.h.next=I:this.g=I,this.h=I}}var F=new M(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ae=!1,C=new V,R=()=>{const f=Promise.resolve(void 0);J=()=>{f.then(N)}};function N(){for(var f;f=H();){try{f.h.call(f.g)}catch(E){L(E)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}ae=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function be(f,_){D.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(be,D),be.prototype.init=function(f,_){const E=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),X=0;function oe(f,_,E,I,G){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!I,this.ha=G,this.key=++X,this.da=this.fa=!1}function he(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Se(f,_,E){for(const I in f)_.call(E,f[I],I,f)}function De(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function z(f){const _={};for(const E in f)_[E]=f[E];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(f,_){let E,I;for(let G=1;G<arguments.length;G++){I=arguments[G];for(E in I)f[E]=I[E];for(let W=0;W<ee.length;W++)E=ee[W],Object.prototype.hasOwnProperty.call(I,E)&&(f[E]=I[E])}}function de(f){this.src=f,this.g={},this.h=0}de.prototype.add=function(f,_,E,I,G){const W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);const fe=ye(f,_,I,G);return fe>-1?(_=f[fe],E||(_.fa=!1)):(_=new oe(_,this.src,W,!!I,G),_.fa=E,f.push(_)),_};function Te(f,_){const E=_.type;if(E in f.g){var I=f.g[E],G=Array.prototype.indexOf.call(I,_,void 0),W;(W=G>=0)&&Array.prototype.splice.call(I,G,1),W&&(he(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ye(f,_,E,I){for(let G=0;G<f.length;++G){const W=f[G];if(!W.da&&W.listener==_&&W.capture==!!E&&W.ha==I)return G}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),tt={};function ue(f,_,E,I,G){if(Array.isArray(_)){for(let W=0;W<_.length;W++)ue(f,_[W],E,I,G);return null}return E=ts(E),f&&f[Ge]?f.J(_,E,d(I)?!!I.capture:!1,G):ce(f,_,E,!1,I,G)}function ce(f,_,E,I,G,W){if(!_)throw Error("Invalid event type");const fe=d(G)?!!G.capture:!!G;let Me=Mn(f);if(Me||(f[Pe]=Me=new de(f)),E=Me.add(_,E,I,fe,W),E.proxy)return E;if(I=Ke(),E.proxy=I,I.src=f,I.listener=E,f.addEventListener)U||(G=fe),G===void 0&&(G=!1),f.addEventListener(_.toString(),I,G);else if(f.attachEvent)f.attachEvent(Lt(_.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ke(){function f(E){return _.call(f.src,f.listener,E)}const _=or;return f}function dt(f,_,E,I,G){if(Array.isArray(_))for(var W=0;W<_.length;W++)dt(f,_[W],E,I,G);else I=d(I)?!!I.capture:!!I,E=ts(E),f&&f[Ge]?(f=f.i,W=String(_).toString(),W in f.g&&(_=f.g[W],E=ye(_,E,I,G),E>-1&&(he(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[W],f.h--)))):f&&(f=Mn(f))&&(_=f.g[_.toString()],f=-1,_&&(f=ye(_,E,I,G)),(E=f>-1?_[f]:null)&&xn(E))}function xn(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Ge])Te(_.i,f);else{var E=f.type,I=f.proxy;_.removeEventListener?_.removeEventListener(E,I,f.capture):_.detachEvent?_.detachEvent(Lt(E),I):_.addListener&&_.removeListener&&_.removeListener(I),(E=Mn(_))?(Te(E,f),E.h==0&&(E.src=null,_[Pe]=null)):he(f)}}}function Lt(f){return f in tt?tt[f]:tt[f]="on"+f}function or(f,_){if(f.da)f=!0;else{_=new be(_,this);const E=f.listener,I=f.ha||f.src;f.fa&&xn(f),f=E.call(I,_)}return f}function Mn(f){return f=f[Pe],f instanceof de?f:null}var es="__closure_events_fn_"+(Math.random()*1e9>>>0);function ts(f){return typeof f=="function"?f:(f[es]||(f[es]=function(_){return f.handleEvent(_)}),f[es])}function vt(){P.call(this),this.i=new de(this),this.M=this,this.G=null}v(vt,P),vt.prototype[Ge]=!0,vt.prototype.removeEventListener=function(f,_,E,I){dt(this,f,_,E,I)};function at(f,_){var E,I=f.G;if(I)for(E=[];I;I=I.G)E.push(I);if(f=f.M,I=_.type||_,typeof _=="string")_=new D(_,f);else if(_ instanceof D)_.target=_.target||f;else{var G=_;_=new D(I,f),le(_,G)}G=!0;let W,fe;if(E)for(fe=E.length-1;fe>=0;fe--)W=_.g=E[fe],G=$n(W,I,!0,_)&&G;if(W=_.g=f,G=$n(W,I,!0,_)&&G,G=$n(W,I,!1,_)&&G,E)for(fe=0;fe<E.length;fe++)W=_.g=E[fe],G=$n(W,I,!1,_)&&G}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let I=0;I<E.length;I++)he(E[I]);delete f.g[_],f.h--}}this.G=null},vt.prototype.J=function(f,_,E,I){return this.i.add(String(f),_,!1,E,I)},vt.prototype.K=function(f,_,E,I){return this.i.add(String(f),_,!0,E,I)};function $n(f,_,E,I){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let W=0;W<_.length;++W){const fe=_[W];if(fe&&!fe.da&&fe.capture==E){const Me=fe.listener,Nt=fe.ha||fe.src;fe.fa&&Te(f.i,fe),G=Me.call(Nt,I)!==!1&&G}}return G&&!I.defaultPrevented}function ns(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function ra(f){f.g=ns(()=>{f.g=null,f.i&&(f.i=!1,ra(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Jt extends P{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ra(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(f){P.call(this),this.h=f,this.g={}}v(yi,P);var ia=[];function lr(f){Se(f.g,function(_,E){this.g.hasOwnProperty(E)&&xn(_)},f),f.g={}}yi.prototype.N=function(){yi.Z.N.call(this),lr(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=u.JSON.stringify,vi=u.JSON.parse,sa=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Gn(){}function aa(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){D.call(this,"d")}v(Yt,D);function pn(){D.call(this,"c")}v(pn,D);var _t={},Ya=null;function _i(){return Ya=Ya||new vt}_t.Ia="serverreachability";function Qa(f){D.call(this,_t.Ia,f)}v(Qa,D);function cr(f){const _=_i();at(_,new Qa(_))}_t.STAT_EVENT="statevent";function bi(f,_){D.call(this,_t.STAT_EVENT,f),this.stat=_}v(bi,D);function je(f){const _=_i();at(_,new bi(_,f))}_t.Ja="timingevent";function bt(f,_){D.call(this,_t.Ja,f),this.size=_}v(bt,D);function Et(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function Pt(){this.g=!0}Pt.prototype.ua=function(){this.g=!1};function yn(f,_,E,I,G,W){f.info(function(){if(f.g)if(W){var fe="",Me=W.split("&");for(let Je=0;Je<Me.length;Je++){var Nt=Me[Je].split("=");if(Nt.length>1){const wt=Nt[0];Nt=Nt[1];const hr=wt.split("_");fe=hr.length>=2&&hr[1]=="type"?fe+(wt+"="+Nt+"&"):fe+(wt+"=redacted&")}}}else fe=null;else fe=W;return"XMLHTTP REQ ("+I+") [attempt "+G+"]: "+_+`
`+E+`
`+fe})}function Zt(f,_,E,I,G,W,fe){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+G+"]: "+_+`
`+E+`
`+W+" "+fe})}function Rt(f,_,E,I){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+It(f,E)+(I?" "+I:"")})}function Ln(f,_){f.info(function(){return"TIMEOUT: "+_})}Pt.prototype.info=function(){};function It(f,_){if(!f.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(f=0;f<W.length;f++)if(Array.isArray(W[f])){var E=W[f];if(!(E.length<2)){var I=E[1];if(Array.isArray(I)&&!(I.length<1)){var G=I[0];if(G!="noop"&&G!="stop"&&G!="close")for(let fe=1;fe<I.length;fe++)I[fe]=""}}}}return An(W)}catch{return _}}var vn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_n={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cn;function Yn(){}v(Yn,Gn),Yn.prototype.g=function(){return new XMLHttpRequest},Cn=new Yn;function Rn(f){return encodeURIComponent(String(f))}function Qn(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function on(f,_,E,I){this.j=f,this.i=_,this.l=E,this.S=I||1,this.V=new yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new In}function In(){this.i=null,this.g="",this.h=!1}var Vt={},en={};function $r(f,_,E){f.M=1,f.A=oa(Ut(_)),f.u=E,f.R=!0,Xa(f,null)}function Xa(f,_){f.F=Date.now(),Gr(f),f.B=Ut(f.A);var E=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),eo(E.i,"t",I),f.C=0,E=f.j.L,f.h=new In,f.g=ju(f.j,E?_:null,!f.u),f.P>0&&(f.O=new Jt(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,I=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(ia[0]=G.toString()),G=ia);for(let W=0;W<G.length;W++){const fe=ue(E,G[W],I||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),cr(),yn(f.i,f.v,f.B,f.l,f.S,f.u)}on.prototype.ba=function(f){f=f.target;const _=this.O;_&&Nr(f)==3?_.j():this.Y(f)},on.prototype.Y=function(f){try{if(f==this.g)e:{const Me=Nr(this.g),Nt=this.g.ya(),Je=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Me!=4||Nt==7||(Nt==8||Je<=0?cr(3):cr(2)),Kr(this);var _=this.g.ca();this.X=_;var E=xh(this);if(this.o=_==200,Zt(this.i,this.v,this.B,this.l,this.S,Me,_),this.o){if(this.U&&!this.L){t:{if(this.g){var I,G=this.g;if((I=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var W=I;break t}}W=null}if(f=W)Rt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yr(this,f);else{this.o=!1,this.m=3,je(12),Xn(this),ur(this);break e}}if(this.R){f=!0;let wt;for(;!this.K&&this.C<E.length;)if(wt=xu(this,E),wt==en){Me==4&&(this.m=4,je(14),f=!1),Rt(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Vt){this.m=4,je(15),Rt(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Rt(this.i,this.l,wt,null),Yr(this,wt);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||E.length!=0||this.h.h||(this.m=1,je(16),f=!1),this.o=this.o&&f,!f)Rt(this.i,this.l,E,"[Invalid Chunked Response]"),Xn(this),ur(this);else if(E.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ol(fe),fe.P=!0,je(11))}}else Rt(this.i,this.l,E,null),Yr(this,E);Me==4&&Xn(this),this.o&&!this.K&&(Me==4?Mu(this.j,this):(this.o=!1,Gr(this)))}else wi(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,je(12)):(this.m=0,je(13)),Xn(this),ur(this)}}}catch{}};function xh(f){if(!Su(f))return f.g.la();const _=ln(f.g);if(_==="")return"";let E="";const I=_.length,G=Nr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Xn(f),ur(f),"";f.h.i=new u.TextDecoder}for(let W=0;W<I;W++)f.h.h=!0,E+=f.h.i.decode(_[W],{stream:!(G&&W==I-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function Su(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function xu(f,_){var E=f.C,I=_.indexOf(`
`,E);return I==-1?en:(E=Number(_.substring(E,I)),isNaN(E)?Vt:(I+=1,I+E>_.length?en:(_=_.slice(I,I+E),f.C=I+E,_)))}on.prototype.cancel=function(){this.K=!0,Xn(this)};function Gr(f){f.T=Date.now()+f.H,Wa(f,f.H)}function Wa(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Et(p(f.aa,f),_)}function Kr(f){f.D&&(u.clearTimeout(f.D),f.D=null)}on.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Ln(this.i,this.B),this.M!=2&&(cr(),je(17)),Xn(this),this.m=2,ur(this)):Wa(this,this.T-f)};function ur(f){f.j.I==0||f.K||Mu(f.j,f)}function Xn(f){Kr(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,lr(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Yr(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Xr(E.h,f))){if(!f.L&&Xr(E.h,f)&&E.I==3){try{var I=E.Ba.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var G=I;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)so(E),us(E);else break e;ma(E),je(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Et(p(E.Va,E),6e3));Qr(E.h)<=1&&E.ta&&(E.ta=void 0)}else ni(E,11)}else if((f.L||E.g==f)&&so(E),!k(_))for(G=E.Ba.g.parse(_),_=0;_<G.length;_++){let Je=G[_];const wt=Je[0];if(!(wt<=E.K))if(E.K=wt,Je=Je[1],E.I==2)if(Je[0]=="c"){E.M=Je[1],E.ba=Je[2];const hr=Je[3];hr!=null&&(E.ka=hr,E.j.info("VER="+E.ka));const ri=Je[4];ri!=null&&(E.za=ri,E.j.info("SVER="+E.za));const Dr=Je[5];Dr!=null&&typeof Dr=="number"&&Dr>0&&(I=1.5*Dr,E.O=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const kr=f.g;if(kr){const ga=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var W=I.h;W.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(El(W,W.h),W.h=null))}if(I.G){const ao=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(I.wa=ao,rt(I.J,I.G,ao))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),I=E;var fe=f;if(I.na=Vu(I,I.L?I.ba:null,I.W),fe.L){wl(I.h,fe);var Me=fe,Nt=I.O;Nt&&(Me.H=Nt),Me.D&&(Kr(Me),Gr(Me)),I.g=fe}else ku(I);E.i.length>0&&ti(E)}else Je[0]!="stop"&&Je[0]!="close"||ni(E,7);else E.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ni(E,7):Dl(E):Je[0]!="noop"&&E.l&&E.l.qa(Je),E.A=0)}}cr(4)}catch{}}var jt=class{constructor(f,_){this.g=f,this.map=_}};function _l(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Qr(f){return f.h?1:f.g?f.g.size:0}function Xr(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function El(f,_){f.g?f.g.add(_):f.h=_}function wl(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}_l.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Tl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return x(f.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const I=f[E].indexOf("=");let G,W=null;I>=0?(G=f[E].substring(0,I),W=f[E].substring(I+1)):G=f[E],_(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Wn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Wn?(this.l=f.l,tn(this,f.j),this.o=f.o,this.g=f.g,rs(this,f.u),this.h=f.h,Sl(this,Nu(f.i)),this.m=f.m):f&&(_=String(f).match(Au))?(this.l=!1,tn(this,_[1]||"",!0),this.o=Wr(_[2]||""),this.g=Wr(_[3]||"",!0),rs(this,_[4]),this.h=Wr(_[5]||"",!0),Sl(this,_[6]||"",!0),this.m=Wr(_[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}Wn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(la(_,Za,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(la(_,Za,!0),"@"),f.push(Rn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(la(E,E.charAt(0)=="/"?xl:Cu,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",la(E,Ru)),f.join("")},Wn.prototype.resolve=function(f){const _=Ut(this);let E=!!f.j;E?tn(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var I=f.h;if(E)rs(_,f.u);else if(E=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var G=_.h.lastIndexOf("/");G!=-1&&(I=_.h.slice(0,G+1)+I)}if(G=I,G==".."||G==".")I="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){I=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let fe=0;fe<G.length;){const Me=G[fe++];Me=="."?I&&fe==G.length&&W.push(""):Me==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),I&&fe==G.length&&W.push("")):(W.push(Me),I=!0)}I=W.join("/")}else I=G}return E?_.h=I:E=f.i.toString()!=="",E?Sl(_,Nu(f.i)):E=!!f.m,E&&(_.m=f.m),_};function Ut(f){return new Wn(f)}function tn(f,_,E){f.j=E?Wr(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function rs(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Sl(f,_,E){_ instanceof ss?(f.i=_,to(f.i,f.l)):(E||(_=la(_,is)),f.i=new ss(_,f.l))}function rt(f,_,E){f.i.set(_,E)}function oa(f){return rt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Wr(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function la(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Pn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Pn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Za=/[#\/\?@]/g,Cu=/[#\?:]/g,xl=/[#\?]/g,is=/[#\?@]/g,Ru=/#/g;function ss(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Vn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ja(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=ss.prototype,n.add=function(f,_){Vn(this),this.i=null,f=as(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function Iu(f,_){Vn(f),_=as(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Al(f,_){return Vn(f),_=as(f,_),f.g.has(_)}n.forEach=function(f,_){Vn(this),this.g.forEach(function(E,I){E.forEach(function(G){f.call(_,G,I,this)},this)},this)};function Cl(f,_){Vn(f);let E=[];if(typeof _=="string")Al(f,_)&&(E=E.concat(f.g.get(as(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}n.set=function(f,_){return Vn(this),this.i=null,f=as(this,f),Al(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=Cl(this,f),f.length>0?String(f[0]):_):_};function eo(f,_,E){Iu(f,_),E.length>0&&(f.i=null,f.g.set(as(f,_),x(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let I=0;I<_.length;I++){var E=_[I];const G=Rn(E);E=Cl(this,E);for(let W=0;W<E.length;W++){let fe=G;E[W]!==""&&(fe+="="+Rn(E[W])),f.push(fe)}}return this.i=f.join("&")};function Nu(f){const _=new ss;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function as(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function to(f,_){_&&!f.j&&(Vn(f),f.i=null,f.g.forEach(function(E,I){const G=I.toLowerCase();I!=G&&(Iu(this,I),eo(this,G,E))},f)),f.j=_}function Rr(f,_){const E=new Pt;if(u.Image){const I=new Image;I.onload=y(fr,E,"TestLoadImage: loaded",!0,_,I),I.onerror=y(fr,E,"TestLoadImage: error",!1,_,I),I.onabort=y(fr,E,"TestLoadImage: abort",!1,_,I),I.ontimeout=y(fr,E,"TestLoadImage: timeout",!1,_,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else _(!1)}function Rl(f,_){const E=new Pt,I=new AbortController,G=setTimeout(()=>{I.abort(),fr(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:I.signal}).then(W=>{clearTimeout(G),W.ok?fr(E,"TestPingServer: ok",!0,_):fr(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),fr(E,"TestPingServer: error",!1,_)})}function fr(f,_,E,I,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),I(E)}catch{}}function os(){this.g=new sa}function Jr(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Jr,Gn),Jr.prototype.g=function(){return new ca(this.i,this.h)};function ca(f,_){vt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ca,vt),n=ca.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Ir(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;no(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function no(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ls(this):Ir(this),this.readyState==3&&no(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,ls(this))},n.Na=function(f){this.g&&(this.response=f,ls(this))},n.ga=function(){this.g&&ls(this)};function ls(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ir(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function Ir(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function dr(f){let _="";return Se(f,function(E,I){_+=I,_+=":",_+=E,_+=`\r
`}),_}function ua(f,_,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=dr(E),typeof f=="string"?E!=null&&Rn(E):rt(f,_,E))}function ot(f){vt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ot,vt);var Zr=/^https?$/i,Il=["POST","PUT"];n=ot.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cn.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(W){fa(this,W);return}if(f=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var G in I)E.set(G,I[G]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())E.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Il,_,void 0)>=0)||I||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,fe]of E)this.g.setRequestHeader(W,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(W){fa(this,W)}};function fa(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Nl(f),Ei(f)}function Nl(f){f.A||(f.A=!0,at(f,"complete"),at(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,at(this,"complete"),at(this,"abort"),Ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),ot.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},n.Xa=function(){da(this)};function da(f){if(f.h&&typeof l<"u"){if(f.v&&Nr(f)==4)setTimeout(f.Ca.bind(f),0);else if(at(f,"readystatechange"),Nr(f)==4){f.h=!1;try{const W=f.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var I;if(I=W===0){let fe=String(f.D).match(Au)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),I=!Zr.test(fe?fe.toLowerCase():"")}E=I}if(E)at(f,"complete"),at(f,"success");else{f.o=6;try{var G=Nr(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",Nl(f)}}finally{Ei(f)}}}}function Ei(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||at(f,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Nr(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Nr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),vi(_)}};function ln(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function wi(f){const _={};f=(f.g&&Nr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(k(f[I]))continue;var E=Qn(f[I]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=_[G]||[];_[G]=W,W.push(E)}De(_,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ei(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function cs(f){this.za=0,this.i=[],this.j=new Pt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ei("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ei("baseRetryDelayMs",5e3,f),this.Za=ei("retryDelaySeedMs",1e4,f),this.Ta=ei("forwardChannelMaxRetries",2,f),this.va=ei("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(f&&f.concurrentRequestLimit),this.Ba=new os,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=cs.prototype,n.ka=8,n.I=1,n.connect=function(f,_,E,I){je(0),this.W=f,this.H=_||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.J=Vu(this,null,this.W),ti(this)};function Dl(f){if(ro(f),f.I==3){var _=f.V++,E=Ut(f.J);if(rt(E,"SID",f.M),rt(E,"RID",_),rt(E,"TYPE","terminate"),ha(f,E),_=new on(f,f.j,_),_.M=2,_.A=oa(Ut(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=ju(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Gr(_)}Pu(f)}function us(f){f.g&&(Ol(f),f.g.cancel(),f.g=null)}function ro(f){us(f),f.v&&(u.clearTimeout(f.v),f.v=null),so(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function ti(f){if(!bl(f.h)&&!f.m){f.m=!0;var _=f.Ea;J||R(),ae||(J(),ae=!0),C.add(_,f),f.D=0}}function io(f,_){return Qr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Et(p(f.Ea,f,_),Lu(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new on(this,this.j,f);let W=this.o;if(this.U&&(W?(W=z(W),le(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Du(this,G,_),E=Ut(this.J),rt(E,"RID",f),rt(E,"CVER",22),this.G&&rt(E,"X-HTTP-Session-Id",this.G),ha(this,E),W&&(this.R?_="headers="+Rn(dr(W))+"&"+_:this.u&&ua(E,this.u,W)),El(this.h,G),this.Ra&&rt(E,"TYPE","init"),this.S?(rt(E,"$req",_),rt(E,"SID","null"),G.U=!0,$r(G,E,null)):$r(G,E,_),this.I=2}}else this.I==3&&(f?kl(this,f):this.i.length==0||bl(this.h)||kl(this))};function kl(f,_){var E;_?E=_.l:E=f.V++;const I=Ut(f.J);rt(I,"SID",f.M),rt(I,"RID",E),rt(I,"AID",f.K),ha(f,I),f.u&&f.o&&ua(I,f.u,f.o),E=new on(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Du(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),El(f.h,E),$r(E,I,_)}function ha(f,_){f.H&&Se(f.H,function(E,I){rt(_,I,E)}),f.l&&Se({},function(E,I){rt(_,I,E)})}function Du(f,_,E){E=Math.min(f.i.length,E);const I=f.l?p(f.l.Ka,f.l,f):null;e:{var G=f.i;let Me=-1;for(;;){const Nt=["count="+E];Me==-1?E>0?(Me=G[0].g,Nt.push("ofs="+Me)):Me=0:Nt.push("ofs="+Me);let Je=!0;for(let wt=0;wt<E;wt++){var W=G[wt].g;const hr=G[wt].map;if(W-=Me,W<0)Me=Math.max(0,G[wt].g-100),Je=!1;else try{W="req"+W+"_"||"";try{var fe=hr instanceof Map?hr:Object.entries(hr);for(const[ri,Dr]of fe){let kr=Dr;d(Dr)&&(kr=An(Dr)),Nt.push(W+ri+"="+encodeURIComponent(kr))}}catch(ri){throw Nt.push(W+"type="+encodeURIComponent("_badmap")),ri}}catch{I&&I(hr)}}if(Je){fe=Nt.join("&");break e}}fe=void 0}return f=f.i.splice(0,E),_.G=f,fe}function ku(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;J||R(),ae||(J(),ae=!0),C.add(_,f),f.A=0}}function ma(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Et(p(f.Da,f),Lu(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Et(p(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,je(10),us(this),Ou(this))};function Ol(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Ou(f){f.g=new on(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Ut(f.na);rt(_,"RID","rpc"),rt(_,"SID",f.M),rt(_,"AID",f.K),rt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&rt(_,"TO",f.ia),rt(_,"TYPE","xmlhttp"),ha(f,_),f.u&&f.o&&ua(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=oa(Ut(_)),E.u=null,E.R=!0,Xa(E,f)}n.Va=function(){this.C!=null&&(this.C=null,us(this),ma(this),je(19))};function so(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Mu(f,_){var E=null;if(f.g==_){so(f),Ol(f),f.g=null;var I=2}else if(Xr(f.h,_))E=_.G,wl(f.h,_),I=1;else return;if(f.I!=0){if(_.o)if(I==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var G=f.D;I=_i(),at(I,new bt(I,E)),ti(f)}else ku(f);else if(G=_.m,G==3||G==0&&_.X>0||!(I==1&&io(f,_)||I==2&&ma(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),G){case 1:ni(f,5);break;case 4:ni(f,10);break;case 3:ni(f,6);break;default:ni(f,2)}}}function Lu(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function ni(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),I=f.Ua;const G=!I;I=new Wn(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||tn(I,"https"),oa(I),G?Rr(I.toString(),E):Rl(I.toString(),E)}else je(2);f.I=0,f.l&&f.l.pa(_),Pu(f),ro(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function Pu(f){if(f.I=0,f.ja=[],f.l){const _=Tl(f.h);(_.length!=0||f.i.length!=0)&&(O(f.ja,_),O(f.ja,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.oa()}}function Vu(f,_,E){var I=E instanceof Wn?Ut(E):new Wn(E);if(I.g!="")_&&(I.g=_+"."+I.g),rs(I,I.u);else{var G=u.location;I=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const W=new Wn(null);I&&tn(W,I),_&&(W.g=_),G&&rs(W,G),E&&(W.h=E),I=W}return E=f.G,_=f.wa,E&&_&&rt(I,E,_),rt(I,"VER",f.ka),ha(f,I),I}function ju(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ot(new Jr({ab:E})):new ot(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}n=Uu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function fs(){}fs.prototype.g=function(f,_){return new Nn(f,_)};function Nn(f,_){vt.call(this),this.g=new cs(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!k(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!k(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ti(this)}v(Nn,vt),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){Dl(this.g)},Nn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=An(f),f=E);_.i.push(new jt(_.Ya++,f)),_.I==3&&ti(_)},Nn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,Nn.Z.N.call(this)};function zu(f){Yt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(zu,Yt);function Bu(){pn.call(this),this.status=1}v(Bu,pn);function Ti(f){this.g=f}v(Ti,Uu),Ti.prototype.ra=function(){at(this.g,"a")},Ti.prototype.qa=function(f){at(this.g,new zu(f))},Ti.prototype.pa=function(f){at(this.g,new Bu)},Ti.prototype.oa=function(){at(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,gS=function(){return new fs},mS=function(){return _i()},hS=_t,_p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vn.NO_ERROR=0,vn.TIMEOUT=8,vn.HTTP_ERROR=6,cd=vn,_n.COMPLETE="complete",dS=_n,aa.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Tc=aa,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,fS=ot}).apply(typeof Xf<"u"?Xf:typeof self<"u"?self:typeof window<"u"?window:{});const Q1="@firebase/firestore",X1="4.9.3";class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");let hl="12.7.0";const qa=new Xp("@firebase/firestore");function zo(){return qa.logLevel}function ge(n,...e){if(qa.logLevel<=Fe.DEBUG){const t=e.map(oy);qa.debug(`Firestore (${hl}): ${n}`,...t)}}function Yi(n,...e){if(qa.logLevel<=Fe.ERROR){const t=e.map(oy);qa.error(`Firestore (${hl}): ${n}`,...t)}}function Zo(n,...e){if(qa.logLevel<=Fe.WARN){const t=e.map(oy);qa.warn(`Firestore (${hl}): ${n}`,...t)}}function oy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Re(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,pS(n,i,t)}function pS(n,e,t){let i=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Yi(i),new Error(i)}function nt(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||pS(e,a,i)}function Oe(n,e){return n}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class yS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(wn.UNAUTHENTICATED)))}shutdown(){}}class jM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class UM{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fi)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(nt(typeof i.accessToken=="string",31837,{l:i}),new yS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class zM{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new zM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0,3512);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new W1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class ly{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=FM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function He(n,e){return n<e?-1:n>e?1:0}function bp(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),l=e.charAt(i);if(a!==l)return $g(a)===$g(l)?He(a,l):$g(a)?1:-1}return He(n.length,e.length)}const HM=55296,$M=57343;function $g(n){const e=n.charCodeAt(0);return e>=HM&&e<=$M}function el(n,e,t){return n.length===e.length&&n.every(((i,a)=>t(i,e[a])))}const J1="__name__";class li{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Re(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=li.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return He(e.length,t.length)}static compareSegments(e,t){const i=li.isNumericId(e),a=li.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?li.extractNumericId(e).compare(li.extractNumericId(t)):bp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class mt extends li{construct(e,t,i){return new mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new mt(t)}static emptyPath(){return new mt([])}}const GM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends li{construct(e,t,i){return new mn(e,t,i)}static isValidIdentifier(e){return GM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J1}static keyField(){return new mn([J1])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(l(),a++)}if(l(),u)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(t)}static emptyPath(){return new mn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(mt.fromString(e))}static fromName(e){return new we(mt.fromString(e).popFirst(5))}static empty(){return new we(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new mt(e.slice()))}}function vS(n,e,t){if(!t)throw new me(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KM(n,e,t,i){if(e===!0&&i===!0)throw new me(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z1(n){if(!we.isDocumentKey(n))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eE(n){if(we.isDocumentKey(n))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _S(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ah(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ah(n);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Gt(n,e){const t={typeString:n};return e&&(t.value=e),t}function gu(n,e){if(!_S(n))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new me(ie.INVALID_ARGUMENT,t);return!0}const tE=-62135596800,nE=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*nE);return new yt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tE)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nE}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Gt("string",yt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new yt(0,0))}static max(){return new Ne(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gc=-1;function YM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(i===1e9?new yt(t+1,0):new yt(t,i));return new Ks(a,we.empty(),e)}function QM(n){return new Ks(n.readTime,n.key,Gc)}class Ks{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ks(Ne.min(),we.empty(),Gc)}static max(){return new Ks(Ne.max(),we.empty(),Gc)}}function XM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}const WM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ml(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==WM)throw n;ge("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,i)=>{t(e)}))}static reject(e){return new se(((t,i)=>{i(e)}))}static waitFor(e){return new se(((t,i)=>{let a=0,l=0,u=!1;e.forEach((d=>{++a,d.next((()=>{++l,u&&l===a&&t()}),(m=>i(m)))})),u=!0,l===a&&t()}))}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next((a=>a?se.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new se(((i,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next((y=>{u[p]=y,++d,d===l&&i(u)}),(y=>a(y)))}}))}static doWhile(e,t){return new se(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function ZM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gl(n){return n.name==="IndexedDbTransactionError"}class oh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oh.ce=-1;const cy=-1;function lh(n){return n==null}function Od(n){return n===0&&1/n==-1/0}function e6(n){return typeof n=="number"&&Number.isInteger(n)&&!Od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const bS="";function t6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rE(e)),e=n6(n.get(t),e);return rE(e)}function n6(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case bS:t+="";break;default:t+=l}}return t}function rE(n){return n+bS+""}function iE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ta(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ES(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class xt{constructor(e,t){this.comparator=e,this.root=t||hn.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}}class Wf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new hn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sE(this.data.getIterator())}getIteratorFrom(e){return new sE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class sE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class sr{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new sr([])}unionWith(e){let t=new Wt(mn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class wS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new wS("Invalid base64 string: "+l):l}})(e);return new gn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const r6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(n){if(nt(!!n,39018),typeof n=="string"){let e=0;const t=r6.exec(n);if(nt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qs(n){return typeof n=="string"?gn.fromBase64String(n):gn.fromUint8Array(n)}const TS="server_timestamp",SS="__type__",xS="__previous_value__",AS="__local_write_time__";function uy(n){return(n?.mapValue?.fields||{})[SS]?.stringValue===TS}function ch(n){const e=n.mapValue.fields[xS];return uy(e)?ch(e):e}function Kc(n){const e=Ys(n.mapValue.fields[AS].timestampValue);return new yt(e.seconds,e.nanos)}class i6{constructor(e,t,i,a,l,u,d,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Md="(default)";class Yc{constructor(e,t){this.projectId=e,this.database=t||Md}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database===Md}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}const CS="__type__",s6="__max__",Jf={mapValue:{}},RS="__vector__",Ld="value";function Xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uy(n)?4:o6(n)?9007199254740991:a6(n)?10:11:Re(28295,{value:n})}function pi(n,e){if(n===e)return!0;const t=Xs(n);if(t!==Xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kc(n).isEqual(Kc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ys(a.timestampValue),d=Ys(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Qs(a.bytesValue).isEqual(Qs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ot(a.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(a.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ot(a.integerValue)===Ot(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ot(a.doubleValue),d=Ot(l.doubleValue);return u===d?Od(u)===Od(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return el(n.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(iE(u)!==iE(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!pi(u[m],d[m])))return!1;return!0})(n,e);default:return Re(52216,{left:n})}}function Qc(n,e){return(n.values||[]).find((t=>pi(t,e)))!==void 0}function tl(n,e){if(n===e)return 0;const t=Xs(n),i=Xs(e);if(t!==i)return He(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Ot(l.integerValue||l.doubleValue),m=Ot(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,e);case 3:return aE(n.timestampValue,e.timestampValue);case 4:return aE(Kc(n),Kc(e));case 5:return bp(n.stringValue,e.stringValue);case 6:return(function(l,u){const d=Qs(l),m=Qs(u);return d.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),m=u.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=He(d[p],m[p]);if(y!==0)return y}return He(d.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=He(Ot(l.latitude),Ot(u.latitude));return d!==0?d:He(Ot(l.longitude),Ot(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return oE(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const d=l.fields||{},m=u.fields||{},p=d[Ld]?.arrayValue,y=m[Ld]?.arrayValue,v=He(p?.values?.length||0,y?.values?.length||0);return v!==0?v:oE(p,y)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Jf.mapValue&&u===Jf.mapValue)return 0;if(l===Jf.mapValue)return 1;if(u===Jf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const T=bp(m[v],y[v]);if(T!==0)return T;const x=tl(d[m[v]],p[y[v]]);if(x!==0)return x}return He(m.length,y.length)})(n.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function aE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=Ys(n),i=Ys(e),a=He(t.seconds,i.seconds);return a!==0?a:He(t.nanos,i.nanos)}function oE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=tl(t[a],i[a]);if(l)return l}return He(t.length,i.length)}function nl(n){return Ep(n)}function Ep(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Ys(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Qs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Ep(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Ep(t.fields[u])}`;return a+"}"})(n.mapValue):Re(61005,{value:n})}function ud(n){switch(Xs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ch(n);return e?16+ud(e):16;case 5:return 2*n.stringValue.length;case 6:return Qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+ud(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return ta(i.fields,((l,u)=>{a+=l.length+ud(u)})),a})(n.mapValue);default:throw Re(13486,{value:n})}}function lE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wp(n){return!!n&&"integerValue"in n}function fy(n){return!!n&&"arrayValue"in n}function cE(n){return!!n&&"nullValue"in n}function uE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fd(n){return!!n&&"mapValue"in n}function a6(n){return(n?.mapValue?.fields||{})[CS]?.stringValue===RS}function Mc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ta(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Mc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mc(n.arrayValue.values[t]);return e}return{...n}}function o6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===s6}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!fd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(t)}setAll(e){let t=mn.emptyPath(),i={},a=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}u?i[d.lastSegment()]=Mc(u):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());fd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];fd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ta(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Hn(Mc(this.value))}}function IS(n){const e=[];return ta(n.fields,((t,i)=>{const a=new mn([t]);if(fd(i)){const l=IS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new sr(e)}class Tn{constructor(e,t,i,a,l,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Tn(e,0,Ne.min(),Ne.min(),Ne.min(),Hn.empty(),0)}static newFoundDocument(e,t,i,a){return new Tn(e,1,t,Ne.min(),i,a,0)}static newNoDocument(e,t){return new Tn(e,2,t,Ne.min(),Ne.min(),Hn.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Ne.min(),Ne.min(),Hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pd{constructor(e,t){this.position=e,this.inclusive=t}}function fE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?i=we.comparator(we.fromName(u.referenceValue),t.key):i=tl(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function dE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pi(n.position[t],e.position[t]))return!1;return!0}class Vd{constructor(e,t="asc"){this.field=e,this.dir=t}}function l6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class NS{}class $t extends NS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new u6(e,t,i):t==="array-contains"?new h6(e,i):t==="in"?new m6(e,i):t==="not-in"?new g6(e,i):t==="array-contains-any"?new p6(e,i):new $t(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new f6(e,i):new d6(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(tl(t,this.value)):t!==null&&Xs(this.value)===Xs(t)&&this.matchesComparison(tl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends NS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Fr(e,t)}matches(e){return DS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DS(n){return n.op==="and"}function kS(n){return c6(n)&&DS(n)}function c6(n){for(const e of n.filters)if(e instanceof Fr)return!1;return!0}function Tp(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+nl(n.value);if(kS(n))return n.filters.map((e=>Tp(e))).join(",");{const e=n.filters.map((t=>Tp(t))).join(",");return`${n.op}(${e})`}}function OS(n,e){return n instanceof $t?(function(i,a){return a instanceof $t&&i.op===a.op&&i.field.isEqual(a.field)&&pi(i.value,a.value)})(n,e):n instanceof Fr?(function(i,a){return a instanceof Fr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,d)=>l&&OS(u,a.filters[d])),!0):!1})(n,e):void Re(19439)}function MS(n){return n instanceof $t?(function(t){return`${t.field.canonicalString()} ${t.op} ${nl(t.value)}`})(n):n instanceof Fr?(function(t){return t.op.toString()+" {"+t.getFilters().map(MS).join(" ,")+"}"})(n):"Filter"}class u6 extends $t{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class f6 extends $t{constructor(e,t){super(e,"in",t),this.keys=LS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class d6 extends $t{constructor(e,t){super(e,"not-in",t),this.keys=LS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function LS(n,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class h6 extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fy(t)&&Qc(t.arrayValue,this.value)}}class m6 extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Qc(this.value.arrayValue,t)}}class g6 extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qc(this.value.arrayValue,t)}}class p6 extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Qc(this.value.arrayValue,i)))}}class y6{constructor(e,t=null,i=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function hE(n,e=null,t=[],i=[],a=null,l=null,u=null){return new y6(n,e,t,i,a,l,u)}function dy(n){const e=Oe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Tp(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>nl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>nl(i))).join(",")),e.Te=t}return e.Te}function hy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!l6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dE(n.startAt,e.startAt)&&dE(n.endAt,e.endAt)}function Sp(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class pu{constructor(e,t=null,i=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function v6(n,e,t,i,a,l,u,d){return new pu(n,e,t,i,a,l,u,d)}function my(n){return new pu(n)}function mE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PS(n){return n.collectionGroup!==null}function Lc(n){const e=Oe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Wt(mn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Vd(l,i))})),t.has(mn.keyField().canonicalString())||e.Ie.push(new Vd(mn.keyField(),i))}return e.Ie}function di(n){const e=Oe(n);return e.Ee||(e.Ee=_6(e,Lc(n))),e.Ee}function _6(n,e){if(n.limitType==="F")return hE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Vd(a.field,l)}));const t=n.endAt?new Pd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pd(n.startAt.position,n.startAt.inclusive):null;return hE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function xp(n,e){const t=n.filters.concat([e]);return new pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ap(n,e,t){return new pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uh(n,e){return hy(di(n),di(e))&&n.limitType===e.limitType}function VS(n){return`${dy(di(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>MS(a))).join(", ")}]`),lh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>nl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>nl(a))).join(",")),`Target(${i})`})(di(n))}; limitType=${n.limitType})`}function fh(n,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,a){for(const l of Lc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(i,a){return!(i.startAt&&!(function(u,d,m){const p=fE(u,d,m);return u.inclusive?p<=0:p<0})(i.startAt,Lc(i),a)||i.endAt&&!(function(u,d,m){const p=fE(u,d,m);return u.inclusive?p>=0:p>0})(i.endAt,Lc(i),a))})(n,e)}function b6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jS(n){return(e,t)=>{let i=!1;for(const a of Lc(n)){const l=E6(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function E6(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):(function(l,u,d){const m=u.data.field(l),p=d.data.field(l);return m!==null&&p!==null?tl(m,p):Re(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:n.dir})}}class Ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return ES(this.inner)}size(){return this.innerSize}}const w6=new xt(we.comparator);function Qi(){return w6}const US=new xt(we.comparator);function Sc(...n){let e=US;for(const t of n)e=e.insert(t.key,t);return e}function zS(n){let e=US;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ka(){return Pc()}function BS(){return Pc()}function Pc(){return new Ha((n=>n.toString()),((n,e)=>n.isEqual(e)))}const T6=new xt(we.comparator),S6=new Wt(we.comparator);function $e(...n){let e=S6;for(const t of n)e=e.add(t);return e}const x6=new Wt(He);function A6(){return x6}function gy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function qS(n){return{integerValue:""+n}}function C6(n,e){return e6(e)?qS(e):gy(n,e)}class dh{constructor(){this._=void 0}}function R6(n,e,t){return n instanceof Xc?(function(a,l){const u={fields:{[SS]:{stringValue:TS},[AS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&uy(l)&&(l=ch(l)),l&&(u.fields[xS]=l),{mapValue:u}})(t,e):n instanceof Wc?HS(n,e):n instanceof Jc?$S(n,e):(function(a,l){const u=FS(a,l),d=gE(u)+gE(a.Ae);return wp(u)&&wp(a.Ae)?qS(d):gy(a.serializer,d)})(n,e)}function I6(n,e,t){return n instanceof Wc?HS(n,e):n instanceof Jc?$S(n,e):t}function FS(n,e){return n instanceof jd?(function(i){return wp(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Xc extends dh{}class Wc extends dh{constructor(e){super(),this.elements=e}}function HS(n,e){const t=GS(e);for(const i of n.elements)t.some((a=>pi(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Jc extends dh{constructor(e){super(),this.elements=e}}function $S(n,e){let t=GS(e);for(const i of n.elements)t=t.filter((a=>!pi(a,i)));return{arrayValue:{values:t}}}class jd extends dh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function gE(n){return Ot(n.integerValue||n.doubleValue)}function GS(n){return fy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class N6{constructor(e,t){this.field=e,this.transform=t}}function D6(n,e){return n.field.isEqual(e.field)&&(function(i,a){return i instanceof Wc&&a instanceof Wc||i instanceof Jc&&a instanceof Jc?el(i.elements,a.elements,pi):i instanceof jd&&a instanceof jd?pi(i.Ae,a.Ae):i instanceof Xc&&a instanceof Xc})(n.transform,e.transform)}class k6{constructor(e,t){this.version=e,this.transformResults=t}}class xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hh{}function KS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new py(n.key,xr.none()):new yu(n.key,n.data,xr.none());{const t=n.data,i=Hn.empty();let a=new Wt(mn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new na(n.key,i,new sr(a.toArray()),xr.none())}}function O6(n,e,t){n instanceof yu?(function(a,l,u){const d=a.value.clone(),m=yE(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof na?(function(a,l,u){if(!dd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=yE(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(YS(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Vc(n,e,t,i){return n instanceof yu?(function(l,u,d,m){if(!dd(l.precondition,u))return d;const p=l.value.clone(),y=vE(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,i):n instanceof na?(function(l,u,d,m){if(!dd(l.precondition,u))return d;const p=vE(l.fieldTransforms,m,u),y=u.data;return y.setAll(YS(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(l,u,d){return dd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function M6(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=FS(i.transform,a||null);l!=null&&(t===null&&(t=Hn.empty()),t.set(i.field,l))}return t||null}function pE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&el(i,a,((l,u)=>D6(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yu extends hh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class na extends hh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function YS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function yE(n,e,t){const i=new Map;nt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,d=e.data.field(l.field);i.set(l.field,I6(u,d,t[a]))}return i}function vE(n,e,t){const i=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);i.set(a.field,R6(l,u,e))}return i}class py extends hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L6 extends hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class P6{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&O6(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Vc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Vc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=BS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=t.has(a.key)?null:d;const m=KS(u,d);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$e())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((t,i)=>pE(t,i)))&&el(this.baseMutations,e.baseMutations,((t,i)=>pE(t,i)))}}class yy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){nt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return T6})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new yy(e,t,i,a)}}class V6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class j6{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ht,Qe;function U6(n){switch(n){case ie.OK:return Re(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function QS(n){if(n===void 0)return Yi("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Ht.OK:return ie.OK;case Ht.CANCELLED:return ie.CANCELLED;case Ht.UNKNOWN:return ie.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ie.INTERNAL;case Ht.UNAVAILABLE:return ie.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ie.NOT_FOUND;case Ht.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ht.ABORTED:return ie.ABORTED;case Ht.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ht.DATA_LOSS:return ie.DATA_LOSS;default:return Re(39323,{code:n})}}(Qe=Ht||(Ht={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function z6(){return new TextEncoder}const B6=new Hs([4294967295,4294967295],0);function _E(n){const e=z6().encode(n),t=new uS;return t.update(e),new Uint8Array(t.digest())}function bE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Hs([t,i],0),new Hs([a,l],0)]}class vy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new xc(`Invalid padding: ${t}`);if(i<0)throw new xc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new xc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Hs.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Hs.fromNumber(i)));return a.compare(B6)===1&&(a=new Hs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=_E(e),[i,a]=bE(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new vy(l,a,t);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=_E(e),[i,a]=bE(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new mh(Ne.min(),a,new xt(He),Qi(),$e())}}class vu{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new vu(i,t,$e(),$e(),$e())}}class hd{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class XS{constructor(e,t){this.targetId=e,this.Ce=t}}class WS{constructor(e,t,i=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class EE{constructor(){this.ve=0,this.Fe=wE(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),t=$e(),i=$e();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}})),new vu(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=wE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class q6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=Zf(),this.He=Zf(),this.Ye=new xt(He)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Sp(l))if(i===0){const u=new we(l.path);this.et(t,u,Tn.newNoDocument(u,Ne.min()))}else nt(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let u,d;try{u=Qs(i).toUint8Array()}catch(m){if(m instanceof wS)return Zo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new vy(u,a,l)}catch(m){return Zo(m instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const d=this.ot(u);if(d){if(l.current&&Sp(d.target)){const m=new we(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Tn.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let i=$e();this.He.forEach(((l,u)=>{let d=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new mh(e,t,this.Ye,this.je,i);return this.je=Qi(),this.Je=Zf(),this.He=Zf(),this.Ye=new xt(He),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new EE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Wt(He),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Wt(He),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new EE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Zf(){return new xt(we.comparator)}function wE(){return new xt(we.comparator)}const F6={asc:"ASCENDING",desc:"DESCENDING"},H6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$6={and:"AND",or:"OR"};class G6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cp(n,e){return n.useProto3Json||lh(e)?e:{value:e}}function Ud(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function K6(n,e){return Ud(n,e.toTimestamp())}function hi(n){return nt(!!n,49232),Ne.fromTimestamp((function(t){const i=Ys(t);return new yt(i.seconds,i.nanos)})(n))}function _y(n,e){return Rp(n,e).canonicalString()}function Rp(n,e){const t=(function(a){return new mt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ZS(n){const e=mt.fromString(n);return nt(ix(e),10190,{key:e.toString()}),e}function Ip(n,e){return _y(n.databaseId,e.path)}function Gg(n,e){const t=ZS(e);if(t.get(1)!==n.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(tx(t))}function ex(n,e){return _y(n.databaseId,e)}function Y6(n){const e=ZS(n);return e.length===4?mt.emptyPath():tx(e)}function Np(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tx(n){return nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function TE(n,e,t){return{name:Ip(n,e),fields:t.value.mapValue.fields}}function Q6(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(nt(y===void 0||typeof y=="string",58123),gn.fromBase64String(y||"")):(nt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),gn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const y=p.code===void 0?ie.UNKNOWN:QS(p.code);return new me(y,p.message||"")})(u);t=new WS(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Gg(n,i.document.name),l=hi(i.document.updateTime),u=i.document.createTime?hi(i.document.createTime):Ne.min(),d=new Hn({mapValue:{fields:i.document.fields}}),m=Tn.newFoundDocument(a,l,u,d),p=i.targetIds||[],y=i.removedTargetIds||[];t=new hd(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Gg(n,i.document),l=i.readTime?hi(i.readTime):Ne.min(),u=Tn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new hd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Gg(n,i.document),l=i.removedTargetIds||[];t=new hd([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new j6(a,l),d=i.targetId;t=new XS(d,u)}}return t}function X6(n,e){let t;if(e instanceof yu)t={update:TE(n,e.key,e.value)};else if(e instanceof py)t={delete:Ip(n,e.key)};else if(e instanceof na)t={update:TE(n,e.key,e.data),updateMask:sL(e.fieldMask)};else{if(!(e instanceof L6))return Re(16599,{Vt:e.type});t={verify:Ip(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const d=u.transform;if(d instanceof Xc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Jc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof jd)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Re(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:K6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(n,e.precondition)),t}function W6(n,e){return n&&n.length>0?(nt(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?hi(a.updateTime):hi(l);return u.isEqual(Ne.min())&&(u=hi(l)),new k6(u,a.transformResults||[])})(t,e)))):[]}function J6(n,e){return{documents:[ex(n,e.path)]}}function Z6(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ex(n,a);const l=(function(p){if(p.length!==0)return rx(Fr.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:qo(T.field),direction:nL(T.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Cp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function eL(n){let e=Y6(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){nt(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(v){const T=nx(v);return T instanceof Fr&&kS(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((T=>(function(O){return new Vd(Fo(O.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(v){let T;return T=typeof v=="object"?v.value:v,lh(T)?null:T})(t.limit));let m=null;t.startAt&&(m=(function(v){const T=!!v.before,x=v.values||[];return new Pd(x,T)})(t.startAt));let p=null;return t.endAt&&(p=(function(v){const T=!v.before,x=v.values||[];return new Pd(x,T)})(t.endAt)),v6(e,a,u,l,d,"F",m,p)}function tL(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Fo(t.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Fo(t.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Fo(t.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fo(t.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(n):n.fieldFilter!==void 0?(function(t){return $t.create(Fo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Fr.create(t.compositeFilter.filters.map((i=>nx(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(n):Re(30097,{filter:n})}function nL(n){return F6[n]}function rL(n){return H6[n]}function iL(n){return $6[n]}function qo(n){return{fieldPath:n.canonicalString()}}function Fo(n){return mn.fromServerFormat(n.fieldPath)}function rx(n){return n instanceof $t?(function(t){if(t.op==="=="){if(uE(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NAN"}};if(cE(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uE(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NAN"}};if(cE(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(t.field),op:rL(t.op),value:t.value}}})(n):n instanceof Fr?(function(t){const i=t.getFilters().map((a=>rx(a)));return i.length===1?i[0]:{compositeFilter:{op:iL(t.op),filters:i}}})(n):Re(54877,{filter:n})}function sL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ix(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class zs{constructor(e,t,i,a,l=Ne.min(),u=Ne.min(),d=gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aL{constructor(e){this.yt=e}}function oL(n){const e=eL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ap(e,e.limit,"L"):e}class lL{constructor(){this.Cn=new cL}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Ks.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class cL{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Wt(mt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Wt(mt.comparator)).toArray()}}const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sx=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(sx,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rl(0)}static cr(){return new rl(-1)}}const xE="LruGarbageCollector",uL=1048576;function AE([n,e],[t,i]){const a=He(n,t);return a===0?He(e,i):a}class fL{constructor(e){this.Ir=e,this.buffer=new Wt(AE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();AE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dL{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(xE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gl(t)?ge(xE,"Ignoring IndexedDB error during garbage collection: ",t):await ml(t)}await this.Vr(3e5)}))}}class hL{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(oh.ce);const i=new fL(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(SE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,u,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,d=Date.now(),this.removeTargets(e,i,t)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(p=Date.now(),zo()<=Fe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function mL(n,e){return new hL(n,e)}class gL{constructor(){this.changes=new Ha((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yL{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Vc(i.mutation,a,sr.empty(),yt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,$e()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=$e()){const a=ka();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let u=Sc();return l.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=ka();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,$e())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,i,a){let l=Qi();const u=Pc(),d=(function(){return Pc()})();return t.forEach(((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof na)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Vc(y.mutation,p,y.mutation.getFieldMask(),yt.now())):u.set(p.key,sr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),t.forEach(((p,y)=>d.set(p,new pL(y,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Pc();let a=new xt(((u,d)=>u-d)),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((m=>{const p=t.get(m);if(p===null)return;let y=i.get(m)||sr.empty();y=d.applyToLocalView(p,y),i.set(m,y);const v=(a.get(d.batchId)||$e()).add(m);a=a.insert(d.batchId,v)}))})).next((()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,v=BS();y.forEach((T=>{if(!l.has(T)){const x=KS(t.get(T),i.get(T));x!==null&&v.set(T,x),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return se.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):se.resolve(ka());let d=Gc,m=l;return u.next((p=>se.forEach(p,((y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{m=m.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,$e()))).next((y=>({batchId:d,changes:zS(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((i=>{let a=Sc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let u=Sc();return this.indexManager.getCollectionParents(e,l).next((d=>se.forEach(d,(m=>{const p=(function(v,T){return new pu(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Tn.newInvalidDocument(y)))}));let d=Sc();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Vc(y.mutation,p,sr.empty(),yt.now()),fh(t,p)&&(d=d.insert(m,p))})),d}))}}class vL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:hi(a.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:oL(a.bundledQuery),readTime:hi(a.readTime)}})(t)),se.resolve()}}class _L{constructor(){this.overlays=new xt(we.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ka();return se.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const a=ka(),l=t.length+1,u=new we(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new xt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=ka(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ka(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return se.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new V6(t,i));let l=this.qr.get(t);l===void 0&&(l=$e(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}class bL{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class by{constructor(){this.Qr=new Wt(rn.$r),this.Ur=new Wt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new rn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new rn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new we(new mt([])),i=new rn(t,e),a=new rn(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new mt([])),i=new rn(t,e),a=new rn(t,e+1);let l=$e();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new rn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||He(e.Yr,t.Yr)}static Kr(e,t){return He(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}class EL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(rn.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new P6(l,t,i,a);this.mutationQueue.push(u);for(const d of a)this.Zr=this.Zr.add(new rn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?cy:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new rn(t,0),a=new rn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const d=this.Xr(u.Yr);l.push(d)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Wt(He);return t.forEach((a=>{const l=new rn(a,0),u=new rn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(d=>{i=i.add(d.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const u=new rn(new we(l),0);let d=new Wt(He);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),u),se.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){nt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(t.mutations,(a=>{const l=new rn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new rn(t,0),a=this.Zr.firstAfterOrEqual(i);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wL{constructor(e){this.ri=e,this.docs=(function(){return new xt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let i=Qi();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Tn.newInvalidDocument(a))})),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Qi();const u=t.path,d=new we(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||XM(QM(y),i)<=0||(a.has(y.key)||fh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Re(9500)}ii(e,t){return se.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new TL(this)}getSize(e){return se.resolve(this.size)}}class TL extends gL{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class SL{constructor(e){this.persistence=e,this.si=new Ha((t=>dy(t)),hy),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new by,this.targetCount=0,this.ai=rl.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new rl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}class ax{constructor(e,t){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new bL,this.referenceDelegate=e(this),this.Pi=new SL(this),this.indexManager=new lL,this.remoteDocumentCache=(function(a){return new wL(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new aL(t),this.Ii=new vL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _L,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new EL(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const a=new xL(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class xL extends JM{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.Ri=new by,this.Vi=null}static mi(e){return new Ey(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const a=we.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Ne.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class zd{constructor(e,t){this.persistence=e,this.pi=new Ha((i=>t6(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=mL(this,t)}static mi(e,t){return new zd(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?se.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((d=>{d||(i++,l.removeEntry(u,Ne.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ud(e.data.value)),t}br(e,t,i){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return se.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=$e(),a=$e();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new wy(e,t.fromCache,i,a)}}class AL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XO()?8:ZM(Sn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new AL;return this.Ss(e,t,u).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(zo()<=Fe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(zo()<=Fe.DEBUG&&ge("QueryEngine","Query:",Bo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(zo()<=Fe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(t))):se.resolve())}ys(e,t){if(mE(t))return se.resolve(null);let i=di(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Ap(t,null,"F"),i=di(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=$e(...l);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.Ds(t,d);return this.Cs(t,p,u,m.readTime)?this.ys(e,Ap(t,null,"F")):this.vs(e,p,t,m)}))))})))))}ws(e,t,i,a){return mE(t)||a.isEqual(Ne.min())?se.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,i,a)?se.resolve(null):(zo()<=Fe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bo(t)),this.vs(e,u,t,YM(a,Gc)).next((d=>d)))}))}Ds(e,t){let i=new Wt(jS(e));return t.forEach(((a,l)=>{fh(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return zo()<=Fe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ks.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Ty="LocalStore",RL=3e8;class IL{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new xt(He),this.xs=new Ha((l=>dy(l)),hy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function NL(n,e,t,i){return new IL(n,e,t,i)}async function ox(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],d=[];let m=$e();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function DL(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const v=p.batch,T=v.keys();let x=se.resolve();return T.forEach((O=>{x=x.next((()=>y.getEntry(m,O))).next((M=>{const L=p.docVersions.get(O);nt(L!==null,48541),M.version.compareTo(L)<0&&(v.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),y.addEntry(M)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(m,v)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=$e();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function lx(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function kL(n,e){const t=Oe(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;d.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,y.addedDocuments,v))));let x=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(gn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,i)),a=a.insert(v,x),(function(M,L,H){return M.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=RL?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(T,x,y)&&d.push(t.Pi.updateTargetData(l,x))}));let m=Qi(),p=$e();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(OL(l,u,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!i.isEqual(Ne.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(y)}return se.waitFor(d).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function OL(n,e,t){let i=$e(),a=$e();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let u=Qi();return t.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):ge(Ty,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function ML(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=cy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function LL(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,se.resolve(a)):t.Pi.allocateTargetId(i).next((u=>(a=new zs(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Dp(n,e,t){const i=Oe(n),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!gl(u))throw u;ge(Ty,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function CE(n,e,t){const i=Oe(n);let a=Ne.min(),l=$e();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const v=Oe(m),T=v.xs.get(y);return T!==void 0?se.resolve(v.Ms.get(T)):v.Pi.getTargetData(p,y)})(i,u,di(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,d.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?a:Ne.min(),t?l:$e()))).next((d=>(PL(i,b6(e),d),{documents:d,Qs:l})))))}function PL(n,e,t){let i=n.Os.get(e)||Ne.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class RE{constructor(){this.activeTargetIds=A6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VL{constructor(){this.Mo=new RE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new RE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jL{Oo(e){}shutdown(){}}const IE="ConnectivityMonitor";class NE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(IE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(IE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ed=null;function kp(){return ed===null?ed=(function(){return 268435456+Math.round(2147483648*Math.random())})():ed++,"0x"+ed.toString(16)}const Kg="RestConnection",UL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Md?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const u=kp(),d=this.zo(e,t.toUriEncodedString());ge(Kg,`Sending RPC '${e}' ${u}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=ul(p);return this.Jo(e,d,m,i,y).then((v=>(ge(Kg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Zo(Kg,`RPC '${e}' ${u} failed with error: `,v,"url: ",d,"request:",i),v}))}Ho(e,t,i,a,l,u){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=UL[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class BL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const En="WebChannelConnection";class qL extends zL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const u=kp();return new Promise(((d,m)=>{const p=new fS;p.setWithCredentials(!0),p.listenOnce(dS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case cd.NO_ERROR:const v=p.getResponseJson();ge(En,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),d(v);break;case cd.TIMEOUT:ge(En,`RPC '${e}' ${u} timed out`),m(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const T=p.getStatus();if(ge(En,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const O=x?.error;if(O&&O.status&&O.message){const M=(function(H){const V=H.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(V)>=0?V:ie.UNKNOWN})(O.status);m(new me(M,O.message))}else m(new me(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(En,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);ge(En,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",y,i,15)}))}T_(e,t,i){const a=kp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=gS(),d=mS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const y=l.join("");ge(En,`Creating RPC '${e}' stream ${a}: ${y}`,m);const v=u.createWebChannel(y,m);this.I_(v);let T=!1,x=!1;const O=new BL({Yo:L=>{x?ge(En,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(T||(ge(En,`Opening RPC '${e}' stream ${a} transport.`),v.open(),T=!0),ge(En,`RPC '${e}' stream ${a} sending:`,L),v.send(L))},Zo:()=>v.close()}),M=(L,H,V)=>{L.listen(H,(F=>{try{V(F)}catch(B){setTimeout((()=>{throw B}),0)}}))};return M(v,Tc.EventType.OPEN,(()=>{x||(ge(En,`RPC '${e}' stream ${a} transport opened.`),O.o_())})),M(v,Tc.EventType.CLOSE,(()=>{x||(x=!0,ge(En,`RPC '${e}' stream ${a} transport closed`),O.a_(),this.E_(v))})),M(v,Tc.EventType.ERROR,(L=>{x||(x=!0,Zo(En,`RPC '${e}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),O.a_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),M(v,Tc.EventType.MESSAGE,(L=>{if(!x){const H=L.data[0];nt(!!H,16349);const V=H,F=V?.error||V[0]?.error;if(F){ge(En,`RPC '${e}' stream ${a} received error:`,F);const B=F.status;let J=(function(R){const N=Ht[R];if(N!==void 0)return QS(N)})(B),ae=F.message;J===void 0&&(J=ie.INTERNAL,ae="Unknown error status: "+B+" with message "+F.message),x=!0,O.a_(new me(J,ae)),v.close()}else ge(En,`RPC '${e}' stream ${a} received:`,H),O.u_(H)}})),M(d,hS.STAT_EVENT,(L=>{L.stat===_p.PROXY?ge(En,`RPC '${e}' stream ${a} detected buffering proxy`):L.stat===_p.NOPROXY&&ge(En,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Yg(){return typeof document<"u"?document:null}function gh(n){return new G6(n,!0)}class cx{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const DE="PersistentStream";class ux{constructor(e,t,i,a,l,u,d,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Yi(t.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new me(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(DE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ge(DE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FL extends ux{constructor(e,t,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Q6(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ne.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?hi(u.readTime):Ne.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Np(this.serializer),t.addTarget=(function(l,u){let d;const m=u.target;if(d=Sp(m)?{documents:J6(l,m)}:{query:Z6(l,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=JS(l,u.resumeToken);const p=Cp(l,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ne.min())>0){d.readTime=Ud(l,u.snapshotVersion.toTimestamp());const p=Cp(l,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=tL(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Np(this.serializer),t.removeTarget=e,this.q_(t)}}class HL extends ux{constructor(e,t,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=W6(e.writeResults,e.commitTime),i=hi(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Np(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>X6(this.serializer,i)))};this.q_(t)}}class $L{}class GL extends $L{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Rp(t,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Rp(t,i),a,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class KL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fa="RemoteStore";class YL{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{$a(this)&&(ge(Fa,"Restarting streams for network reachability change."),await(async function(m){const p=Oe(m);p.Ea.add(4),await _u(p),p.Ra.set("Unknown"),p.Ea.delete(4),await ph(p)})(this))}))})),this.Ra=new KL(i,a)}}async function ph(n){if($a(n))for(const e of n.da)await e(!0)}async function _u(n){for(const e of n.da)await e(!1)}function fx(n,e){const t=Oe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Cy(t)?Ay(t):pl(t).O_()&&xy(t,e))}function Sy(n,e){const t=Oe(n),i=pl(t);t.Ia.delete(e),i.O_()&&dx(t,e),t.Ia.size===0&&(i.O_()?i.L_():$a(t)&&t.Ra.set("Unknown"))}function xy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pl(n).Y_(e)}function dx(n,e){n.Va.Ue(e),pl(n).Z_(e)}function Ay(n){n.Va=new q6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),pl(n).start(),n.Ra.ua()}function Cy(n){return $a(n)&&!pl(n).x_()&&n.Ia.size>0}function $a(n){return Oe(n).Ea.size===0}function hx(n){n.Va=void 0}async function QL(n){n.Ra.set("Online")}async function XL(n){n.Ia.forEach(((e,t)=>{xy(n,e)}))}async function WL(n,e){hx(n),Cy(n)?(n.Ra.ha(e),Ay(n)):n.Ra.set("Unknown")}async function JL(n,e,t){if(n.Ra.set("Online"),e instanceof WS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ia.delete(d),a.Va.removeTarget(d))})(n,e)}catch(i){ge(Fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Bd(n,i)}else if(e instanceof hd?n.Va.Ze(e):e instanceof XS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ne.min()))try{const i=await lx(n.localStore);t.compareTo(i)>=0&&await(function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(gn.EMPTY_BYTE_STRING,y.snapshotVersion)),dx(l,m);const v=new zs(y.target,m,p,y.sequenceNumber);xy(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){ge(Fa,"Failed to raise snapshot:",i),await Bd(n,i)}}async function Bd(n,e,t){if(!gl(e))throw e;n.Ea.add(1),await _u(n),n.Ra.set("Offline"),t||(t=()=>lx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ge(Fa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ph(n)}))}function mx(n,e){return e().catch((t=>Bd(n,t,e)))}async function yh(n){const e=Oe(n),t=Ws(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cy;for(;ZL(e);)try{const a=await ML(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,eP(e,a)}catch(a){await Bd(e,a)}gx(e)&&px(e)}function ZL(n){return $a(n)&&n.Ta.length<10}function eP(n,e){n.Ta.push(e);const t=Ws(n);t.O_()&&t.X_&&t.ea(e.mutations)}function gx(n){return $a(n)&&!Ws(n).x_()&&n.Ta.length>0}function px(n){Ws(n).start()}async function tP(n){Ws(n).ra()}async function nP(n){const e=Ws(n);for(const t of n.Ta)e.ea(t.mutations)}async function rP(n,e,t){const i=n.Ta.shift(),a=yy.from(i,e,t);await mx(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await yh(n)}async function iP(n,e){e&&Ws(n).X_&&await(async function(i,a){if((function(u){return U6(u)&&u!==ie.ABORTED})(a.code)){const l=i.Ta.shift();Ws(i).B_(),await mx(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await yh(i)}})(n,e),gx(n)&&px(n)}async function kE(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ge(Fa,"RemoteStore received new credentials");const i=$a(t);t.Ea.add(3),await _u(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ph(t)}async function sP(n,e){const t=Oe(n);e?(t.Ea.delete(2),await ph(t)):e||(t.Ea.add(2),await _u(t),t.Ra.set("Unknown"))}function pl(n){return n.ma||(n.ma=(function(t,i,a){const l=Oe(t);return l.sa(),new FL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:QL.bind(null,n),t_:XL.bind(null,n),r_:WL.bind(null,n),H_:JL.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Cy(n)?Ay(n):n.Ra.set("Unknown")):(await n.ma.stop(),hx(n))}))),n.ma}function Ws(n){return n.fa||(n.fa=(function(t,i,a){const l=Oe(t);return l.sa(),new HL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:tP.bind(null,n),r_:iP.bind(null,n),ta:nP.bind(null,n),na:rP.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await yh(n)):(await n.fa.stop(),n.Ta.length>0&&(ge(Fa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Ry{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const u=Date.now()+i,d=new Ry(e,t,u,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(n,e){if(Yi("AsyncQueue",`${e}: ${n}`),gl(n))return new me(ie.UNAVAILABLE,`${e}: ${n}`);throw n}class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=Sc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Xo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class OE{constructor(){this.ga=new xt(we.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class il{constructor(e,t,i,a,l,u,d,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new il(e,t,Xo.emptySet(t),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class aP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oP{constructor(){this.queries=ME(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Oe(t),l=a.queries;a.queries=ME(),l.forEach(((u,d)=>{for(const m of d.Sa)m.onError(i)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function ME(){return new Ha((n=>VS(n)),uh)}async function yx(n,e){const t=Oe(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new aP,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=Iy(u,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ny(t)}async function vx(n,e){const t=Oe(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function lP(n,e){const t=Oe(n);let i=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const d of u.Sa)d.Fa(a)&&(i=!0);u.wa=a}}i&&Ny(t)}function cP(n,e,t){const i=Oe(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Ny(n){n.Ca.forEach((e=>{e.next()}))}var Op,LE;(LE=Op||(Op={})).Ma="default",LE.Cache="cache";class _x{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new il(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Op.Cache}}class bx{constructor(e){this.key=e}}class Ex{constructor(e){this.key=e}}class uP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=jS(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new OE,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const T=a.get(y),x=fh(this.query,v)?v:null,O=!!T&&this.mutatedKeys.has(T.key),M=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;T&&x?T.data.isEqual(x.data)?O!==M&&(i.track({type:3,doc:x}),L=!0):this.su(T,x)||(i.track({type:2,doc:x}),L=!0,(m&&this.eu(x,m)>0||p&&this.eu(x,p)<0)&&(d=!0)):!T&&x?(i.track({type:0,doc:x}),L=!0):T&&!x&&(i.track({type:1,doc:T}),L=!0,(m||p)&&(d=!0)),L&&(x?(u=u.add(x),l=M?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(x,O){const M=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:L})}};return M(x)-M(O)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new il(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new Ex(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new bx(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=$e();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dy="SyncEngine";class fP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class dP{constructor(e){this.key=e,this.hu=!1}}class hP{constructor(e,t,i,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ha((d=>VS(d)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new xt(we.comparator),this.Au=new Map,this.Ru=new by,this.Vu={},this.mu=new Map,this.fu=rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mP(n,e,t=!0){const i=Cx(n);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await wx(i,e,t,!0),a}async function gP(n,e){const t=Cx(n);await wx(t,e,!0,!1)}async function wx(n,e,t,i){const a=await LL(n.localStore,di(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await pP(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&fx(n.remoteStore,a),d}async function pP(n,e,t,i,a){n.pu=(v,T,x)=>(async function(M,L,H,V){let F=L.view.ru(H);F.Cs&&(F=await CE(M.localStore,L.query,!1).then((({documents:C})=>L.view.ru(C,F))));const B=V&&V.targetChanges.get(L.targetId),J=V&&V.targetMismatches.get(L.targetId)!=null,ae=L.view.applyChanges(F,M.isPrimaryClient,B,J);return VE(M,L.targetId,ae.au),ae.snapshot})(n,v,T,x);const l=await CE(n.localStore,e,!0),u=new uP(e,l.Qs),d=u.ru(l.documents),m=vu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=u.applyChanges(d,n.isPrimaryClient,m);VE(n,t,p.au);const y=new fP(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function yP(n,e,t){const i=Oe(n),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!uh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Dp(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Sy(i.remoteStore,a.targetId),Mp(i,a.targetId)})).catch(ml)):(Mp(i,a.targetId),await Dp(i.localStore,a.targetId,!0))}async function vP(n,e){const t=Oe(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Sy(t.remoteStore,i.targetId))}async function _P(n,e,t){const i=AP(n);try{const a=await(function(u,d){const m=Oe(u),p=yt.now(),y=d.reduce(((x,O)=>x.add(O.key)),$e());let v,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let O=Qi(),M=$e();return m.Ns.getEntries(x,y).next((L=>{O=L,O.forEach(((H,V)=>{V.isValidDocument()||(M=M.add(H))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,O))).next((L=>{v=L;const H=[];for(const V of d){const F=M6(V,v.get(V.key).overlayedDocument);F!=null&&H.push(new na(V.key,F,IS(F.value.mapValue),xr.exists(!0)))}return m.mutationQueue.addMutationBatch(x,p,H,d)})).next((L=>{T=L;const H=L.applyToLocalDocumentSet(v,M);return m.documentOverlayCache.saveOverlays(x,L.batchId,H)}))})).then((()=>({batchId:T.batchId,changes:zS(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,d,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new xt(He)),p=p.insert(d,m),u.Vu[u.currentUser.toKey()]=p})(i,a.batchId,t),await bu(i,a.changes),await yh(i.remoteStore)}catch(a){const l=Iy(a,"Failed to persist write");t.reject(l)}}async function Tx(n,e){const t=Oe(n);try{const i=await kL(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?nt(u.hu,14607):a.removedDocuments.size>0&&(nt(u.hu,42227),u.hu=!1))})),await bu(t,i,e)}catch(i){await ml(i)}}function PE(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(u,d){const m=Oe(u);m.onlineState=d;let p=!1;m.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(d)&&(p=!0)})),p&&Ny(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function bP(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new xt(we.comparator);u=u.insert(l,Tn.newNoDocument(l,Ne.min()));const d=$e().add(l),m=new mh(Ne.min(),new Map,new xt(He),u,d);await Tx(i,m),i.du=i.du.remove(l),i.Au.delete(e),ky(i)}else await Dp(i.localStore,e,!1).then((()=>Mp(i,e,t))).catch(ml)}async function EP(n,e){const t=Oe(n),i=e.batch.batchId;try{const a=await DL(t.localStore,e);xx(t,i,null),Sx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await bu(t,a)}catch(a){await ml(a)}}async function wP(n,e,t){const i=Oe(n);try{const a=await(function(u,d){const m=Oe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((v=>(nt(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,e);xx(i,e,t),Sx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await bu(i,a)}catch(a){await ml(a)}}function Sx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function xx(n,e,t){const i=Oe(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Mp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||Ax(n,i)}))}function Ax(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Sy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ky(n))}function VE(n,e,t){for(const i of t)i instanceof bx?(n.Ru.addReference(i.key,e),TP(n,i)):i instanceof Ex?(ge(Dy,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||Ax(n,i.key)):Re(19791,{wu:i})}function TP(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ge(Dy,"New document in limbo: "+t),n.Eu.add(i),ky(n))}function ky(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(mt.fromString(e)),i=n.fu.next();n.Au.set(i,new dP(t)),n.du=n.du.insert(t,i),fx(n.remoteStore,new zs(di(my(t.path)),i,"TargetPurposeLimboResolution",oh.ce))}}async function bu(n,e,t){const i=Oe(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{u.push(i.pu(m,e,t).then((p=>{if((p||t)&&i.isPrimaryClient){const y=p?!p.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=wy.As(m.targetId,p);l.push(y)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(m,p){const y=Oe(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>se.forEach(p,(T=>se.forEach(T.Es,(x=>y.persistence.referenceDelegate.addReference(v,T.targetId,x))).next((()=>se.forEach(T.ds,(x=>y.persistence.referenceDelegate.removeReference(v,T.targetId,x)))))))))}catch(v){if(!gl(v))throw v;ge(Ty,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const x=y.Ms.get(T),O=x.snapshotVersion,M=x.withLastLimboFreeSnapshotVersion(O);y.Ms=y.Ms.insert(T,M)}}})(i.localStore,l))}async function SP(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ge(Dy,"User change. New user:",e.toKey());const i=await ox(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new me(ie.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await bu(t,i.Ls)}}function xP(n,e){const t=Oe(n),i=t.Au.get(e);if(i&&i.hu)return $e().add(i.key);{let a=$e();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const d=t.Tu.get(u);a=a.unionWith(d.view.nu)}return a}}function Cx(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bP.bind(null,e),e.Pu.H_=lP.bind(null,e.eventManager),e.Pu.yu=cP.bind(null,e.eventManager),e}function AP(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wP.bind(null,e),e}class qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return NL(this.persistence,new CL,e.initialUser,this.serializer)}Cu(e){return new ax(Ey.mi,this.serializer)}Du(e){return new VL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qd.provider={build:()=>new qd};class CP extends qd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nt(this.persistence.referenceDelegate instanceof zd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new dL(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new ax((i=>zd.mi(i,t)),this.serializer)}}class Lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>PE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=SP.bind(null,this.syncEngine),await sP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oP})()}createDatastore(e){const t=gh(e.databaseInfo.databaseId),i=(function(l){return new qL(l)})(e.databaseInfo);return(function(l,u,d,m){return new GL(l,u,d,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,u,d){return new YL(i,a,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>PE(this.syncEngine,t,0)),(function(){return NE.v()?new NE:new jL})())}createSyncEngine(e,t){return(function(a,l,u,d,m,p,y){const v=new hP(a,l,u,d,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Oe(t);ge(Fa,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lp.provider={build:()=>new Lp};class Rx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Js="FirestoreClient";class RP{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=wn.UNAUTHENTICATED,this.clientId=ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{ge(Js,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ge(Js,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Iy(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Qg(n,e){n.asyncQueue.verifyOperationInProgress(),ge(Js,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await ox(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function jE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await IP(n);ge(Js,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>kE(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>kE(e.remoteStore,a))),n._onlineComponents=e}async function IP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(Js,"Using user provided OfflineComponentProvider");try{await Qg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),await Qg(n,new qd)}}else ge(Js,"Using default OfflineComponentProvider"),await Qg(n,new CP(void 0));return n._offlineComponents}async function Ix(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(Js,"Using user provided OnlineComponentProvider"),await jE(n,n._uninitializedComponentsProvider._online)):(ge(Js,"Using default OnlineComponentProvider"),await jE(n,new Lp))),n._onlineComponents}function NP(n){return Ix(n).then((e=>e.syncEngine))}async function Nx(n){const e=await Ix(n),t=e.eventManager;return t.onListen=mP.bind(null,e.syncEngine),t.onUnlisten=yP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vP.bind(null,e.syncEngine),t}function DP(n,e,t={}){const i=new Fi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const y=new Rx({next:T=>{y.Nu(),u.enqueueAndForget((()=>vx(l,v)));const x=T.docs.has(d);!x&&T.fromCache?p.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&m&&m.source==="server"?p.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new _x(my(d.path),y,{includeMetadataChanges:!0,qa:!0});return yx(l,v)})(await Nx(n),n.asyncQueue,e,t,i))),i.promise}function kP(n,e,t={}){const i=new Fi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,m,p){const y=new Rx({next:T=>{y.Nu(),u.enqueueAndForget((()=>vx(l,v))),T.fromCache&&m.source==="server"?p.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new _x(d,y,{includeMetadataChanges:!0,qa:!0});return yx(l,v)})(await Nx(n),n.asyncQueue,e,t,i))),i.promise}function Dx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const UE=new Map;const kx="firestore.googleapis.com",zE=!0;class BE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kx,this.ssl=zE}else this.host=e.host,this.ssl=e.ssl??zE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uL)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dx(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new VM;switch(i.type){case"firstParty":return new BM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=UE.get(t);i&&(ge("ComponentProvider","Removing Datastore"),UE.delete(t),i.terminate())})(this),Promise.resolve()}}function OP(n,e,t,i={}){n=qr(n,vh);const a=ul(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(wT(`https://${d}`),TT("Firestore",!0)),l.host!==kx&&l.host!==d&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Va(m,u)&&(n._setSettings(m),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=wn.MOCK_USER;else{p=BO(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new wn(v)}n._authCredentials=new jM(new yS(p,y))}}class yl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new yl(this.firestore,e,this._query)}}class Mt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(gu(t,Mt._jsonSchema))return new Mt(e,i||null,new we(mt.fromString(t.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Gt("string",Mt._jsonSchemaVersion),referencePath:Gt("string")};class $s extends yl{constructor(e,t,i){super(e,t,my(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new we(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function Eu(n,e,...t){if(n=Kt(n),vS("collection","path",e),n instanceof vh){const i=mt.fromString(e,...t);return eE(i),new $s(n,null,i)}{if(!(n instanceof Mt||n instanceof $s))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return eE(i),new $s(n.firestore,null,i)}}function Zi(n,e,...t){if(n=Kt(n),arguments.length===1&&(e=ly.newId()),vS("doc","path",e),n instanceof vh){const i=mt.fromString(e,...t);return Z1(i),new Mt(n,null,new we(i))}{if(!(n instanceof Mt||n instanceof $s))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return Z1(i),new Mt(n.firestore,n instanceof $s?n.converter:null,new we(i))}}const qE="AsyncQueue";class FE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cx(this,"async_queue_retry"),this._c=()=>{const i=Yg();i&&ge(qE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Yg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Yg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;ge(qE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",HE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Ry.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:HE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function HE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ga extends vh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new FE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FE(e),this._firestoreClient=void 0,await e}}}function MP(n,e){const t=typeof n=="object"?n:CT(),i=typeof n=="string"?n:Md,a=Jp(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=UO("firestore");l&&OP(a,...l)}return a}function Oy(n){if(n._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LP(n),n._firestoreClient}function LP(n){const e=n._freezeSettings(),t=(function(a,l,u,d){return new i6(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Dx(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new RP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class Sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sr(gn.fromBase64String(e))}catch(t){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sr(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Sr._jsonSchema))return Sr.fromBase64String(e.bytes)}}Sr._jsonSchemaVersion="firestore/bytes/1.0",Sr._jsonSchema={type:Gt("string",Sr._jsonSchemaVersion),bytes:Gt("string")};class _h{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bh{constructor(e){this._methodName=e}}class mi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mi._jsonSchemaVersion}}static fromJSON(e){if(gu(e,mi._jsonSchema))return new mi(e.latitude,e.longitude)}}mi._jsonSchemaVersion="firestore/geoPoint/1.0",mi._jsonSchema={type:Gt("string",mi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class gi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new gi(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Gt("string",gi._jsonSchemaVersion),vectorValues:Gt("object")};const PP=/^__.*__$/;class VP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,t,this.fieldTransforms):new yu(e,this.data,t,this.fieldTransforms)}}class Ox{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new na(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:n})}}class My{constructor(e,t,i,a,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new My({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Mx(this.Ac)&&PP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||gh(e)}Cc(e,t,i,a=!1){return new My({Ac:e,methodName:t,Dc:i,path:mn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(n){const e=n._freezeSettings(),t=gh(n._databaseId);return new jP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Lx(n,e,t,i,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);Py("Data must be an object, but it was:",u,i);const d=Px(i,u);let m,p;if(l.merge)m=new sr(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=Pp(e,v,t);if(!u.contains(T))throw new me(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);jx(y,T)||y.push(T)}m=new sr(y),p=u.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=u.fieldTransforms;return new VP(new Hn(d),m,p)}class wh extends bh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}class Ly extends bh{_toFieldTransform(e){return new N6(e.path,new Xc)}isEqual(e){return e instanceof Ly}}function UP(n,e,t,i){const a=n.Cc(1,e,t);Py("Data must be an object, but it was:",a,i);const l=[],u=Hn.empty();ta(i,((m,p)=>{const y=Vy(e,m,t);p=Kt(p);const v=a.yc(y);if(p instanceof wh)l.push(y);else{const T=wu(p,v);T!=null&&(l.push(y),u.set(y,T))}}));const d=new sr(l);return new Ox(u,d,a.fieldTransforms)}function zP(n,e,t,i,a,l){const u=n.Cc(1,e,t),d=[Pp(e,i,t)],m=[a];if(l.length%2!=0)throw new me(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(Pp(e,l[T])),m.push(l[T+1]);const p=[],y=Hn.empty();for(let T=d.length-1;T>=0;--T)if(!jx(p,d[T])){const x=d[T];let O=m[T];O=Kt(O);const M=u.yc(x);if(O instanceof wh)p.push(x);else{const L=wu(O,M);L!=null&&(p.push(x),y.set(x,L))}}const v=new sr(p);return new Ox(y,v,u.fieldTransforms)}function BP(n,e,t,i=!1){return wu(t,n.Cc(i?4:3,e))}function wu(n,e){if(Vx(n=Kt(n)))return Py("Unsupported field value:",e,n),Px(n,e);if(n instanceof bh)return(function(i,a){if(!Mx(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const d of i){let m=wu(d,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,e)}return(function(i,a){if((i=Kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return C6(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=yt.fromDate(i);return{timestampValue:Ud(a.serializer,l)}}if(i instanceof yt){const l=new yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ud(a.serializer,l)}}if(i instanceof mi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sr)return{bytesValue:JS(a.serializer,i._byteString)};if(i instanceof Mt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_y(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof gi)return(function(u,d){return{mapValue:{fields:{[CS]:{stringValue:RS},[Ld]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return gy(d.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${ah(i)}`)})(n,e)}function Px(n,e){const t={};return ES(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(n,((i,a)=>{const l=wu(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function Vx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof mi||n instanceof Sr||n instanceof Mt||n instanceof bh||n instanceof gi)}function Py(n,e,t){if(!Vx(t)||!_S(t)){const i=ah(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Pp(n,e,t){if((e=Kt(e))instanceof _h)return e._internalPath;if(typeof e=="string")return Vy(n,e);throw Fd("Field path arguments must be of type string or ",n,!1,void 0,t)}const qP=new RegExp("[~\\*/\\[\\]]");function Vy(n,e,t){if(e.search(qP)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _h(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fd(n,e,t,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new me(ie.INVALID_ARGUMENT,d+n+m)}function jx(n,e){return n.some((t=>t.isEqual(e)))}class Ux{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class FP extends Ux{data(){return super.data()}}function jy(n,e){return typeof e=="string"?Vy(n,e):e instanceof _h?e._internalPath:e._delegate._internalPath}function HP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uy{}class $P extends Uy{}function zx(n,e,...t){let i=[];e instanceof Uy&&i.push(e),i=i.concat(t),(function(l){const u=l.filter((m=>m instanceof zy)).length,d=l.filter((m=>m instanceof Th)).length;if(u>1||u>0&&d>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class Th extends $P{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Th(e,t,i)}_apply(e){const t=this._parse(e);return qx(e._query,t),new yl(e.firestore,e.converter,xp(e._query,t))}_parse(e){const t=Eh(e.firestore);return(function(l,u,d,m,p,y,v){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){GE(v,y);const O=[];for(const M of v)O.push($E(m,l,M));T={arrayValue:{values:O}}}else T=$E(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||GE(v,y),T=BP(d,u,v,y==="in"||y==="not-in");return $t.create(p,y,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Bx(n,e,t){const i=e,a=jy("where",n);return Th._create(a,i,t)}class zy extends Uy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zy(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)qx(u,m),u=xp(u,m)})(e._query,t),new yl(e.firestore,e.converter,xp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $E(n,e,t){if(typeof(t=Kt(t))=="string"){if(t==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PS(e)&&t.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mt.fromString(t));if(!we.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lE(n,new we(i))}if(t instanceof Mt)return lE(n,t._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(t)}.`)}function GE(n,e){if(!Array.isArray(n)||n.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qx(n,e){const t=(function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GP{convertValue(e,t="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ta(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Ld].arrayValue?.values?.map((i=>Ot(i.doubleValue)));return new gi(t)}convertGeoPoint(e){return new mi(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ch(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const t=Ys(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mt.fromString(e);nt(ix(i),9688,{name:e});const a=new Yc(i.get(1),i.get(3)),l=new we(i.popFirst(5));return a.isEqual(t)||Yi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Fx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Ac{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ma extends Ux{constructor(e,t,i,a,l,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ma._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ma._jsonSchema={type:Gt("string",Ma._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class md extends Ma{data(e={}){return super.data(e)}}class Wo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ac(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new md(this._firestore,this._userDataWriter,i.key,i,new Ac(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((d=>{const m=new md(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ac(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new md(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ac(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:KP(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}function Hx(n){n=qr(n,Mt);const e=qr(n.firestore,Ga);return DP(Oy(e),n._key).then((t=>QP(e,n,t)))}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:Gt("string",Wo._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class $x extends GP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function By(n){n=qr(n,yl);const e=qr(n.firestore,Ga),t=Oy(e),i=new $x(e);return HP(n._query),kP(t,n._query).then((a=>new Wo(e,i,n,a)))}function Gx(n,e,t){n=qr(n,Mt);const i=qr(n.firestore,Ga),a=Fx(n.converter,e);return Sh(i,[Lx(Eh(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,xr.none())])}function qy(n,e,t,...i){n=qr(n,Mt);const a=qr(n.firestore,Ga),l=Eh(a);let u;return u=typeof(e=Kt(e))=="string"||e instanceof _h?zP(l,"updateDoc",n._key,e,t,i):UP(l,"updateDoc",n._key,e),Sh(a,[u.toMutation(n._key,xr.exists(!0))])}function YP(n){return Sh(qr(n.firestore,Ga),[new py(n._key,xr.none())])}function Kx(n,e){const t=qr(n.firestore,Ga),i=Zi(n),a=Fx(n.converter,e);return Sh(t,[Lx(Eh(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,xr.exists(!1))]).then((()=>i))}function Sh(n,e){return(function(i,a){const l=new Fi;return i.asyncQueue.enqueueAndForget((async()=>_P(await NP(i),a,l))),l.promise})(Oy(n),e)}function QP(n,e,t){const i=t.docs.get(e._key),a=new $x(n);return new Ma(n,a,e._key,i,new Ac(t.hasPendingWrites,t.fromCache),e.converter)}function vl(){return new Ly("serverTimestamp")}(function(e,t=!0){(function(a){hl=a})(fl),Jo(new ja("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),d=new Ga(new UM(i.getProvider("auth-internal")),new qM(u,i.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Fs(Q1,X1,e),Fs(Q1,X1,"esm2020")})();var XP="firebase",WP="12.7.0";Fs(XP,WP,"app");const JP={apiKey:"AIzaSyCzDuvNd35ujn76w7P-GW3O1kRoTxg35cE",authDomain:"orderfood-c0928.firebaseapp.com",databaseURL:"https://orderfood-c0928-default-rtdb.firebaseio.com",projectId:"orderfood-c0928",storageBucket:"orderfood-c0928.firebasestorage.app",messagingSenderId:"471513642571",appId:"1:471513642571:web:2526accaa58aa61de4ffce"},Yx=AT(JP),Ka=LM(Yx),ar=MP(Yx),ZP=async(n,e)=>(await p5(Ka,n,e)).user,eV=async(n,e,t)=>{const a=(await g5(Ka,n,e)).user;return await v5(a,{displayName:t}),await Gx(Zi(ar,"users",a.uid),{email:a.email,name:t,createdAt:vl()}),a},tV=async()=>{await S5(Ka)},Qx=async n=>{await m5(Ka,n)},nV=async n=>{const e=Ka.currentUser;if(!e)throw new Error("No user logged in");await _5(e,n)},KE=async n=>{const e=await Hx(Zi(ar,"users",n));if(!e.exists())return null;const t=e.data();return{id:e.id,email:t.email,name:t.name,phoneNumber:t.phoneNumber,defaultAddressId:t.defaultAddressId,createdAt:t.createdAt?.toDate()}},rV=async(n,e)=>{const t=Zi(ar,"users",n);await qy(t,{...e,updatedAt:vl()})},iV=n=>T5(Ka,n),sV=()=>Ka.currentUser,aV=(n,e)=>{const t=n?.code||n?.message||"",a={"auth/user-not-found":"auth.errors.user-not-found","auth/wrong-password":"auth.errors.wrong-password","auth/email-already-in-use":"auth.errors.email-already-in-use","auth/weak-password":"auth.errors.weak-password","auth/invalid-email":"auth.errors.invalid-email","auth/network-request-failed":"auth.errors.network-request-failed","auth/too-many-requests":"auth.errors.too-many-requests"}[t]||"auth.errors.default";return e(a)},oV=({isOpen:n,onClose:e,onAuthSuccess:t})=>{const{t:i}=Cr(),[a,l]=S.useState(!0),[u,d]=S.useState(!1),[m,p]=S.useState(""),[y,v]=S.useState(""),[T,x]=S.useState(""),[O,M]=S.useState(!1),[L,H]=S.useState(!1);if(!n)return null;const V=async B=>{B.preventDefault(),M(!0);try{await Qx(m),_e.success(i("profile.resetEmailSent")),d(!1),p("")}catch(J){console.error("Forgot password error:",J),_e.error(i("profile.resetEmailError"))}finally{M(!1)}},F=async B=>{B.preventDefault(),M(!0);try{a?(await ZP(m,y),_e.success(i("auth.loginSuccess")),t(),e()):(await eV(m,y,T),_e.success(i("auth.registerSuccess")),t(),e())}catch(J){console.error("Auth error:",J);const ae=aV(J,i);_e.error(ae)}finally{M(!1)}};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md m-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white font-vazir",children:i(u?"profile.forgotPassword":a?"auth.loginTitle":"auth.registerTitle")}),w.jsx("button",{onClick:()=>{e(),d(!1)},className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors",children:w.jsx(au,{className:"w-5 h-5"})})]}),u?w.jsxs("form",{onSubmit:V,className:"space-y-4",children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-vazir",children:i("auth.email")}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 font-vazir",children:i("auth.email")}),w.jsxs("div",{className:"relative",children:[w.jsx(d1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),w.jsx("input",{type:"email",value:m,onChange:B=>p(B.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-primary focus:border-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]})]}),w.jsx("button",{type:"submit",disabled:O,className:"w-full bg-primary text-white py-2 rounded-lg hover:bg-secondary transition-colors disabled:opacity-50 font-vazir font-medium",children:O?"...":i("profile.forgotPassword")}),w.jsx("div",{className:"text-center",children:w.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-primary hover:text-secondary dark:text-primary dark:hover:text-secondary transition-colors text-sm font-vazir",children:i("auth.login")})})]}):w.jsxs(w.Fragment,{children:[w.jsxs("form",{onSubmit:F,className:"space-y-4",children:[!a&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 font-vazir",children:i("auth.name")}),w.jsxs("div",{className:"relative",children:[w.jsx(Go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),w.jsx("input",{type:"text",value:T,onChange:B=>x(B.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-primary focus:border-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-vazir",required:!a})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 font-vazir",children:i("auth.email")}),w.jsxs("div",{className:"relative",children:[w.jsx(d1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),w.jsx("input",{type:"email",value:m,onChange:B=>p(B.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-primary focus:border-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 font-vazir",children:i("auth.password")}),w.jsxs("div",{className:"relative",children:[w.jsx(WD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),w.jsx("input",{type:L?"text":"password",value:y,onChange:B=>v(B.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-primary focus:border-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0}),w.jsx("button",{type:"button",onClick:()=>H(!L),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:L?w.jsx($D,{className:"w-4 h-4"}):w.jsx(KD,{className:"w-4 h-4"})})]})]}),a&&w.jsx("div",{className:"text-left",children:w.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-primary hover:text-secondary dark:text-primary dark:hover:text-secondary text-sm font-vazir",children:i("auth.forgotPassword")})}),w.jsx("button",{type:"submit",disabled:O,className:"w-full bg-primary text-white py-2 rounded-lg hover:bg-secondary transition-colors disabled:opacity-50 font-vazir font-medium",children:O?"...":i(a?"auth.login":"auth.register")})]}),w.jsx("div",{className:"mt-4 text-center",children:w.jsx("button",{onClick:()=>l(!a),className:"text-primary hover:text-secondary dark:text-primary dark:hover:text-secondary transition-colors text-sm font-vazir",children:a?w.jsxs(w.Fragment,{children:[i("auth.noAccount")," ",w.jsx("span",{className:"font-medium",children:i("auth.register")})]}):w.jsxs(w.Fragment,{children:[i("auth.hasAccount")," ",w.jsx("span",{className:"font-medium",children:i("auth.login")})]})})})]})]})})},lV=n=>{switch(n){case"pending":return w.jsx(c1,{className:"w-4 h-4 text-yellow-500"});case"confirmed":case"preparing":return w.jsx(qc,{className:"w-4 h-4 text-blue-500"});case"ready":return w.jsx(zD,{className:"w-4 h-4 text-green-500"});case"delivered":return w.jsx(yk,{className:"w-4 h-4 text-green-600"});case"cancelled":return w.jsx(au,{className:"w-4 h-4 text-red-500"});default:return w.jsx(c1,{className:"w-4 h-4 text-gray-500"})}},cV=({isOpen:n,onClose:e,orders:t})=>{const{t:i,i18n:a}=Cr();return n?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-2xl max-h-[80vh] overflow-hidden m-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white font-vazir",children:i("orders.title")}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors",children:w.jsx(au,{className:"w-5 h-5"})})]}),w.jsx("div",{className:"overflow-y-auto max-h-[calc(80vh-120px)]",children:t.length===0?w.jsxs("div",{className:"text-center py-8",children:[w.jsx(qc,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),w.jsx("p",{className:"text-gray-500 font-vazir",children:i("orders.noOrders")})]}):w.jsx("div",{className:"space-y-4",children:t.map(l=>w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[w.jsxs("div",{className:"flex justify-between items-start mb-3",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsxs("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 font-vazir",children:[i("orders.orderNumber"),l.id.slice(-6)]}),lV(l.status),w.jsx("span",{className:"text-sm font-medium font-vazir",children:i(`orders.status.${l.status}`)})]}),w.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 font-vazir",children:[i("orders.orderDate"),":"," ",new Date(l.createdAt).toLocaleDateString(a.language==="fa"?"fa-IR":"en-US")]})]}),w.jsx("div",{className:"text-right",children:w.jsxs("p",{className:"font-bold text-primary font-vazir",children:[a.language==="fa"?l.total.toLocaleString("fa-IR"):l.total.toLocaleString("en-US")," ",i("menu.toman")]})})]}),w.jsx("div",{className:"space-y-2",children:l.items.map(u=>w.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[w.jsx("img",{src:u.image,alt:a.language==="fa"?u.name.fa:u.name.en,className:"w-8 h-8 rounded object-cover",onError:d=>{const m=d.target;m.src="https://via.placeholder.com/300x200?text=No+Image"}}),w.jsxs("span",{className:"flex-1 font-vazir",children:[a.language==="fa"?u.name.fa:u.name.en," ","x",u.quantity]}),w.jsxs("span",{className:"font-vazir",children:[a.language==="fa"?(u.price*u.quantity).toLocaleString("fa-IR"):(u.price*u.quantity).toLocaleString("en-US")," ",i("menu.toman")]})]},u.id))})]},l.id))})})]})}):null},Tu="addresses",uV=async n=>(await Kx(Eu(ar,Tu),{...n,createdAt:vl()})).id,Fy=async n=>{const e=zx(Eu(ar,Tu),Bx("userId","==",n));return(await By(e)).docs.map(i=>{const a=i.data();return{id:i.id,userId:a.userId,title:a.title,fullAddress:a.fullAddress,city:a.city,postalCode:a.postalCode,phoneNumber:a.phoneNumber,recipientName:a.recipientName,isDefault:a.isDefault||!1,createdAt:a.createdAt?.toDate()||new Date}})},fV=async(n,e)=>{const t=Zi(ar,Tu,n);await qy(t,{...e,updatedAt:vl()})},dV=async n=>{const e=Zi(ar,Tu,n);await YP(e)},hV=async(n,e)=>{const i=(await Fy(n)).map(async a=>{const l=Zi(ar,Tu,a.id);await qy(l,{isDefault:a.id===e})});await Promise.all(i)};function mV({userId:n,onSelectAddress:e,selectionMode:t=!1}){const{t:i}=Cr(),[a,l]=S.useState([]),[u,d]=S.useState(!0),[m,p]=S.useState(!1),[y,v]=S.useState(null),[T,x]=S.useState({title:"",fullAddress:"",city:"",postalCode:"",phoneNumber:"",recipientName:""}),O=S.useCallback(async()=>{try{d(!0);const B=await Fy(n);l(B)}catch(B){console.error("Error loading addresses:",B),_e.error(i("address.loadError"))}finally{d(!1)}},[n,i]);S.useEffect(()=>{O()},[O]);const M=async B=>{B.preventDefault();try{const J={...T,userId:n,isDefault:a.length===0};y?(await fV(y,T),_e.success(i("address.updated"))):(await uV(J),_e.success(i("address.saved"))),await O(),F()}catch(J){console.error("Error saving address:",J),_e.error(i("address.saveError"))}},L=B=>{v(B.id),x({title:B.title,fullAddress:B.fullAddress,city:B.city,postalCode:B.postalCode||"",phoneNumber:B.phoneNumber,recipientName:B.recipientName}),p(!0)},H=async B=>{if(window.confirm(i("address.deleteConfirm")))try{await dV(B),_e.success(i("address.deleted")),await O()}catch(J){console.error("Error deleting address:",J),_e.error(i("address.deleteError"))}},V=async B=>{try{await hV(n,B),_e.success(i("address.defaultSet")),await O()}catch(J){console.error("Error setting default address:",J),_e.error(i("address.defaultError"))}},F=()=>{x({title:"",fullAddress:"",city:"",postalCode:"",phoneNumber:"",recipientName:""}),v(null),p(!1)};return u?w.jsx("div",{className:"flex items-center justify-center p-8",children:w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:i("address.title")}),!m&&w.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:i("address.addNew")})]}),m&&w.jsxs("form",{onSubmit:M,className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("address.addressTitle")}),w.jsx("input",{type:"text",value:T.title,onChange:B=>x({...T,title:B.target.value}),placeholder:i("address.addressTitlePlaceholder"),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("address.recipientName")}),w.jsx("input",{type:"text",value:T.recipientName,onChange:B=>x({...T,recipientName:B.target.value}),placeholder:i("address.recipientNamePlaceholder"),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("address.fullAddress")}),w.jsx("textarea",{value:T.fullAddress,onChange:B=>x({...T,fullAddress:B.target.value}),placeholder:i("address.fullAddressPlaceholder"),required:!0,rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("address.city")}),w.jsx("input",{type:"text",value:T.city,onChange:B=>x({...T,city:B.target.value}),placeholder:i("address.cityPlaceholder"),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("address.postalCode")}),w.jsx("input",{type:"text",value:T.postalCode,onChange:B=>x({...T,postalCode:B.target.value}),placeholder:i("address.postalCodePlaceholder"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("address.phoneNumber")}),w.jsx("input",{type:"tel",value:T.phoneNumber,onChange:B=>x({...T,phoneNumber:B.target.value}),placeholder:i("address.phoneNumberPlaceholder"),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:i("address.save")}),w.jsx("button",{type:"button",onClick:F,className:"px-6 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:i("address.cancel")})]})]}),a.length===0&&!m?w.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:i("address.noAddresses")}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(B=>w.jsxs("div",{className:`bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md border-2 ${B.isDefault?"border-blue-500":"border-transparent"} ${t?"cursor-pointer hover:border-blue-400 transition-colors":""}`,onClick:()=>t&&e&&e(B),children:[w.jsxs("div",{className:"flex items-start justify-between mb-3",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-lg dark:text-white",children:B.title}),B.isDefault&&w.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded mt-1",children:i("address.default")})]}),!t&&w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>L(B),className:"text-blue-500 hover:text-blue-600 text-sm",children:i("address.edit")}),w.jsx("button",{onClick:()=>H(B.id),className:"text-red-500 hover:text-red-600 text-sm",children:i("address.delete")})]})]}),w.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:B.recipientName}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:B.fullAddress}),w.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:[B.city,B.postalCode&&` - ${B.postalCode}`]}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:B.phoneNumber}),!B.isDefault&&!t&&w.jsx("button",{onClick:()=>V(B.id),className:"mt-4 text-sm text-blue-500 hover:text-blue-600",children:i("address.setDefault")})]},B.id))})]})}const gV=({user:n,onUpdateProfile:e,onChangePassword:t,onRequestPasswordReset:i,onLogout:a,onBack:l})=>{const{t:u}=Cr(),d=Zs(),[m,p]=S.useState("profile"),[y,v]=S.useState(!1),[T,x]=S.useState(!1),[O,M]=S.useState(!1);S.useEffect(()=>{d.state?.activeTab&&p(d.state.activeTab)},[d.state]);const[L,H]=S.useState({name:n.name,email:n.email}),[V,F]=S.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[B,J]=S.useState(n.email),[ae,C]=S.useState(!1),R=D=>{D.preventDefault(),e(L),_e.success(u("profile.updated"))},N=async D=>{if(D.preventDefault(),V.newPassword!==V.confirmPassword){_e.error(u("profile.passwordMismatch"));return}C(!0);try{await t(V.currentPassword,V.newPassword)?(_e.success(u("profile.passwordChanged")),F({currentPassword:"",newPassword:"",confirmPassword:""})):_e.error(u("profile.passwordChangeError"))}catch{_e.error(u("profile.passwordChangeError"))}finally{C(!1)}},P=async D=>{D.preventDefault(),C(!0);try{await i(B)?_e.success(u("profile.resetEmailSent")):_e.error(u("profile.resetEmailError"))}catch{_e.error(u("profile.resetEmailError"))}finally{C(!1)}};return w.jsx("div",{className:"min-h-screen bg-background",children:w.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[l&&w.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-primary hover:text-secondary transition-colors",children:[w.jsx(Ik,{className:"w-5 h-5"}),w.jsx("span",{className:"font-vazir",children:u("common.back")})]}),w.jsx("h1",{className:"text-3xl font-bold font-vazir",children:u("profile.title")})]}),w.jsx("div",{className:"flex gap-1 mb-6 bg-surface rounded-lg p-1",children:[{id:"profile",label:u("profile.personalInfo"),icon:$k},{id:"password",label:u("profile.changePassword"),icon:Vk},{id:"address",label:u("address.title"),icon:Uk},{id:"reset",label:u("profile.forgotPassword"),icon:Ok}].map(D=>w.jsxs("button",{onClick:()=>p(D.id),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md text-sm font-medium transition-colors font-vazir ${m===D.id?"bg-primary text-white":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}`,children:[w.jsx(D.icon,{className:"w-4 h-4"}),w.jsx("span",{className:"hidden sm:inline",children:D.label})]},D.id))}),m==="profile"&&w.jsxs("div",{className:"bg-surface rounded-2xl p-6 shadow-lg",children:[w.jsx("h2",{className:"text-xl font-bold mb-6 font-vazir",children:u("profile.personalInfo")}),w.jsxs("form",{onSubmit:R,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 font-vazir",children:u("auth.name")}),w.jsx("input",{type:"text",value:L.name,onChange:D=>H({...L,name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-primary focus:border-primary bg-white dark:bg-gray-800 font-vazir",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 font-vazir",children:u("auth.email")}),w.jsx("input",{type:"email",value:L.email,onChange:D=>H({...L,email:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-primary focus:border-primary bg-white dark:bg-gray-800",required:!0})]}),w.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-secondary transition-colors font-vazir font-medium",children:u("profile.saveChanges")})]})]}),m==="password"&&w.jsxs("div",{className:"bg-surface rounded-2xl p-6 shadow-lg",children:[w.jsx("h2",{className:"text-xl font-bold mb-6 font-vazir",children:u("profile.changePassword")}),w.jsxs("form",{onSubmit:N,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 font-vazir",children:u("profile.currentPassword")}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:y?"text":"password",value:V.currentPassword,onChange:D=>F({...V,currentPassword:D.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-primary focus:border-primary bg-white dark:bg-gray-800",required:!0}),w.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y?w.jsx(Pg,{className:"w-4 h-4"}):w.jsx(Vg,{className:"w-4 h-4"})})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 font-vazir",children:u("profile.newPassword")}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:T?"text":"password",value:V.newPassword,onChange:D=>F({...V,newPassword:D.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-primary focus:border-primary bg-white dark:bg-gray-800",required:!0}),w.jsx("button",{type:"button",onClick:()=>x(!T),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:T?w.jsx(Pg,{className:"w-4 h-4"}):w.jsx(Vg,{className:"w-4 h-4"})})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 font-vazir",children:u("profile.confirmPassword")}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:O?"text":"password",value:V.confirmPassword,onChange:D=>F({...V,confirmPassword:D.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-primary focus:border-primary bg-white dark:bg-gray-800",required:!0}),w.jsx("button",{type:"button",onClick:()=>M(!O),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:O?w.jsx(Pg,{className:"w-4 h-4"}):w.jsx(Vg,{className:"w-4 h-4"})})]})]}),w.jsx("button",{type:"submit",disabled:ae,className:"w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-secondary transition-colors disabled:opacity-50 font-vazir font-medium",children:u(ae?"profile.changing":"profile.changePassword")})]})]}),m==="address"&&w.jsx("div",{className:"bg-surface rounded-2xl p-6 shadow-lg",children:w.jsx(mV,{userId:n.id})}),m==="reset"&&w.jsxs("div",{className:"bg-surface rounded-2xl p-6 shadow-lg",children:[w.jsx("h2",{className:"text-xl font-bold mb-6 font-vazir",children:u("profile.forgotPassword")}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 font-vazir",children:u("profile.resetDescription")}),w.jsxs("form",{onSubmit:P,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 font-vazir",children:u("auth.email")}),w.jsx("input",{type:"email",value:B,onChange:D=>J(D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-primary focus:border-primary bg-white dark:bg-gray-800",required:!0})]}),w.jsx("button",{type:"submit",disabled:ae,className:"w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-secondary transition-colors disabled:opacity-50 font-vazir font-medium",children:u(ae?"profile.sending":"profile.sendResetLink")})]})]}),w.jsx("div",{className:"mt-8",children:w.jsx("button",{onClick:a,className:"w-full bg-red-500 text-white py-3 px-4 rounded-lg hover:bg-red-600 transition-colors font-vazir font-medium",children:u("nav.logout")})})]})})},pV=[{id:"1",name:{en:"Margherita Pizza",fa:" "},price:195e3,category:"pizza",image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=300&h=200&fit=contain",description:{en:"Simple and delicious pizza with tomato sauce, basil and mozzarella",fa:"         "}},{id:"2",name:{en:"Pepperoni Pizza",fa:" "},price:245e3,category:"pizza",image:"https://images.unsplash.com/photo-1628840042765-356cda07504e?w=300&h=200&fit=contain",description:{en:"Classic pizza with pepperoni and lots of mozzarella cheese",fa:"       "}},{id:"3",name:{en:"BBQ Chicken Pizza",fa:"  BBQ"},price:265e3,category:"pizza",image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=300&h=200&fit=contain",description:{en:"Pizza with BBQ chicken, red onions and cilantro",fa:"   BBQ    "}},{id:"4",name:{en:"Vegetarian Pizza",fa:" "},price:225e3,category:"pizza",image:"https://images.unsplash.com/photo-1571066811602-716837d681de?w=300&h=200&fit=contain",description:{en:"Pizza loaded with fresh vegetables and cheese",fa:"      "}},{id:"5",name:{en:"Special Pizza",fa:" "},price:285e3,category:"pizza",image:"https://images.unsplash.com/photo-1604382354936-07c5d9983bd3?w=300&h=200&fit=contain",description:{en:"Delicious pizza with meat, mushrooms, bell peppers and mozzarella",fa:"         "}},{id:"6",name:{en:"Classic Burger",fa:" "},price:185e3,category:"burger",image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=300&h=200&fit=contain",description:{en:"Juicy beef patty with lettuce, tomato, onion and special sauce",fa:"         "}},{id:"7",name:{en:"Cheese Burger",fa:" "},price:205e3,category:"burger",image:"https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=300&h=200&fit=contain",description:{en:"Classic burger with melted cheese on top",fa:"       "}},{id:"8",name:{en:"Chicken Burger",fa:" "},price:175e3,category:"burger",image:"https://images.unsplash.com/photo-1572802419224-296b0aeee0d9?w=300&h=200&fit=contain",description:{en:"Grilled chicken breast with fresh vegetables",fa:"      "}},{id:"9",name:{en:"Spaghetti Carbonara",fa:" "},price:225e3,category:"pasta",image:"https://images.unsplash.com/photo-1551892376-c73ba8b86727?w=300&h=200&fit=contain",description:{en:"Creamy pasta with bacon, eggs and parmesan cheese",fa:"        "}},{id:"10",name:{en:"Penne Arrabbiata",fa:" "},price:195e3,category:"pasta",image:"https://images.unsplash.com/photo-1621996346565-e3dbc353d2e5?w=300&h=200&fit=contain",description:{en:"Spicy tomato sauce pasta with garlic and chili",fa:"        "}},{id:"11",name:{en:"Caesar Salad",fa:" "},price:145e3,category:"salad",image:"https://images.unsplash.com/photo-1546793665-c74683f339c1?w=300&h=200&fit=contain",description:{en:"Fresh romaine lettuce with caesar dressing and croutons",fa:"       "}},{id:"12",name:{en:"Greek Salad",fa:" "},price:165e3,category:"salad",image:"https://images.unsplash.com/photo-1551782450-17144efb5723?w=300&h=200&fit=contain",description:{en:"Traditional Greek salad with feta cheese and olives",fa:"       "}},{id:"13",name:{en:"Coca Cola",fa:" "},price:25e3,category:"drink",image:"https://images.unsplash.com/photo-1554866585-cd94860890b7?w=300&h=200&fit=contain",description:{en:"Refreshing cola drink",fa:"   "}},{id:"14",name:{en:"Orange Juice",fa:" "},price:35e3,category:"drink",image:"https://images.unsplash.com/photo-1600271886742-f049cd451bba?w=300&h=200&fit=contain",description:{en:"Fresh squeezed orange juice",fa:"   "}},{id:"15",name:{en:"Chocolate Cake",fa:" "},price:95e3,category:"dessert",image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=300&h=200&fit=contain",description:{en:"Rich chocolate cake with chocolate frosting",fa:"     "}},{id:"16",name:{en:"Tiramisu",fa:""},price:105e3,category:"dessert",image:"https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?w=300&h=200&fit=contain",description:{en:"Classic Italian dessert with coffee and mascarpone",fa:"      "}},{id:"17",name:{en:"Club Sandwich",fa:" "},price:165e3,category:"sandwich",image:"https://images.unsplash.com/photo-1553909489-cd5096e95c18?w=300&h=200&fit=contain",description:{en:"Triple decker sandwich with turkey, bacon, lettuce and tomato",fa:"        "}},{id:"18",name:{en:"Grilled Cheese Panini",fa:"   "},price:135e3,category:"sandwich",image:"https://images.unsplash.com/photo-1551218808-94e220e084d2?w=300&h=200&fit=contain",description:{en:"Melted cheese between grilled bread slices",fa:"        "}},{id:"19",name:{en:"Chicken Panini",fa:" "},price:175e3,category:"sandwich",image:"https://images.unsplash.com/photo-1559054663-459c5dd6b2e7?w=300&h=200&fit=contain",description:{en:"Grilled chicken panini with vegetables and cheese",fa:"       "}},{id:"20",name:{en:"BLT Sandwich",fa:" BLT"},price:145e3,category:"sandwich",image:"https://images.unsplash.com/photo-1553909489-ec217ac8ef9?w=300&h=200&fit=contain",description:{en:"Bacon, lettuce and tomato sandwich",fa:"    "}},{id:"21",name:{en:"Cappuccino",fa:""},price:55e3,category:"cafe",image:"https://images.unsplash.com/photo-1572442388796-11668a67e53d?w=300&h=200&fit=contain",description:{en:"Espresso with steamed milk and foam",fa:"     "}},{id:"22",name:{en:"Latte",fa:""},price:6e4,category:"cafe",image:"https://images.unsplash.com/photo-1561047029-3000c68339ca?w=300&h=200&fit=contain",description:{en:"Smooth espresso with steamed milk",fa:"    "}},{id:"23",name:{en:"Americano",fa:""},price:45e3,category:"cafe",image:"https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=300&h=200&fit=contain",description:{en:"Espresso diluted with hot water",fa:"     "}}],yV="menu",vV=async()=>{try{const n=await By(Eu(ar,yV));if(!n.empty)return n.docs.map(e=>{const t=e.data();return{id:e.id,name:t.name,price:t.price,category:t.category,image:t.image,description:t.description}})}catch(n){console.warn("Failed to fetch from Firestore, falling back to local data:",n)}return pV},Xx="orders",_V=async n=>(await Kx(Eu(ar,Xx),{...n,createdAt:vl()})).id,YE=async n=>{const e=zx(Eu(ar,Xx),Bx("userId","==",n));return(await By(e)).docs.map(i=>{const a=i.data();return{id:i.id,userId:a.userId,items:a.items,total:a.total,status:a.status,deliveryAddress:a.deliveryAddress,notes:a.notes,estimatedDeliveryTime:a.estimatedDeliveryTime?a.estimatedDeliveryTime.toDate():void 0,createdAt:a.createdAt?.toDate()||new Date}})},Wx="carts",bV=async(n,e)=>{const t=Zi(ar,Wx,n);await Gx(t,{items:e,updatedAt:vl()})},QE=async n=>{const e=Zi(ar,Wx,n),t=await Hx(e);return t.exists()?t.data().items||[]:[]},XE=n=>{let e;const t=new Set,i=(p,y)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const T=e;e=y??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(x=>x(e,T))}},a=()=>e,d={setState:i,getState:a,getInitialState:()=>m,subscribe:p=>(t.add(p),()=>t.delete(p))},m=e=n(i,a,d);return d},EV=(n=>n?XE(n):XE),wV=n=>n;function TV(n,e=wV){const t=xe.useSyncExternalStore(n.subscribe,xe.useCallback(()=>e(n.getState()),[n,e]),xe.useCallback(()=>e(n.getInitialState()),[n,e]));return xe.useDebugValue(t),t}const SV=n=>{const e=EV(n),t=i=>TV(e,i);return Object.assign(t,e),t},xV=(n=>SV);function AV(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var l;const u=m=>m===null?null:JSON.parse(m,void 0),d=(l=t.getItem(a))!=null?l:null;return d instanceof Promise?d.then(u):u(d)},setItem:(a,l)=>t.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>t.removeItem(a)}}const Vp=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return Vp(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Vp(i)(t)}}}},CV=(n,e)=>(t,i,a)=>{let l={storage:AV(()=>localStorage),partialize:M=>M,version:0,merge:(M,L)=>({...L,...M}),...e},u=!1;const d=new Set,m=new Set;let p=l.storage;if(!p)return n((...M)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...M)},i,a);const y=()=>{const M=l.partialize({...i()});return p.setItem(l.name,{state:M,version:l.version})},v=a.setState;a.setState=(M,L)=>(v(M,L),y());const T=n((...M)=>(t(...M),y()),i,a);a.getInitialState=()=>T;let x;const O=()=>{var M,L;if(!p)return;u=!1,d.forEach(V=>{var F;return V((F=i())!=null?F:T)});const H=((L=l.onRehydrateStorage)==null?void 0:L.call(l,(M=i())!=null?M:T))||void 0;return Vp(p.getItem.bind(p))(l.name).then(V=>{if(V)if(typeof V.version=="number"&&V.version!==l.version){if(l.migrate){const F=l.migrate(V.state,V.version);return F instanceof Promise?F.then(B=>[!0,B]):[!0,F]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,V.state];return[!1,void 0]}).then(V=>{var F;const[B,J]=V;if(x=l.merge(J,(F=i())!=null?F:T),t(x,!0),B)return y()}).then(()=>{H?.(x,void 0),x=i(),u=!0,m.forEach(V=>V(x))}).catch(V=>{H?.(void 0,V)})};return a.persist={setOptions:M=>{l={...l,...M},M.storage&&(p=M.storage)},clearStorage:()=>{p?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>O(),hasHydrated:()=>u,onHydrate:M=>(d.add(M),()=>{d.delete(M)}),onFinishHydration:M=>(m.add(M),()=>{m.delete(M)})},l.skipHydration||O(),x||T},RV=CV,Pr=xV()(RV(n=>({cartItems:[],addToCart:e=>n(t=>t.cartItems.find(a=>a.id===e.id)?{cartItems:t.cartItems.map(a=>a.id===e.id?{...a,quantity:a.quantity+1}:a)}:{cartItems:[...t.cartItems,{...e,quantity:1}]}),removeFromCart:e=>n(t=>({cartItems:t.cartItems.filter(i=>i.id!==e)})),updateQuantity:(e,t)=>n(i=>({cartItems:i.cartItems.map(a=>a.id===e?{...a,quantity:t}:a)})),clearCart:()=>n({cartItems:[]})}),{name:"cart-storage"})),IV=({t:n,activeCategory:e,setActiveCategory:t,filteredItems:i,addToCart:a,cartItems:l,removeFromCart:u,updateQuantity:d,handleCheckout:m})=>w.jsx("div",{className:"min-h-screen py-8 px-4 md:px-8 prevent-scroll",children:w.jsxs("div",{className:"max-w-7xl mx-auto",children:[w.jsxs("header",{className:"text-center mb-8",children:[w.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent mb-4 font-vazir",children:n("app.title")}),w.jsx("p",{className:"text-gray-600 text-lg font-vazir",children:n("app.subtitle")})]}),w.jsx(oT,{activeCategory:e,onCategoryChange:t}),w.jsx("div",{className:"max-w-7xl mx-auto",children:w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[w.jsx("div",{className:"lg:col-span-2",children:w.jsx(bD,{items:i,strategy:Qp,children:w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:i.map(p=>w.jsx(ID,{item:p,onAddToCart:a},p.id))})})}),w.jsx("div",{className:"hidden lg:block lg:col-span-1",children:w.jsx(Sk,{items:l,onRemoveItem:u,onUpdateQuantity:d,onCheckout:m})})]})})]})});function NV(){const{t:n,i18n:e}=Cr(),t=fw(),[i,a]=S.useState([]),[l,u]=S.useState("all"),[d,m]=S.useState(null),[p,y]=S.useState(!1),[v,T]=S.useState(!1),[x,O]=S.useState(null),[M,L]=S.useState([]),[H,V]=S.useState(!1),[F,B]=S.useState(!1),[J,ae]=S.useState(null),C=Pr(ue=>ue.cartItems),R=S.useRef(null),N=S.useRef(!1);S.useEffect(()=>{(async()=>{try{const ce=await vV();a(ce)}catch(ce){console.error("Error loading menu items:",ce),_e.error("Failed to load menu items")}})()},[]),S.useEffect(()=>{(async()=>{if(N.current)if(x)try{const ce=await QE(x.id);console.log("Loaded cart from DB:",ce),ce.length>0?Pr.setState({cartItems:ce}):console.log("DB cart empty, keeping current cart")}catch(ce){console.error("Error loading cart from DB:",ce)}else if(window.location.hash)try{const ce=decodeURIComponent(window.location.hash.slice(1)),Ke=JSON.parse(ce);console.log("Reloaded cart from hash:",Ke),Pr.setState({cartItems:Ke})}catch(ce){console.error("Error parsing saved cart:",ce)}else console.log("No saved cart in hash on logout"),Pr.setState({cartItems:[]});else{if(!x&&window.location.hash)try{const ce=decodeURIComponent(window.location.hash.slice(1)),Ke=JSON.parse(ce);console.log("Loaded cart from URL hash:",Ke),Pr.setState({cartItems:Ke})}catch(ce){console.error("Error parsing cart from hash:",ce)}else console.log("No saved cart in hash or user logged in");N.current=!0}})()},[x]),S.useEffect(()=>{(async()=>{if(console.log("Saving cart:",C),window.location.hash=encodeURIComponent(JSON.stringify(C)),x)try{await bV(x.id,C),console.log("Saved cart to DB:",C)}catch(ce){console.error("Error saving cart to DB:",ce)}else console.log("Cart saved to URL hash (anonymous)")})()},[C,x]),S.useEffect(()=>{const ue=iV(async ce=>{if(ce){const Ke=await KE(ce.uid);if(Ke){O(Ke);try{const dt=await QE(Ke.id);dt.length>0&&Pr.setState({cartItems:dt})}catch(dt){console.error("Error loading cart from DB:",dt)}}}else O(null),L([])});return()=>ue()},[]),S.useEffect(()=>{(async()=>{if(x)try{const ce=await YE(x.id);L(ce)}catch(ce){console.error("Error loading orders:",ce)}})()},[x]);const P=eN(Qb(Hw,{activationConstraint:{distance:8}}),Qb($w,{activationConstraint:{delay:300,tolerance:8}})),D=S.useMemo(()=>l==="all"?i:i.filter(ue=>ue.category===l),[l,i]),U=S.useCallback(()=>{t("/")},[t]),k=S.useCallback(()=>{t("/cart")},[t]),be=S.useCallback(()=>{t("/profile")},[t]),Ge=S.useCallback(()=>{T(!0)},[]),X=S.useCallback(async()=>{try{await tV(),O(null),Pr.getState().clearCart(),_e.info(n("auth.logout"))}catch(ue){console.error("Logout error:",ue)}},[n]),oe=S.useCallback(()=>{const ue=sV();ue&&KE(ue.uid).then(ce=>{ce&&O(ce)})},[]),he=S.useCallback(ue=>{m(ue.active.id)},[]),Se=S.useCallback(ue=>{const ce=Date.now();if(R.current&&ce-R.current<500)return;R.current=ce,C.find(dt=>dt.id===ue.id)?_e.info(n("notifications.quantityIncreased",{item:e.language==="fa"?ue.name.fa:ue.name.en})):_e.success(n("notifications.addedToCart",{item:e.language==="fa"?ue.name.fa:ue.name.en})),Pr.getState().addToCart({...ue,quantity:1})},[C,n,e.language]),De=S.useCallback(ue=>{const ce=C.find(Ke=>Ke.id===ue);ce&&_e.success(n("notifications.removedFromCart",{item:e.language==="fa"?ce.name.fa:ce.name.en})),Pr.getState().removeFromCart(ue)},[C,n,e.language]),z=S.useCallback((ue,ce)=>{if(ce<=0){De(ue);return}Pr.getState().updateQuantity(ue,ce)},[De]),ee=S.useCallback(ue=>{const{active:ce,over:Ke}=ue;if(m(null),!!Ke&&Ke.id==="cart-droppable"){const dt=D.find(xn=>xn.id===ce.id);dt&&Se(dt);return}},[D,Se]),le=S.useCallback(async()=>{if(!x){y(!0);return}if(C.length===0){_e.warning(n("notifications.emptyCart"));return}try{const ue=await Fy(x.id);console.log("User addresses:",ue);const ce=ue.find(Ke=>Ke.isDefault);if(console.log("Default address:",ce),!ce){_e.warning(n("address.selectForOrder")),t("/profile",{state:{activeTab:"address"}});return}ae(ce),B(!0)}catch(ue){console.error("Checkout error:",ue),_e.error("Failed to prepare order")}},[x,C,n,t]),de=S.useCallback(async()=>{if(!(!J||!x))try{const ue=C.reduce((ce,Ke)=>ce+Ke.price*Ke.quantity,0);if(await _V({userId:x.id,items:[...C],total:ue,status:"pending",deliveryAddress:J}),Pr.getState().clearCart(),B(!1),ae(null),_e.success(n("notifications.orderPlaced",{total:ue.toLocaleString("fa-IR")})),x)try{const ce=await YE(x.id);L(ce)}catch(ce){console.error("Error reloading orders:",ce)}}catch(ue){console.error("Order placement error:",ue),_e.error("Failed to place order")}},[J,x,C,n]),Te=S.useCallback(()=>{B(!1),ae(null),t("/profile",{state:{activeTab:"address"}})},[t]),ye=d?D.find(ue=>ue.id===d):null,Pe=S.useCallback(()=>w.jsx("div",{className:"min-h-screen py-8 px-4 md:px-8",children:w.jsx("div",{className:"max-w-7xl mx-auto",children:w.jsx(Ck,{items:C,onRemoveItem:De,onUpdateQuantity:z,onCheckout:le,onBack:U,activeCategory:l,onCategoryChange:u})})}),[C,De,z,le,U,l,u]),tt=S.useCallback(()=>w.jsx("div",{className:"min-h-screen py-8 px-4 md:px-8",children:w.jsx("div",{className:"max-w-7xl mx-auto",children:x?w.jsx(gV,{user:x,onUpdateProfile:async ue=>{await rV(x.id,ue),O({...x,...ue})},onChangePassword:async(ue,ce)=>{try{return await nV(ce),!0}catch(Ke){return console.error("Password change error:",Ke),!1}},onRequestPasswordReset:async ue=>{try{return await Qx(ue),!0}catch(ce){return console.error("Password reset error:",ce),!1}},onLogout:X,onBack:U}):w.jsxs("div",{className:"text-center py-12",children:[w.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg mb-4",children:"Please login to view your profile"}),w.jsx("button",{onClick:()=>y(!0),className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-vazir",children:n("auth.login")})]})})}),[x,n,X,U,y]);return w.jsxs(JN,{sensors:P,collisionDetection:aN,onDragStart:he,onDragEnd:ee,children:[w.jsx(Yk,{isLoggedIn:!!x,userName:x?.name,onLoginClick:()=>y(!0),onLogout:X,onOrdersClick:()=>T(!0),onProfileClick:be,cartItemCount:C.reduce((ue,ce)=>ue+ce.quantity,0),onCartClick:k,onMenuClick:()=>V(!0),onHomeClick:U}),w.jsxs(MC,{children:[w.jsx(td,{path:"/",element:w.jsx(IV,{t:n,activeCategory:l,setActiveCategory:u,filteredItems:D,addToCart:Se,cartItems:C,removeFromCart:De,updateQuantity:z,handleCheckout:le})}),w.jsx(td,{path:"/cart",element:w.jsx(Pe,{})}),w.jsx(td,{path:"/profile",element:w.jsx(tt,{})})]}),w.jsx(pD,{children:ye?w.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden transform rotate-6 scale-110 opacity-90",children:[w.jsx("div",{className:"relative h-52 overflow-hidden",children:w.jsx("img",{src:ye.image,alt:e.language==="fa"?ye.name.fa:ye.name.en,className:"w-full h-full object-cover",draggable:!1})}),w.jsx("div",{className:"p-4",children:w.jsx("h3",{className:"text-lg font-bold text-gray-800 font-vazir",children:e.language==="fa"?ye.name.fa:ye.name.en})})]}):null}),w.jsx(oV,{isOpen:p,onClose:()=>y(!1),onAuthSuccess:oe}),w.jsx(cV,{isOpen:v,onClose:()=>T(!1),orders:M.filter(ue=>ue.userId===x?.id)}),F&&J&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-surface dark:bg-surface-dark rounded-2xl p-6 w-full max-w-md m-4 border border-gray-200 dark:border-gray-700",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4 font-vazir",children:n("address.confirmDelivery")}),w.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[w.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:[n("address.deliveryTo"),":"]}),w.jsxs("p",{className:"text-gray-800 dark:text-white font-medium",children:[J.street,", ",J.city]}),J.notes&&w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:J.notes})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:Te,className:"flex-1 px-4 py-2 text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:n("address.change")}),w.jsx("button",{onClick:de,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:n("common.confirm")})]})]})}),w.jsx(Qk,{isOpen:H,onClose:()=>V(!1),isLoggedIn:!!x,userName:x?.name,onLoginClick:()=>y(!0),onLogout:X,onOrdersClick:Ge,onProfileClick:be,onHomeClick:U,onCartClick:k,cartItemCount:C.reduce((ue,ce)=>ue+ce.quantity,0)}),w.jsx(NO,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:e.language==="fa",pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}V2.createRoot(document.getElementById("root")).render(w.jsx(S.StrictMode,{children:w.jsx(iR,{children:w.jsx(Kk,{children:w.jsx(NV,{})})})}));
